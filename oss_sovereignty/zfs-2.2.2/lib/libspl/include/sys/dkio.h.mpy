{
  "module_name": "dkio.h",
  "hash_id": "559eef480ec245b65a003f2916e8e49e231db33007d51fb664b8a84607f35195",
  "original_prompt": "Ingested from zfs-2.2.2/lib/libspl/include/sys/dkio.h",
  "human_readable_source": " \n \n\n#ifndef _SYS_DKIO_H\n#define\t_SYS_DKIO_H\n\n\n\n#include <sys/dklabel.h>\t \n\n#ifdef\t__cplusplus\nextern \"C\" {\n#endif\n\n \n\n \n\n#define\tDK_DEVLEN\t16\t\t \n\t\t\t\t\t \n\n \nstruct dk_cinfo {\n\tchar\tdki_cname[DK_DEVLEN];\t \n\tushort_t dki_ctype;\t\t \n\tushort_t dki_flags;\t\t \n\tushort_t dki_cnum;\t\t \n\tuint_t\tdki_addr;\t\t \n\tuint_t\tdki_space;\t\t \n\tuint_t\tdki_prio;\t\t \n\tuint_t\tdki_vec;\t\t \n\tchar\tdki_dname[DK_DEVLEN];\t \n\tuint_t\tdki_unit;\t\t \n\tushort_t dki_partition;\t\t \n\tushort_t dki_maxtransfer;\t \n};\n\n \n#define\tDKC_UNKNOWN\t0\n#define\tDKC_CDROM\t1\t \n#define\tDKC_WDC2880\t2\n#define\tDKC_XXX_0\t3\t \n#define\tDKC_XXX_1\t4\t \n#define\tDKC_DSD5215\t5\n#define\tDKC_ACB4000\t7\n#define\tDKC_MD21\t8\n#define\tDKC_XXX_2\t9\t \n#define\tDKC_NCRFLOPPY\t10\n#define\tDKC_SMSFLOPPY\t12\n#define\tDKC_SCSI_CCS\t13\t \n#define\tDKC_INTEL82072\t14\t \n#define\tDKC_MD\t\t16\t \n#define\tDKC_INTEL82077\t19\t \n#define\tDKC_DIRECT\t20\t \n#define\tDKC_PCMCIA_MEM\t21\t \n#define\tDKC_PCMCIA_ATA\t22\t \n#define\tDKC_VBD\t\t23\t \n\n \n\n#define\tDKC_CUSTOMER_BASE\t1024\n\n \n#define\tDKI_BAD144\t0x01\t \n#define\tDKI_MAPTRK\t0x02\t \n#define\tDKI_FMTTRK\t0x04\t \n#define\tDKI_FMTVOL\t0x08\t \n#define\tDKI_FMTCYL\t0x10\t \n#define\tDKI_HEXUNIT\t0x20\t \n#define\tDKI_PCMCIA_PFD\t0x40\t \n\n \nstruct dk_allmap {\n\tstruct dk_map\tdka_map[NDKMAP];\n};\n\n#if defined(_SYSCALL32)\nstruct dk_allmap32 {\n\tstruct dk_map32\tdka_map[NDKMAP];\n};\n#endif  \n\n \nstruct dk_geom {\n\tunsigned short\tdkg_ncyl;\t \n\tunsigned short\tdkg_acyl;\t \n\tunsigned short\tdkg_bcyl;\t \n\tunsigned short\tdkg_nhead;\t \n\tunsigned short\tdkg_obs1;\t \n\tunsigned short\tdkg_nsect;\t \n\tunsigned short\tdkg_intrlv;\t \n\tunsigned short\tdkg_obs2;\t \n\tunsigned short\tdkg_obs3;\t \n\tunsigned short\tdkg_apc;\t \n\tunsigned short\tdkg_rpm;\t \n\tunsigned short\tdkg_pcyl;\t \n\tunsigned short\tdkg_write_reinstruct;\t \n\tunsigned short\tdkg_read_reinstruct;\t \n\tunsigned short\tdkg_extra[7];\t \n};\n\n \n#define\tdkg_bhead\tdkg_obs1\t \n#define\tdkg_gap1\tdkg_obs2\t \n#define\tdkg_gap2\tdkg_obs3\t \n\n \n#define\tDKIOC\t\t(0x04 << 8)\n\n \n#define\tDKIOCGGEOM\t(DKIOC|1)\t\t \n#define\tDKIOCINFO\t(DKIOC|3)\t\t \n#define\tDKIOCEJECT\t(DKIOC|6)\t\t \n#define\tDKIOCGVTOC\t(DKIOC|11)\t\t \n#define\tDKIOCSVTOC\t(DKIOC|12)\t\t \n\n \n#define\tDKIOCFLUSHWRITECACHE\t(DKIOC|34)\t \n\nstruct dk_callback {\n\tvoid (*dkc_callback)(void *dkc_cookie, int error);\n\tvoid *dkc_cookie;\n\tint dkc_flag;\n};\n\n \n#define\tFLUSH_VOLATILE\t\t0x1\t \n\t\t\t\t\t \n\t\t\t\t\t \n\n#define\tDKIOCGETWCE\t\t(DKIOC|36)\t \n\t\t\t\t\t\t \n#define\tDKIOCSETWCE\t\t(DKIOC|37)\t \n\n \n#define\tDKIOCSGEOM\t(DKIOC|2)\t\t \n#define\tDKIOCSAPART\t(DKIOC|4)\t\t \n#define\tDKIOCGAPART\t(DKIOC|5)\t\t \n#define\tDKIOCG_PHYGEOM\t(DKIOC|32)\t\t \n#define\tDKIOCG_VIRTGEOM\t(DKIOC|33)\t\t \n\n \n#define\tDKIOCLOCK\t(DKIOC|7)\t \n#define\tDKIOCUNLOCK\t(DKIOC|8)\t \n#define\tDKIOCSTATE\t(DKIOC|13)\t \n#define\tDKIOCREMOVABLE\t(DKIOC|16)\t \n\n\n \n#define\tDKIOCHOTPLUGGABLE\t(DKIOC|35)\t \n\n \n#define\tDKIOCADDBAD\t(DKIOC|20)\t \n#define\tDKIOCGETDEF\t(DKIOC|21)\t \n\n \n#ifdef _SYSCALL32\nstruct defect_header32 {\n\tint\t\thead;\n\tcaddr32_t\tbuffer;\n};\n#endif  \n\nstruct defect_header {\n\tint\t\thead;\n\tcaddr_t\t\tbuffer;\n};\n\n#define\tDKIOCPARTINFO\t(DKIOC|22)\t \n\n \n#ifdef _SYSCALL32\nstruct part_info32 {\n\tuint32_t\tp_start;\n\tint\t\tp_length;\n};\n#endif  \n\nstruct part_info {\n\tuint64_t\tp_start;\n\tint\t\tp_length;\n};\n\n \n#define\tDKIOC_EBP_ENABLE  (DKIOC|40)\t \n#define\tDKIOC_EBP_DISABLE (DKIOC|41)\t \n\n \nenum dkio_state { DKIO_NONE, DKIO_EJECTED, DKIO_INSERTED, DKIO_DEV_GONE };\n\n#define\tDKIOCGMEDIAINFO\t(DKIOC|42)\t \n\n \n#define\tDKIOCGMBOOT\t(DKIOC|43)\t \n#define\tDKIOCSMBOOT\t(DKIOC|44)\t \n\n \n#define\tDKIOCGTEMPERATURE\t(DKIOC|45)\t \n\n \n\nstruct\tdk_temperature\t{\n\tuint_t\t\tdkt_flags;\t \n\tshort\t\tdkt_cur_temp;\t \n\tshort\t\tdkt_ref_temp;\t \n};\n\n#define\tDKT_BYPASS_PM\t\t0x1\n#define\tDKT_INVALID_TEMP\t0xFFFF\n\n\n \nstruct dk_minfo {\n\tuint_t\t\tdki_media_type;\t \n\tuint_t\t\tdki_lbsize;\t \n\tdiskaddr_t\tdki_capacity;\t \n};\n\n \n#define\tDK_UNKNOWN\t\t0x00\t \n\n\n \n#define\tDK_REMOVABLE_DISK\t0x02  \n#define\tDK_MO_ERASABLE\t\t0x03  \n#define\tDK_MO_WRITEONCE\t\t0x04  \n#define\tDK_AS_MO\t\t0x05  \n#define\tDK_CDROM\t\t0x08  \n#define\tDK_CDR\t\t\t0x09  \n#define\tDK_CDRW\t\t\t0x0A  \n#define\tDK_DVDROM\t\t0x10  \n#define\tDK_DVDR\t\t\t0x11  \n#define\tDK_DVDRAM\t\t0x12  \n\n \n#define\tDK_FIXED_DISK\t\t0x10001\t \n#define\tDK_FLOPPY\t\t0x10002  \n#define\tDK_ZIP\t\t\t0x10003  \n#define\tDK_JAZ\t\t\t0x10004  \n\n#define\tDKIOCSETEFI\t(DKIOC|17)\t\t \n#define\tDKIOCGETEFI\t(DKIOC|18)\t\t \n\n#define\tDKIOCPARTITION\t(DKIOC|9)\t\t \n\n \n\n#define\tDKIOCGETVOLCAP\t(DKIOC | 25)\t \n#define\tDKIOCSETVOLCAP\t(DKIOC | 26)\t \n#define\tDKIOCDMR\t(DKIOC | 27)\t \n\ntypedef uint_t volcapinfo_t;\n\ntypedef uint_t volcapset_t;\n\n#define\tDKV_ABR_CAP 0x00000001\t\t \n#define\tDKV_DMR_CAP 0x00000002\t\t \n\ntypedef struct volcap {\n\tvolcapinfo_t vc_info;\t \n\tvolcapset_t vc_set;\t \n} volcap_t;\n\n#define\tVOL_SIDENAME 256\n\ntypedef struct vol_directed_rd {\n\tint\t\tvdr_flags;\n\toffset_t\tvdr_offset;\n\tsize_t\t\tvdr_nbytes;\n\tsize_t\t\tvdr_bytesread;\n\tvoid\t\t*vdr_data;\n\tint\t\tvdr_side;\n\tchar\t\tvdr_side_name[VOL_SIDENAME];\n} vol_directed_rd_t;\n\n#define\tDKV_SIDE_INIT\t\t(-1)\n#define\tDKV_DMR_NEXT_SIDE\t0x00000001\n#define\tDKV_DMR_DONE\t\t0x00000002\n#define\tDKV_DMR_ERROR\t\t0x00000004\n#define\tDKV_DMR_SUCCESS\t\t0x00000008\n#define\tDKV_DMR_SHORT\t\t0x00000010\n\n#ifdef _MULTI_DATAMODEL\n#if _LONG_LONG_ALIGNMENT == 8 && _LONG_LONG_ALIGNMENT_32 == 4\n#pragma pack(4)\n#endif\ntypedef struct vol_directed_rd32 {\n\tint32_t\t\tvdr_flags;\n\toffset_t\tvdr_offset;\t \n\tsize32_t\tvdr_nbytes;\n\tsize32_t\tvdr_bytesread;\n\tcaddr32_t\tvdr_data;\n\tint32_t\t\tvdr_side;\n\tchar\t\tvdr_side_name[VOL_SIDENAME];\n} vol_directed_rd32_t;\n#if _LONG_LONG_ALIGNMENT == 8 && _LONG_LONG_ALIGNMENT_32 == 4\n#pragma pack()\n#endif\n#endif\t \n\n \n#define\tDKIOC_GETDISKID\t(DKIOC|46)\n\n \n#define\tDKD_ATA_TYPE\t0x01  \n#define\tDKD_SCSI_TYPE\t0x02  \n\n#define\tDKD_ATA_MODEL\t40\t \n#define\tDKD_ATA_FWVER\t8\t \n#define\tDKD_ATA_SERIAL\t20\t \n\n#define\tDKD_SCSI_VENDOR\t8\t \n#define\tDKD_SCSI_PRODUCT 16\t \n#define\tDKD_SCSI_REVLEVEL 4\t \n#define\tDKD_SCSI_SERIAL 12\t \n\n \ntypedef struct dk_disk_id {\n\tuint_t\tdkd_dtype;\n\tunion {\n\t\tstruct {\n\t\t\tchar dkd_amodel[DKD_ATA_MODEL];\t\t \n\t\t\tchar dkd_afwver[DKD_ATA_FWVER];\t\t \n\t\t\tchar dkd_aserial[DKD_ATA_SERIAL];\t \n\t\t} ata_disk_id;\n\t\tstruct {\n\t\t\tchar dkd_svendor[DKD_SCSI_VENDOR];\t \n\t\t\tchar dkd_sproduct[DKD_SCSI_PRODUCT];\t \n\t\t\tchar dkd_sfwver[DKD_SCSI_REVLEVEL];\t \n\t\t\tchar dkd_sserial[DKD_SCSI_SERIAL];\t \n\t\t} scsi_disk_id;\n\t} disk_id;\n} dk_disk_id_t;\n\n \n#define\tDKIOC_UPDATEFW\t\t(DKIOC|47)\n\n \ntypedef struct dk_updatefw {\n\tcaddr_t\t\tdku_ptrbuf;\t \n\tuint_t\t\tdku_size;\t \n\tuint8_t\t\tdku_type;\t \n} dk_updatefw_t;\n\n#ifdef _SYSCALL32\ntypedef struct dk_updatefw_32 {\n\tcaddr32_t\tdku_ptrbuf;\t \n\tuint_t\t\tdku_size;\t \n\tuint8_t\t\tdku_type;\t \n} dk_updatefw_32_t;\n#endif  \n\n \n#define\tFW_TYPE_TEMP\t0x0\t\t \n#define\tFW_TYPE_PERM\t0x1\t\t \n\n\n#ifdef\t__cplusplus\n}\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}