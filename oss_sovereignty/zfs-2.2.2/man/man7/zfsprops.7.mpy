{
  "module_name": "zfsprops.7",
  "hash_id": "d75b5c2d7f41dd847ebe89e8552019ba5cb3e0b0f0f3b375bfd2e7a7c0ee29a0",
  "original_prompt": "Ingested from zfs-2.2.2/man/man7/zfsprops.7",
  "human_readable_source": ".\\\"\n.\\\" CDDL HEADER START\n.\\\"\n.\\\" The contents of this file are subject to the terms of the\n.\\\" Common Development and Distribution License (the \"License\").\n.\\\" You may not use this file except in compliance with the License.\n.\\\"\n.\\\" You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE\n.\\\" or https://opensource.org/licenses/CDDL-1.0.\n.\\\" See the License for the specific language governing permissions\n.\\\" and limitations under the License.\n.\\\"\n.\\\" When distributing Covered Code, include this CDDL HEADER in each\n.\\\" file and include the License file at usr/src/OPENSOLARIS.LICENSE.\n.\\\" If applicable, add the following below this CDDL HEADER, with the\n.\\\" fields enclosed by brackets \"[]\" replaced with your own identifying\n.\\\" information: Portions Copyright [yyyy] [name of copyright owner]\n.\\\"\n.\\\" CDDL HEADER END\n.\\\"\n.\\\" Copyright (c) 2009 Sun Microsystems, Inc. All Rights Reserved.\n.\\\" Copyright 2011 Joshua M. Clulow <josh@sysmgr.org>\n.\\\" Copyright (c) 2011, 2019 by Delphix. All rights reserved.\n.\\\" Copyright (c) 2011, Pawel Jakub Dawidek <pjd@FreeBSD.org>\n.\\\" Copyright (c) 2012, Glen Barber <gjb@FreeBSD.org>\n.\\\" Copyright (c) 2012, Bryan Drewery <bdrewery@FreeBSD.org>\n.\\\" Copyright (c) 2013, Steven Hartland <smh@FreeBSD.org>\n.\\\" Copyright (c) 2013 by Saso Kiselkov. All rights reserved.\n.\\\" Copyright (c) 2014, Joyent, Inc. All rights reserved.\n.\\\" Copyright (c) 2014 by Adam Stevko. All rights reserved.\n.\\\" Copyright (c) 2014 Integros [integros.com]\n.\\\" Copyright (c) 2016 Nexenta Systems, Inc. All Rights Reserved.\n.\\\" Copyright (c) 2014, Xin LI <delphij@FreeBSD.org>\n.\\\" Copyright (c) 2014-2015, The FreeBSD Foundation, All Rights Reserved.\n.\\\" Copyright 2019 Richard Laager. All rights reserved.\n.\\\" Copyright 2018 Nexenta Systems, Inc.\n.\\\" Copyright 2019 Joyent, Inc.\n.\\\" Copyright (c) 2019, Kjeld Schouten-Lebbing\n.\\\" Copyright (c) 2022 Hewlett Packard Enterprise Development LP.\n.\\\"\n.Dd August 8, 2023\n.Dt ZFSPROPS 7\n.Os\n.\n.Sh NAME\n.Nm zfsprops\n.Nd native and user-defined properties of ZFS datasets\n.\n.Sh DESCRIPTION\nProperties are divided into two types, native properties and user-defined\n.Po or\n.Qq user\n.Pc\nproperties.\nNative properties either export internal statistics or control ZFS behavior.\nIn addition, native properties are either editable or read-only.\nUser properties have no effect on ZFS behavior, but you can use them to annotate\ndatasets in a way that is meaningful in your environment.\nFor more information about user properties, see the\n.Sx User Properties\nsection, below.\n.\n.Ss Native Properties\nEvery dataset has a set of properties that export statistics about the dataset\nas well as control various behaviors.\nProperties are inherited from the parent unless overridden by the child.\nSome properties apply only to certain types of datasets\n.Pq file systems, volumes, or snapshots .\n.Pp\nThe values of numeric properties can be specified using human-readable suffixes\n.Po for example,\n.Sy k ,\n.Sy KB ,\n.Sy M ,\n.Sy Gb ,\nand so forth, up to\n.Sy Z\nfor zettabyte\n.Pc .\nThe following are all valid\n.Pq and equal\nspecifications:\n.Li 1536M ,\n.Li 1.5g ,\n.Li 1.50GB .\n.Pp\nThe values of non-numeric properties are case sensitive and must be lowercase,\nexcept for\n.Sy mountpoint ,\n.Sy sharenfs ,\nand\n.Sy sharesmb .\n.Pp\nThe following native properties consist of read-only statistics about the\ndataset.\nThese properties can be neither set, nor inherited.\nNative properties apply to all dataset types unless otherwise noted.\n.Bl -tag -width \"usedbyrefreservation\"\n.It Sy available\nThe amount of space available to the dataset and all its children, assuming that\nthere is no other activity in the pool.\nBecause space is shared within a pool, availability can be limited by any number\nof factors, including physical pool size, quotas, reservations, or other\ndatasets within the pool.\n.Pp\nThis property can also be referred to by its shortened column name,\n.Sy avail .\n.It Sy compressratio\nFor non-snapshots, the compression ratio achieved for the\n.Sy used\nspace of this dataset, expressed as a multiplier.\nThe\n.Sy used\nproperty includes descendant datasets, and, for clones, does not include the\nspace shared with the origin snapshot.\nFor snapshots, the\n.Sy compressratio\nis the same as the\n.Sy refcompressratio\nproperty.\nCompression can be turned on by running:\n.Nm zfs Cm set Sy compression Ns = Ns Sy on Ar dataset .\nThe default value is\n.Sy off .\n.It Sy createtxg\nThe transaction group (txg) in which the dataset was created.\nBookmarks have the same\n.Sy createtxg\nas the snapshot they are initially tied to.\nThis property is suitable for ordering a list of snapshots,\ne.g. for incremental send and receive.\n.It Sy creation\nThe time this dataset was created.\n.It Sy clones\nFor snapshots, this property is a comma-separated list of filesystems or volumes\nwhich are clones of this snapshot.\nThe clones'\n.Sy origin\nproperty is this snapshot.\nIf the\n.Sy clones\nproperty is not empty, then this snapshot can not be destroyed\n.Po even with the\n.Fl r\nor\n.Fl f\noptions\n.Pc .\nThe roles of origin and clone can be swapped by promoting the clone with the\n.Nm zfs Cm promote\ncommand.\n.It Sy defer_destroy\nThis property is\n.Sy on\nif the snapshot has been marked for deferred destroy by using the\n.Nm zfs Cm destroy Fl d\ncommand.\nOtherwise, the property is\n.Sy off .\n.It Sy encryptionroot\nFor encrypted datasets, indicates where the dataset is currently inheriting its\nencryption key from.\nLoading or unloading a key for the\n.Sy encryptionroot\nwill implicitly load / unload the key for any inheriting datasets (see\n.Nm zfs Cm load-key\nand\n.Nm zfs Cm unload-key\nfor details).\nClones will always share an\nencryption key with their origin.\nSee the\n.Sx Encryption\nsection of\n.Xr zfs-load-key 8\nfor details.\n.It Sy filesystem_count\nThe total number of filesystems and volumes that exist under this location in\nthe dataset tree.\nThis value is only available when a\n.Sy filesystem_limit\nhas been set somewhere in the tree under which the dataset resides.\n.It Sy keystatus\nIndicates if an encryption key is currently loaded into ZFS.\nThe possible values are\n.Sy none ,\n.Sy available ,\nand\n.Sy unavailable .\nSee\n.Nm zfs Cm load-key\nand\n.Nm zfs Cm unload-key .\n.It Sy guid\nThe 64 bit GUID of this dataset or bookmark which does not change over its\nentire lifetime.\nWhen a snapshot is sent to another pool, the received snapshot has the same\nGUID.\nThus, the\n.Sy guid\nis suitable to identify a snapshot across pools.\n.It Sy logicalreferenced\nThe amount of space that is\n.Qq logically\naccessible by this dataset.\nSee the\n.Sy referenced\nproperty.\nThe logical space ignores the effect of the\n.Sy compression\nand\n.Sy copies\nproperties, giving a quantity closer to the amount of data that applications\nsee.\nHowever, it does include space consumed by metadata.\n.Pp\nThis property can also be referred to by its shortened column name,\n.Sy lrefer .\n.It Sy logicalused\nThe amount of space that is\n.Qq logically\nconsumed by this dataset and all its descendents.\nSee the\n.Sy used\nproperty.\nThe logical space ignores the effect of the\n.Sy compression\nand\n.Sy copies\nproperties, giving a quantity closer to the amount of data that applications\nsee.\nHowever, it does include space consumed by metadata.\n.Pp\nThis property can also be referred to by its shortened column name,\n.Sy lused .\n.It Sy mounted\nFor file systems, indicates whether the file system is currently mounted.\nThis property can be either\n.Sy yes\nor\n.Sy no .\n.It Sy objsetid\nA unique identifier for this dataset within the pool.\nUnlike the dataset's\n.Sy guid , No the Sy objsetid\nof a dataset is not transferred to other pools when the snapshot is copied\nwith a send/receive operation.\nThe\n.Sy objsetid\ncan be reused (for a new dataset) after the dataset is deleted.\n.It Sy origin\nFor cloned file systems or volumes, the snapshot from which the clone was\ncreated.\nSee also the\n.Sy clones\nproperty.\n.It Sy receive_resume_token\nFor filesystems or volumes which have saved partially-completed state from\n.Nm zfs Cm receive Fl s ,\nthis opaque token can be provided to\n.Nm zfs Cm send Fl t\nto resume and complete the\n.Nm zfs Cm receive .\n.It Sy redact_snaps\nFor bookmarks, this is the list of snapshot guids the bookmark contains a\nredaction\nlist for.\nFor snapshots, this is the list of snapshot guids the snapshot is redacted with\nrespect to.\n.It Sy referenced\nThe amount of data that is accessible by this dataset, which may or may not be\nshared with other datasets in the pool.\nWhen a snapshot or clone is created, it initially references the same amount of\nspace as the file system or snapshot it was created from, since its contents are\nidentical.\n.Pp\nThis property can also be referred to by its shortened column name,\n.Sy refer .\n.It Sy refcompressratio\nThe compression ratio achieved for the\n.Sy referenced\nspace of this dataset, expressed as a multiplier.\nSee also the\n.Sy compressratio\nproperty.\n.It Sy snapshot_count\nThe total number of snapshots that exist under this location in the dataset\ntree.\nThis value is only available when a\n.Sy snapshot_limit\nhas been set somewhere in the tree under which the dataset resides.\n.It Sy type\nThe type of dataset:\n.Sy filesystem ,\n.Sy volume ,\n.Sy snapshot ,\nor\n.Sy bookmark .\n.It Sy used\nThe amount of space consumed by this dataset and all its descendents.\nThis is the value that is checked against this dataset's quota and reservation.\nThe space used does not include this dataset's reservation, but does take into\naccount the reservations of any descendent datasets.\nThe amount of space that a dataset consumes from its parent, as well as the\namount of space that is freed if this dataset is recursively destroyed, is the\ngreater of its space used and its reservation.\n.Pp\nThe used space of a snapshot\n.Po see the\n.Sx Snapshots\nsection of\n.Xr zfsconcepts 7\n.Pc\nis space that is referenced exclusively by this snapshot.\nIf this snapshot is destroyed, the amount of\n.Sy used\nspace will be freed.\nSpace that is shared by multiple snapshots isn't accounted for in this metric.\nWhen a snapshot is destroyed, space that was previously shared with this\nsnapshot can become unique to snapshots adjacent to it, thus changing the used\nspace of those snapshots.\nThe used space of the latest snapshot can also be affected by changes in the\nfile system.\nNote that the\n.Sy used\nspace of a snapshot is a subset of the\n.Sy written\nspace of the snapshot.\n.Pp\nThe amount of space used, available, or referenced does not take into account\npending changes.\nPending changes are generally accounted for within a few seconds.\nCommitting a change to a disk using\n.Xr fsync 2\nor\n.Sy O_SYNC\ndoes not necessarily guarantee that the space usage information is updated\nimmediately.\n.It Sy usedby*\nThe\n.Sy usedby*\nproperties decompose the\n.Sy used\nproperties into the various reasons that space is used.\nSpecifically,\n.Sy used No =\n.Sy usedbychildren No +\n.Sy usedbydataset No +\n.Sy usedbyrefreservation No +\n.Sy usedbysnapshots .\nThese properties are only available for datasets created on\n.Nm zpool\n.Qo version 13 Qc\npools.\n.It Sy usedbychildren\nThe amount of space used by children of this dataset, which would be freed if\nall the dataset's children were destroyed.\n.It Sy usedbydataset\nThe amount of space used by this dataset itself, which would be freed if the\ndataset were destroyed\n.Po after first removing any\n.Sy refreservation\nand destroying any necessary snapshots or descendents\n.Pc .\n.It Sy usedbyrefreservation\nThe amount of space used by a\n.Sy refreservation\nset on this dataset, which would be freed if the\n.Sy refreservation\nwas removed.\n.It Sy usedbysnapshots\nThe amount of space consumed by snapshots of this dataset.\nIn particular, it is the amount of space that would be freed if all of this\ndataset's snapshots were destroyed.\nNote that this is not simply the sum of the snapshots'\n.Sy used\nproperties because space can be shared by multiple snapshots.\n.It Sy userused Ns @ Ns Ar user\nThe amount of space consumed by the specified user in this dataset.\nSpace is charged to the owner of each file, as displayed by\n.Nm ls Fl l .\nThe amount of space charged is displayed by\n.Nm du No and Nm ls Fl s .\nSee the\n.Nm zfs Cm userspace\ncommand for more information.\n.Pp\nUnprivileged users can access only their own space usage.\nThe root user, or a user who has been granted the\n.Sy userused\nprivilege with\n.Nm zfs Cm allow ,\ncan access everyone's usage.\n.Pp\nThe\n.Sy userused Ns @ Ns Ar \u2026\nproperties are not displayed by\n.Nm zfs Cm get Sy all .\nThe user's name must be appended after the\n.Sy @\nsymbol, using one of the following forms:\n.Bl -bullet -compact -offset 4n\n.It\nPOSIX name\n.Pq Qq joe\n.It\nPOSIX numeric ID\n.Pq Qq 789\n.It\nSID name\n.Pq Qq joe.smith@mydomain\n.It\nSID numeric ID\n.Pq Qq S-1-123-456-789\n.El\n.Pp\nFiles created on Linux always have POSIX owners.\n.It Sy userobjused Ns @ Ns Ar user\nThe\n.Sy userobjused\nproperty is similar to\n.Sy userused\nbut instead it counts the number of objects consumed by a user.\nThis property counts all objects allocated on behalf of the user,\nit may differ from the results of system tools such as\n.Nm df Fl i .\n.Pp\nWhen the property\n.Sy xattr Ns = Ns Sy on\nis set on a file system additional objects will be created per-file to store\nextended attributes.\nThese additional objects are reflected in the\n.Sy userobjused\nvalue and are counted against the user's\n.Sy userobjquota .\nWhen a file system is configured to use\n.Sy xattr Ns = Ns Sy sa\nno additional internal objects are normally required.\n.It Sy userrefs\nThis property is set to the number of user holds on this snapshot.\nUser holds are set by using the\n.Nm zfs Cm hold\ncommand.\n.It Sy groupused Ns @ Ns Ar group\nThe amount of space consumed by the specified group in this dataset.\nSpace is charged to the group of each file, as displayed by\n.Nm ls Fl l .\nSee the\n.Sy userused Ns @ Ns Ar user\nproperty for more information.\n.Pp\nUnprivileged users can only access their own groups' space usage.\nThe root user, or a user who has been granted the\n.Sy groupused\nprivilege with\n.Nm zfs Cm allow ,\ncan access all groups' usage.\n.It Sy groupobjused Ns @ Ns Ar group\nThe number of objects consumed by the specified group in this dataset.\nMultiple objects may be charged to the group for each file when extended\nattributes are in use.\nSee the\n.Sy userobjused Ns @ Ns Ar user\nproperty for more information.\n.Pp\nUnprivileged users can only access their own groups' space usage.\nThe root user, or a user who has been granted the\n.Sy groupobjused\nprivilege with\n.Nm zfs Cm allow ,\ncan access all groups' usage.\n.It Sy projectused Ns @ Ns Ar project\nThe amount of space consumed by the specified project in this dataset.\nProject is identified via the project identifier (ID) that is object-based\nnumeral attribute.\nAn object can inherit the project ID from its parent object (if the\nparent has the flag of inherit project ID that can be set and changed via\n.Nm chattr Fl /+P\nor\n.Nm zfs project Fl s )\nwhen being created.\nThe privileged user can set and change object's project\nID via\n.Nm chattr Fl p\nor\n.Nm zfs project Fl s\nanytime.\nSpace is charged to the project of each file, as displayed by\n.Nm lsattr Fl p\nor\n.Nm zfs project .\nSee the\n.Sy userused Ns @ Ns Ar user\nproperty for more information.\n.Pp\nThe root user, or a user who has been granted the\n.Sy projectused\nprivilege with\n.Nm zfs allow ,\ncan access all projects' usage.\n.It Sy projectobjused Ns @ Ns Ar project\nThe\n.Sy projectobjused\nis similar to\n.Sy projectused\nbut instead it counts the number of objects consumed by project.\nWhen the property\n.Sy xattr Ns = Ns Sy on\nis set on a fileset, ZFS will create additional objects per-file to store\nextended attributes.\nThese additional objects are reflected in the\n.Sy projectobjused\nvalue and are counted against the project's\n.Sy projectobjquota .\nWhen a filesystem is configured to use\n.Sy xattr Ns = Ns Sy sa\nno additional internal objects are required.\nSee the\n.Sy userobjused Ns @ Ns Ar user\nproperty for more information.\n.Pp\nThe root user, or a user who has been granted the\n.Sy projectobjused\nprivilege with\n.Nm zfs allow ,\ncan access all projects' objects usage.\n.It Sy snapshots_changed\nProvides a mechanism to quickly determine whether snapshot list has\nchanged without having to mount a dataset or iterate the snapshot list.\nSpecifies the time at which a snapshot for a dataset was last\ncreated or deleted.\n.Pp\nThis allows us to be more efficient how often we query snapshots.\nThe property is persistent across mount and unmount operations only if the\n.Sy extensible_dataset\nfeature is enabled.\n.It Sy volblocksize\nFor volumes, specifies the block size of the volume.\nThe\n.Sy blocksize\ncannot be changed once the volume has been written, so it should be set at\nvolume creation time.\nThe default\n.Sy blocksize\nfor volumes is 16 Kbytes.\nAny power of 2 from 512 bytes to 128 Kbytes is valid.\n.Pp\nThis property can also be referred to by its shortened column name,\n.Sy volblock .\n.It Sy written\nThe amount of space\n.Sy referenced\nby this dataset, that was written since the previous snapshot\n.Pq i.e. that is not referenced by the previous snapshot .\n.It Sy written Ns @ Ns Ar snapshot\nThe amount of\n.Sy referenced\nspace written to this dataset since the specified snapshot.\nThis is the space that is referenced by this dataset but was not referenced by\nthe specified snapshot.\n.Pp\nThe\n.Ar snapshot\nmay be specified as a short snapshot name\n.Pq just the part after the Sy @ ,\nin which case it will be interpreted as a snapshot in the same filesystem as\nthis dataset.\nThe\n.Ar snapshot\nmay be a full snapshot name\n.Pq Ar filesystem Ns @ Ns Ar snapshot ,\nwhich for clones may be a snapshot in the origin's filesystem\n.Pq or the origin of the origin's filesystem, etc.\n.El\n.Pp\nThe following native properties can be used to change the behavior of a ZFS\ndataset.\n.Bl -tag -width \"\"\n.It Xo\n.Sy aclinherit Ns = Ns Sy discard Ns | Ns Sy noallow Ns | Ns\n.Sy restricted Ns | Ns Sy passthrough Ns | Ns Sy passthrough-x\n.Xc\nControls how ACEs are inherited when files and directories are created.\n.Bl -tag -compact -offset 4n -width \"passthrough-x\"\n.It Sy discard\ndoes not inherit any ACEs.\n.It Sy noallow\nonly inherits inheritable ACEs that specify\n.Qq deny\npermissions.\n.It Sy restricted\ndefault, removes the\n.Sy write_acl\nand\n.Sy write_owner\npermissions when the ACE is inherited.\n.It Sy passthrough\ninherits all inheritable ACEs without any modifications.\n.It Sy passthrough-x\nsame meaning as\n.Sy passthrough ,\nexcept that the\n.Sy owner@ , group@ , No and Sy everyone@\nACEs inherit the execute permission only if the file creation mode also requests\nthe execute bit.\n.El\n.Pp\nWhen the property value is set to\n.Sy passthrough ,\nfiles are created with a mode determined by the inheritable ACEs.\nIf no inheritable ACEs exist that affect the mode, then the mode is set in\naccordance to the requested mode from the application.\n.Pp\nThe\n.Sy aclinherit\nproperty does not apply to POSIX ACLs.\n.It Xo\n.Sy aclmode Ns = Ns Sy discard Ns | Ns Sy groupmask Ns | Ns\n.Sy passthrough Ns | Ns Sy restricted Ns\n.Xc\nControls how an ACL is modified during chmod(2) and how inherited ACEs\nare modified by the file creation mode:\n.Bl -tag -compact -offset 4n -width \"passthrough\"\n.It Sy discard\ndefault, deletes all\n.Sy ACEs\nexcept for those representing\nthe mode of the file or directory requested by\n.Xr chmod 2 .\n.It Sy groupmask\nreduces permissions granted in all\n.Sy ALLOW\nentries found in the\n.Sy ACL\nsuch that they are no greater than the group permissions specified by\n.Xr chmod 2 .\n.It Sy passthrough\nindicates that no changes are made to the ACL other than creating or updating\nthe necessary ACL entries to represent the new mode of the file or directory.\n.It Sy restricted\nwill cause the\n.Xr chmod 2\noperation to return an error when used on any file or directory which has\na non-trivial ACL whose entries can not be represented by a mode.\n.Xr chmod 2\nis required to change the set user ID, set group ID, or sticky bits on a file\nor directory, as they do not have equivalent ACL entries.\nIn order to use\n.Xr chmod 2\non a file or directory with a non-trivial ACL when\n.Sy aclmode\nis set to\n.Sy restricted ,\nyou must first remove all ACL entries which do not represent the current mode.\n.El\n.It Sy acltype Ns = Ns Sy off Ns | Ns Sy nfsv4 Ns | Ns Sy posix\nControls whether ACLs are enabled and if so what type of ACL to use.\nWhen this property is set to a type of ACL not supported by the current\nplatform, the behavior is the same as if it were set to\n.Sy off .\n.Bl -tag -compact -offset 4n -width \"posixacl\"\n.It Sy off\ndefault on Linux, when a file system has the\n.Sy acltype\nproperty set to off then ACLs are disabled.\n.It Sy noacl\nan alias for\n.Sy off\n.It Sy nfsv4\ndefault on\n.Fx ,\nindicates that NFSv4-style ZFS ACLs should be used.\nThese ACLs can be managed with the\n.Xr getfacl 1\nand\n.Xr setfacl 1 .\nThe\n.Sy nfsv4\nZFS ACL type is not yet supported on Linux.\n.It Sy posix\nindicates POSIX ACLs should be used.\nPOSIX ACLs are specific to Linux and are not functional on other platforms.\nPOSIX ACLs are stored as an extended\nattribute and therefore will not overwrite any existing NFSv4 ACLs which\nmay be set.\n.It Sy posixacl\nan alias for\n.Sy posix\n.El\n.Pp\nTo obtain the best performance when setting\n.Sy posix\nusers are strongly encouraged to set the\n.Sy xattr Ns = Ns Sy sa\nproperty.\nThis will result in the POSIX ACL being stored more efficiently on disk.\nBut as a consequence, all new extended attributes will only be\naccessible from OpenZFS implementations which support the\n.Sy xattr Ns = Ns Sy sa\nproperty.\nSee the\n.Sy xattr\nproperty for more details.\n.It Sy atime Ns = Ns Sy on Ns | Ns Sy off\nControls whether the access time for files is updated when they are read.\nTurning this property off avoids producing write traffic when reading files and\ncan result in significant performance gains, though it might confuse mailers\nand other similar utilities.\nThe values\n.Sy on\nand\n.Sy off\nare equivalent to the\n.Sy atime\nand\n.Sy noatime\nmount options.\nThe default value is\n.Sy on .\nSee also\n.Sy relatime\nbelow.\n.It Sy canmount Ns = Ns Sy on Ns | Ns Sy off Ns | Ns Sy noauto\nIf this property is set to\n.Sy off ,\nthe file system cannot be mounted, and is ignored by\n.Nm zfs Cm mount Fl a .\nSetting this property to\n.Sy off\nis similar to setting the\n.Sy mountpoint\nproperty to\n.Sy none ,\nexcept that the dataset still has a normal\n.Sy mountpoint\nproperty, which can be inherited.\nSetting this property to\n.Sy off\nallows datasets to be used solely as a mechanism to inherit properties.\nOne example of setting\n.Sy canmount Ns = Ns Sy off\nis to have two datasets with the same\n.Sy mountpoint ,\nso that the children of both datasets appear in the same directory, but might\nhave different inherited characteristics.\n.Pp\nWhen set to\n.Sy noauto ,\na dataset can only be mounted and unmounted explicitly.\nThe dataset is not mounted automatically when the dataset is created or\nimported, nor is it mounted by the\n.Nm zfs Cm mount Fl a\ncommand or unmounted by the\n.Nm zfs Cm unmount Fl a\ncommand.\n.Pp\nThis property is not inherited.\n.It Xo\n.Sy checksum Ns = Ns Sy on Ns | Ns Sy off Ns | Ns Sy fletcher2 Ns | Ns\n.Sy fletcher4 Ns | Ns Sy sha256 Ns | Ns Sy noparity Ns | Ns\n.Sy sha512 Ns | Ns Sy skein Ns | Ns Sy edonr Ns | Ns Sy blake3\n.Xc\nControls the checksum used to verify data integrity.\nThe default value is\n.Sy on ,\nwhich automatically selects an appropriate algorithm\n.Po currently,\n.Sy fletcher4 ,\nbut this may change in future releases\n.Pc .\nThe value\n.Sy off\ndisables integrity checking on user data.\nThe value\n.Sy noparity\nnot only disables integrity but also disables maintaining parity for user data.\nThis setting is used internally by a dump device residing on a RAID-Z pool and\nshould not be used by any other dataset.\nDisabling checksums is\n.Em NOT\na recommended practice.\n.Pp\nThe\n.Sy sha512 ,\n.Sy skein ,\n.Sy edonr ,\nand\n.Sy blake3\nchecksum algorithms require enabling the appropriate features on the pool.\n.Pp\nPlease see\n.Xr zpool-features 7\nfor more information on these algorithms.\n.Pp\nChanging this property affects only newly-written data.\n.It Xo\n.Sy compression Ns = Ns Sy on Ns | Ns Sy off Ns | Ns Sy gzip Ns | Ns\n.Sy gzip- Ns Ar N Ns | Ns Sy lz4 Ns | Ns Sy lzjb Ns | Ns Sy zle Ns | Ns Sy zstd Ns | Ns\n.Sy zstd- Ns Ar N Ns | Ns Sy zstd-fast Ns | Ns Sy zstd-fast- Ns Ar N\n.Xc\nControls the compression algorithm used for this dataset.\n.Pp\nWhen set to\n.Sy on\n(the default), indicates that the current default compression algorithm should\nbe used.\nThe default balances compression and decompression speed, with compression ratio\nand is expected to work well on a wide variety of workloads.\nUnlike all other settings for this property,\n.Sy on\ndoes not select a fixed compression type.\nAs new compression algorithms are added to ZFS and enabled on a pool, the\ndefault compression algorithm may change.\nThe current default compression algorithm is either\n.Sy lzjb\nor, if the\n.Sy lz4_compress\nfeature is enabled,\n.Sy lz4 .\n.Pp\nThe\n.Sy lz4\ncompression algorithm is a high-performance replacement for the\n.Sy lzjb\nalgorithm.\nIt features significantly faster compression and decompression, as well as a\nmoderately higher compression ratio than\n.Sy lzjb ,\nbut can only be used on pools with the\n.Sy lz4_compress\nfeature set to\n.Sy enabled .\nSee\n.Xr zpool-features 7\nfor details on ZFS feature flags and the\n.Sy lz4_compress\nfeature.\n.Pp\nThe\n.Sy lzjb\ncompression algorithm is optimized for performance while providing decent data\ncompression.\n.Pp\nThe\n.Sy gzip\ncompression algorithm uses the same compression as the\n.Xr gzip 1\ncommand.\nYou can specify the\n.Sy gzip\nlevel by using the value\n.Sy gzip- Ns Ar N ,\nwhere\n.Ar N\nis an integer from 1\n.Pq fastest\nto 9\n.Pq best compression ratio .\nCurrently,\n.Sy gzip\nis equivalent to\n.Sy gzip-6\n.Po which is also the default for\n.Xr gzip 1\n.Pc .\n.Pp\nThe\n.Sy zstd\ncompression algorithm provides both high compression ratios and good\nperformance.\nYou can specify the\n.Sy zstd\nlevel by using the value\n.Sy zstd- Ns Ar N ,\nwhere\n.Ar N\nis an integer from 1\n.Pq fastest\nto 19\n.Pq best compression ratio .\n.Sy zstd\nis equivalent to\n.Sy zstd-3 .\n.Pp\nFaster speeds at the cost of the compression ratio can be requested by\nsetting a negative\n.Sy zstd\nlevel.\nThis is done using\n.Sy zstd-fast- Ns Ar N ,\nwhere\n.Ar N\nis an integer in\n.Bq Sy 1 Ns - Ns Sy 10 , 20 , 30 , No \u2026 , Sy 100 , 500 , 1000\nwhich maps to a negative\n.Sy zstd\nlevel.\nThe lower the level the faster the compression \\(em\n.Sy 1000\nprovides the fastest compression and lowest compression ratio.\n.Sy zstd-fast\nis equivalent to\n.Sy zstd-fast- Ns Ar 1 .\n.Pp\nThe\n.Sy zle\ncompression algorithm compresses runs of zeros.\n.Pp\nThis property can also be referred to by its shortened column name\n.Sy compress .\nChanging this property affects only newly-written data.\n.Pp\nWhen any setting except\n.Sy off\nis selected, compression will explicitly check for blocks consisting of only\nzeroes (the NUL byte).\nWhen a zero-filled block is detected, it is stored as\na hole and not compressed using the indicated compression algorithm.\n.Pp\nAny block being compressed must be no larger than 7/8 of its original size\nafter compression, otherwise the compression will not be considered worthwhile\nand the block saved uncompressed.\nNote that when the logical block is less than\n8 times the disk sector size this effectively reduces the necessary compression\nratio; for example, 8 KiB blocks on disks with 4 KiB disk sectors must compress\nto 1/2\nor less of their original size.\n.It Xo\n.Sy context Ns = Ns Sy none Ns | Ns\n.Ar SELinux-User : Ns Ar SELinux-Role : Ns Ar SELinux-Type : Ns Ar Sensitivity-Level\n.Xc\nThis flag sets the SELinux context for all files in the file system under\na mount point for that file system.\nSee\n.Xr selinux 8\nfor more information.\n.It Xo\n.Sy fscontext Ns = Ns Sy none Ns | Ns\n.Ar SELinux-User : Ns Ar SELinux-Role : Ns Ar SELinux-Type : Ns Ar Sensitivity-Level\n.Xc\nThis flag sets the SELinux context for the file system file system being\nmounted.\nSee\n.Xr selinux 8\nfor more information.\n.It Xo\n.Sy defcontext Ns = Ns Sy none Ns | Ns\n.Ar SELinux-User : Ns Ar SELinux-Role : Ns Ar SELinux-Type : Ns Ar Sensitivity-Level\n.Xc\nThis flag sets the SELinux default context for unlabeled files.\nSee\n.Xr selinux 8\nfor more information.\n.It Xo\n.Sy rootcontext Ns = Ns Sy none Ns | Ns\n.Ar SELinux-User : Ns Ar SELinux-Role : Ns Ar SELinux-Type : Ns Ar Sensitivity-Level\n.Xc\nThis flag sets the SELinux context for the root inode of the file system.\nSee\n.Xr selinux 8\nfor more information.\n.It Sy copies Ns = Ns Sy 1 Ns | Ns Sy 2 Ns | Ns Sy 3\nControls the number of copies of data stored for this dataset.\nThese copies are in addition to any redundancy provided by the pool, for\nexample, mirroring or RAID-Z.\nThe copies are stored on different disks, if possible.\nThe space used by multiple copies is charged to the associated file and dataset,\nchanging the\n.Sy used\nproperty and counting against quotas and reservations.\n.Pp\nChanging this property only affects newly-written data.\nTherefore, set this property at file system creation time by using the\n.Fl o Sy copies Ns = Ns Ar N\noption.\n.Pp\nRemember that ZFS will not import a pool with a missing top-level vdev.\nDo\n.Em NOT\ncreate, for example a two-disk striped pool and set\n.Sy copies Ns = Ns Ar 2\non some datasets thinking you have setup redundancy for them.\nWhen a disk fails you will not be able to import the pool\nand will have lost all of your data.\n.Pp\nEncrypted datasets may not have\n.Sy copies Ns = Ns Ar 3\nsince the implementation stores some encryption metadata where the third copy\nwould normally be.\n.It Sy devices Ns = Ns Sy on Ns | Ns Sy off\nControls whether device nodes can be opened on this file system.\nThe default value is\n.Sy on .\nThe values\n.Sy on\nand\n.Sy off\nare equivalent to the\n.Sy dev\nand\n.Sy nodev\nmount options.\n.It Xo\n.Sy dedup Ns = Ns Sy off Ns | Ns Sy on Ns | Ns Sy verify Ns | Ns\n.Sy sha256 Ns Oo , Ns Sy verify Oc Ns | Ns Sy sha512 Ns Oo , Ns Sy verify Oc Ns | Ns Sy skein Ns Oo , Ns Sy verify Oc Ns | Ns\n.Sy edonr , Ns Sy verify Ns | Ns Sy blake3 Ns Oo , Ns Sy verify Oc Ns\n.Xc\nConfigures deduplication for a dataset.\nThe default value is\n.Sy off .\nThe default deduplication checksum is\n.Sy sha256\n(this may change in the future).\nWhen\n.Sy dedup\nis enabled, the checksum defined here overrides the\n.Sy checksum\nproperty.\nSetting the value to\n.Sy verify\nhas the same effect as the setting\n.Sy sha256 , Ns Sy verify .\n.Pp\nIf set to\n.Sy verify ,\nZFS will do a byte-to-byte comparison in case of two blocks having the same\nsignature to make sure the block contents are identical.\nSpecifying\n.Sy verify\nis mandatory for the\n.Sy edonr\nalgorithm.\n.Pp\nUnless necessary, deduplication should\n.Em not\nbe enabled on a system.\nSee the\n.Sx Deduplication\nsection of\n.Xr zfsconcepts 7 .\n.It Xo\n.Sy dnodesize Ns = Ns Sy legacy Ns | Ns Sy auto Ns | Ns Sy 1k Ns | Ns\n.Sy 2k Ns | Ns Sy 4k Ns | Ns Sy 8k Ns | Ns Sy 16k\n.Xc\nSpecifies a compatibility mode or literal value for the size of dnodes in the\nfile system.\nThe default value is\n.Sy legacy .\nSetting this property to a value other than\n.Sy legacy No requires the Sy large_dnode No pool feature to be enabled .\n.Pp\nConsider setting\n.Sy dnodesize\nto\n.Sy auto\nif the dataset uses the\n.Sy xattr Ns = Ns Sy sa\nproperty setting and the workload makes heavy use of extended attributes.\nThis\nmay be applicable to SELinux-enabled systems, Lustre servers, and Samba\nservers, for example.\nLiteral values are supported for cases where the optimal\nsize is known in advance and for performance testing.\n.Pp\nLeave\n.Sy dnodesize\nset to\n.Sy legacy\nif you need to receive a send stream of this dataset on a pool that doesn't\nenable the\n.Sy large_dnode\nfeature, or if you need to import this pool on a system that doesn't support the\n.Sy large_dnode No feature .\n.Pp\nThis property can also be referred to by its shortened column name,\n.Sy dnsize .\n.It Xo\n.Sy encryption Ns = Ns Sy off Ns | Ns Sy on Ns | Ns Sy aes-128-ccm Ns | Ns\n.Sy aes-192-ccm Ns | Ns Sy aes-256-ccm Ns | Ns Sy aes-128-gcm Ns | Ns\n.Sy aes-192-gcm Ns | Ns Sy aes-256-gcm\n.Xc\nControls the encryption cipher suite (block cipher, key length, and mode) used\nfor this dataset.\nRequires the\n.Sy encryption\nfeature to be enabled on the pool.\nRequires a\n.Sy keyformat\nto be set at dataset creation time.\n.Pp\nSelecting\n.Sy encryption Ns = Ns Sy on\nwhen creating a dataset indicates that the default encryption suite will be\nselected, which is currently\n.Sy aes-256-gcm .\nIn order to provide consistent data protection, encryption must be specified at\ndataset creation time and it cannot be changed afterwards.\n.Pp\nFor more details and caveats about encryption see the\n.Sx Encryption\nsection of\n.Xr zfs-load-key 8 .\n.It Sy keyformat Ns = Ns Sy raw Ns | Ns Sy hex Ns | Ns Sy passphrase\nControls what format the user's encryption key will be provided as.\nThis property is only set when the dataset is encrypted.\n.Pp\nRaw keys and hex keys must be 32 bytes long (regardless of the chosen\nencryption suite) and must be randomly generated.\nA raw key can be generated with the following command:\n.Dl # Nm dd Sy if=/dev/urandom bs=32 count=1 Sy of= Ns Pa /path/to/output/key\n.Pp\nPassphrases must be between 8 and 512 bytes long and will be processed through\nPBKDF2 before being used (see the\n.Sy pbkdf2iters\nproperty).\nEven though the encryption suite cannot be changed after dataset creation,\nthe keyformat can be with\n.Nm zfs Cm change-key .\n.It Xo\n.Sy keylocation Ns = Ns Sy prompt Ns | Ns Sy file:// Ns Ar /absolute/file/path Ns | Ns Sy https:// Ns Ar address Ns | Ns Sy http:// Ns Ar address\n.Xc\nControls where the user's encryption key will be loaded from by default for\ncommands such as\n.Nm zfs Cm load-key\nand\n.Nm zfs Cm mount Fl l .\nThis property is only set for encrypted datasets which are encryption roots.\nIf unspecified, the default is\n.Sy prompt .\n.Pp\nEven though the encryption suite cannot be changed after dataset creation, the\nkeylocation can be with either\n.Nm zfs Cm set\nor\n.Nm zfs Cm change-key .\nIf\n.Sy prompt\nis selected ZFS will ask for the key at the command prompt when it is required\nto access the encrypted data (see\n.Nm zfs Cm load-key\nfor details).\nThis setting will also allow the key to be passed in via the standard input\nstream,\nbut users should be careful not to place keys which should be kept secret on\nthe command line.\nIf a file URI is selected, the key will be loaded from the\nspecified absolute file path.\nIf an HTTPS or HTTP URL is selected, it will be GETted using\n.Xr fetch 3 ,\nlibcurl, or nothing, depending on compile-time configuration and run-time\navailability.\nThe\n.Sy SSL_CA_CERT_FILE\nenvironment variable can be set to set the location\nof the concatenated certificate store.\nThe\n.Sy SSL_CA_CERT_PATH\nenvironment variable can be set to override the location\nof the directory containing the certificate authority bundle.\nThe\n.Sy SSL_CLIENT_CERT_FILE\nand\n.Sy SSL_CLIENT_KEY_FILE\nenvironment variables can be set to configure the path\nto the client certificate and its key.\n.It Sy pbkdf2iters Ns = Ns Ar iterations\nControls the number of PBKDF2 iterations that a\n.Sy passphrase\nencryption key should be run through when processing it into an encryption key.\nThis property is only defined when encryption is enabled and a keyformat of\n.Sy passphrase\nis selected.\nThe goal of PBKDF2 is to significantly increase the\ncomputational difficulty needed to brute force a user's passphrase.\nThis is accomplished by forcing the attacker to run each passphrase through a\ncomputationally expensive hashing function many times before they arrive at the\nresulting key.\nA user who actually knows the passphrase will only have to pay this cost once.\nAs CPUs become better at processing, this number should be\nraised to ensure that a brute force attack is still not possible.\nThe current default is\n.Sy 350000\nand the minimum is\n.Sy 100000 .\nThis property may be changed with\n.Nm zfs Cm change-key .\n.It Sy exec Ns = Ns Sy on Ns | Ns Sy off\nControls whether processes can be executed from within this file system.\nThe default value is\n.Sy on .\nThe values\n.Sy on\nand\n.Sy off\nare equivalent to the\n.Sy exec\nand\n.Sy noexec\nmount options.\n.It Sy filesystem_limit Ns = Ns Ar count Ns | Ns Sy none\nLimits the number of filesystems and volumes that can exist under this point in\nthe dataset tree.\nThe limit is not enforced if the user is allowed to change the limit.\nSetting a\n.Sy filesystem_limit\nto\n.Sy on\na descendent of a filesystem that already has a\n.Sy filesystem_limit\ndoes not override the ancestor's\n.Sy filesystem_limit ,\nbut rather imposes an additional limit.\nThis feature must be enabled to be used\n.Po see\n.Xr zpool-features 7\n.Pc .\n.It Sy special_small_blocks Ns = Ns Ar size\nThis value represents the threshold block size for including small file\nblocks into the special allocation class.\nBlocks smaller than or equal to this\nvalue will be assigned to the special allocation class while greater blocks\nwill be assigned to the regular class.\nValid values are zero or a power of two from 512 up to 1048576 (1 MiB).\nThe default size is 0 which means no small file blocks\nwill be allocated in the special class.\n.Pp\nBefore setting this property, a special class vdev must be added to the\npool.\nSee\n.Xr zpoolconcepts 7\nfor more details on the special allocation class.\n.It Sy mountpoint Ns = Ns Pa path Ns | Ns Sy none Ns | Ns Sy legacy\nControls the mount point used for this file system.\nSee the\n.Sx Mount Points\nsection of\n.Xr zfsconcepts 7\nfor more information on how this property is used.\n.Pp\nWhen the\n.Sy mountpoint\nproperty is changed for a file system, the file system and any children that\ninherit the mount point are unmounted.\nIf the new value is\n.Sy legacy ,\nthen they remain unmounted.\nOtherwise, they are automatically remounted in the new location if the property\nwas previously\n.Sy legacy\nor\n.Sy none .\nIn addition, any shared file systems are unshared and shared in the new\nlocation.\n.Pp\nWhen the\n.Sy mountpoint\nproperty is set with\n.Nm zfs Cm set Fl u\n, the\n.Sy mountpoint\nproperty is updated but dataset is not mounted or unmounted and remains\nas it was before.\n.It Sy nbmand Ns = Ns Sy on Ns | Ns Sy off\nControls whether the file system should be mounted with\n.Sy nbmand\n.Pq Non-blocking mandatory locks .\nChanges to this property only take effect when the file system is umounted and\nremounted.\nThis was only supported by Linux prior to 5.15, and was buggy there,\nand is not supported by\n.Fx .\nOn Solaris it's used for SMB clients.\n.It Sy overlay Ns = Ns Sy on Ns | Ns Sy off\nAllow mounting on a busy directory or a directory which already contains\nfiles or directories.\nThis is the default mount behavior for Linux and\n.Fx\nfile systems.\nOn these platforms the property is\n.Sy on\nby default.\nSet to\n.Sy off\nto disable overlay mounts for consistency with OpenZFS on other platforms.\n.It Sy primarycache Ns = Ns Sy all Ns | Ns Sy none Ns | Ns Sy metadata\nControls what is cached in the primary cache\n.Pq ARC .\nIf this property is set to\n.Sy all ,\nthen both user data and metadata is cached.\nIf this property is set to\n.Sy none ,\nthen neither user data nor metadata is cached.\nIf this property is set to\n.Sy metadata ,\nthen only metadata is cached.\nThe default value is\n.Sy all .\n.It Sy quota Ns = Ns Ar size Ns | Ns Sy none\nLimits the amount of space a dataset and its descendents can consume.\nThis property enforces a hard limit on the amount of space used.\nThis includes all space consumed by descendents, including file systems and\nsnapshots.\nSetting a quota on a descendent of a dataset that already has a quota does not\noverride the ancestor's quota, but rather imposes an additional limit.\n.Pp\nQuotas cannot be set on volumes, as the\n.Sy volsize\nproperty acts as an implicit quota.\n.It Sy snapshot_limit Ns = Ns Ar count Ns | Ns Sy none\nLimits the number of snapshots that can be created on a dataset and its\ndescendents.\nSetting a\n.Sy snapshot_limit\non a descendent of a dataset that already has a\n.Sy snapshot_limit\ndoes not override the ancestor's\n.Sy snapshot_limit ,\nbut rather imposes an additional limit.\nThe limit is not enforced if the user is allowed to change the limit.\nFor example, this means that recursive snapshots taken from the global zone are\ncounted against each delegated dataset within a zone.\nThis feature must be enabled to be used\n.Po see\n.Xr zpool-features 7\n.Pc .\n.It Sy userquota@ Ns Ar user Ns = Ns Ar size Ns | Ns Sy none\nLimits the amount of space consumed by the specified user.\nUser space consumption is identified by the\n.Sy userspace@ Ns Ar user\nproperty.\n.Pp\nEnforcement of user quotas may be delayed by several seconds.\nThis delay means that a user might exceed their quota before the system notices\nthat they are over quota and begins to refuse additional writes with the\n.Er EDQUOT\nerror message.\nSee the\n.Nm zfs Cm userspace\ncommand for more information.\n.Pp\nUnprivileged users can only access their own groups' space usage.\nThe root user, or a user who has been granted the\n.Sy userquota\nprivilege with\n.Nm zfs Cm allow ,\ncan get and set everyone's quota.\n.Pp\nThis property is not available on volumes, on file systems before version 4, or\non pools before version 15.\nThe\n.Sy userquota@ Ns Ar \u2026\nproperties are not displayed by\n.Nm zfs Cm get Sy all .\nThe user's name must be appended after the\n.Sy @\nsymbol, using one of the following forms:\n.Bl -bullet -compact -offset 4n\n.It\nPOSIX name\n.Pq Qq joe\n.It\nPOSIX numeric ID\n.Pq Qq 789\n.It\nSID name\n.Pq Qq joe.smith@mydomain\n.It\nSID numeric ID\n.Pq Qq S-1-123-456-789\n.El\n.Pp\nFiles created on Linux always have POSIX owners.\n.It Sy userobjquota@ Ns Ar user Ns = Ns Ar size Ns | Ns Sy none\nThe\n.Sy userobjquota\nis similar to\n.Sy userquota\nbut it limits the number of objects a user can create.\nPlease refer to\n.Sy userobjused\nfor more information about how objects are counted.\n.It Sy groupquota@ Ns Ar group Ns = Ns Ar size Ns | Ns Sy none\nLimits the amount of space consumed by the specified group.\nGroup space consumption is identified by the\n.Sy groupused@ Ns Ar group\nproperty.\n.Pp\nUnprivileged users can access only their own groups' space usage.\nThe root user, or a user who has been granted the\n.Sy groupquota\nprivilege with\n.Nm zfs Cm allow ,\ncan get and set all groups' quotas.\n.It Sy groupobjquota@ Ns Ar group Ns = Ns Ar size Ns | Ns Sy none\nThe\n.Sy groupobjquota\nis similar to\n.Sy groupquota\nbut it limits number of objects a group can consume.\nPlease refer to\n.Sy userobjused\nfor more information about how objects are counted.\n.It Sy projectquota@ Ns Ar project Ns = Ns Ar size Ns | Ns Sy none\nLimits the amount of space consumed by the specified project.\nProject space consumption is identified by the\n.Sy projectused@ Ns Ar project\nproperty.\nPlease refer to\n.Sy projectused\nfor more information about how project is identified and set/changed.\n.Pp\nThe root user, or a user who has been granted the\n.Sy projectquota\nprivilege with\n.Nm zfs allow ,\ncan access all projects' quota.\n.It Sy projectobjquota@ Ns Ar project Ns = Ns Ar size Ns | Ns Sy none\nThe\n.Sy projectobjquota\nis similar to\n.Sy projectquota\nbut it limits number of objects a project can consume.\nPlease refer to\n.Sy userobjused\nfor more information about how objects are counted.\n.It Sy readonly Ns = Ns Sy on Ns | Ns Sy off\nControls whether this dataset can be modified.\nThe default value is\n.Sy off .\nThe values\n.Sy on\nand\n.Sy off\nare equivalent to the\n.Sy ro\nand\n.Sy rw\nmount options.\n.Pp\nThis property can also be referred to by its shortened column name,\n.Sy rdonly .\n.It Sy recordsize Ns = Ns Ar size\nSpecifies a suggested block size for files in the file system.\nThis property is designed solely for use with database workloads that access\nfiles in fixed-size records.\nZFS automatically tunes block sizes according to internal algorithms optimized\nfor typical access patterns.\n.Pp\nFor databases that create very large files but access them in small random\nchunks, these algorithms may be suboptimal.\nSpecifying a\n.Sy recordsize\ngreater than or equal to the record size of the database can result in\nsignificant performance gains.\nUse of this property for general purpose file systems is strongly discouraged,\nand may adversely affect performance.\n.Pp\nThe size specified must be a power of two greater than or equal to\n.Ar 512 B\nand less than or equal to\n.Ar 128 KiB .\nIf the\n.Sy large_blocks\nfeature is enabled on the pool, the size may be up to\n.Ar 1 MiB .\nSee\n.Xr zpool-features 7\nfor details on ZFS feature flags.\n.Pp\nChanging the file system's\n.Sy recordsize\naffects only files created afterward; existing files are unaffected.\n.Pp\nThis property can also be referred to by its shortened column name,\n.Sy recsize .\n.It Sy redundant_metadata Ns = Ns Sy all Ns | Ns Sy most Ns | Ns Sy some Ns | Ns Sy none\nControls what types of metadata are stored redundantly.\nZFS stores an extra copy of metadata, so that if a single block is corrupted,\nthe amount of user data lost is limited.\nThis extra copy is in addition to any redundancy provided at the pool level\n.Pq e.g. by mirroring or RAID-Z ,\nand is in addition to an extra copy specified by the\n.Sy copies\nproperty\n.Pq up to a total of 3 copies .\nFor example if the pool is mirrored,\n.Sy copies Ns = Ns 2 ,\nand\n.Sy redundant_metadata Ns = Ns Sy most ,\nthen ZFS stores 6 copies of most metadata, and 4 copies of data and some\nmetadata.\n.Pp\nWhen set to\n.Sy all ,\nZFS stores an extra copy of all metadata.\nIf a single on-disk block is corrupt, at worst a single block of user data\n.Po which is\n.Sy recordsize\nbytes long\n.Pc\ncan be lost.\n.Pp\nWhen set to\n.Sy most ,\nZFS stores an extra copy of most types of metadata.\nThis can improve performance of random writes, because less metadata must be\nwritten.\nIn practice, at worst about 1000 blocks\n.Po of\n.Sy recordsize\nbytes each\n.Pc\nof user data can be lost if a single on-disk block is corrupt.\nThe exact behavior of which metadata blocks are stored redundantly may change in\nfuture releases.\n.Pp\nWhen set to\n.Sy some ,\nZFS stores an extra copy of only critical metadata.\nThis can improve file create performance since less metadata\nneeds to be written.\nIf a single on-disk block is corrupt, at worst a single user file can be lost.\n.Pp\nWhen set to\n.Sy none ,\nZFS does not store any copies of metadata redundantly.\nIf a single on-disk block is corrupt, an entire dataset can be lost.\n.Pp\nThe default value is\n.Sy all .\n.It Sy refquota Ns = Ns Ar size Ns | Ns Sy none\nLimits the amount of space a dataset can consume.\nThis property enforces a hard limit on the amount of space used.\nThis hard limit does not include space used by descendents, including file\nsystems and snapshots.\n.It Sy refreservation Ns = Ns Ar size Ns | Ns Sy none Ns | Ns Sy auto\nThe minimum amount of space guaranteed to a dataset, not including its\ndescendents.\nWhen the amount of space used is below this value, the dataset is treated as if\nit were taking up the amount of space specified by\n.Sy refreservation .\nThe\n.Sy refreservation\nreservation is accounted for in the parent datasets' space used, and counts\nagainst the parent datasets' quotas and reservations.\n.Pp\nIf\n.Sy refreservation\nis set, a snapshot is only allowed if there is enough free pool space outside of\nthis reservation to accommodate the current number of\n.Qq referenced\nbytes in the dataset.\n.Pp\nIf\n.Sy refreservation\nis set to\n.Sy auto ,\na volume is thick provisioned\n.Po or\n.Qq not sparse\n.Pc .\n.Sy refreservation Ns = Ns Sy auto\nis only supported on volumes.\nSee\n.Sy volsize\nin the\n.Sx Native Properties\nsection for more information about sparse volumes.\n.Pp\nThis property can also be referred to by its shortened column name,\n.Sy refreserv .\n.It Sy relatime Ns = Ns Sy on Ns | Ns Sy off\nControls the manner in which the access time is updated when\n.Sy atime Ns = Ns Sy on\nis set.\nTurning this property on causes the access time to be updated relative\nto the modify or change time.\nAccess time is only updated if the previous\naccess time was earlier than the current modify or change time or if the\nexisting access time hasn't been updated within the past 24 hours.\nThe default value is\n.Sy on .\nThe values\n.Sy on\nand\n.Sy off\nare equivalent to the\n.Sy relatime\nand\n.Sy norelatime\nmount options.\n.It Sy reservation Ns = Ns Ar size Ns | Ns Sy none\nThe minimum amount of space guaranteed to a dataset and its descendants.\nWhen the amount of space used is below this value, the dataset is treated as if\nit were taking up the amount of space specified by its reservation.\nReservations are accounted for in the parent datasets' space used, and count\nagainst the parent datasets' quotas and reservations.\n.Pp\nThis property can also be referred to by its shortened column name,\n.Sy reserv .\n.It Sy secondarycache Ns = Ns Sy all Ns | Ns Sy none Ns | Ns Sy metadata\nControls what is cached in the secondary cache\n.Pq L2ARC .\nIf this property is set to\n.Sy all ,\nthen both user data and metadata is cached.\nIf this property is set to\n.Sy none ,\nthen neither user data nor metadata is cached.\nIf this property is set to\n.Sy metadata ,\nthen only metadata is cached.\nThe default value is\n.Sy all .\n.It Sy setuid Ns = Ns Sy on Ns | Ns Sy off\nControls whether the setuid bit is respected for the file system.\nThe default value is\n.Sy on .\nThe values\n.Sy on\nand\n.Sy off\nare equivalent to the\n.Sy suid\nand\n.Sy nosuid\nmount options.\n.It Sy sharesmb Ns = Ns Sy on Ns | Ns Sy off Ns | Ns Ar opts\nControls whether the file system is shared by using\n.Sy Samba USERSHARES\nand what options are to be used.\nOtherwise, the file system is automatically shared and unshared with the\n.Nm zfs Cm share\nand\n.Nm zfs Cm unshare\ncommands.\nIf the property is set to on, the\n.Xr net 8\ncommand is invoked to create a\n.Sy USERSHARE .\n.Pp\nBecause SMB shares requires a resource name, a unique resource name is\nconstructed from the dataset name.\nThe constructed name is a copy of the\ndataset name except that the characters in the dataset name, which would be\ninvalid in the resource name, are replaced with underscore (_) characters.\nLinux does not currently support additional options which might be available\non Solaris.\n.Pp\nIf the\n.Sy sharesmb\nproperty is set to\n.Sy off ,\nthe file systems are unshared.\n.Pp\nThe share is created with the ACL (Access Control List) \"Everyone:F\" (\"F\"\nstands for \"full permissions\", i.e. read and write permissions) and no guest\naccess (which means Samba must be able to authenticate a real user \\(em\n.Xr passwd 5 Ns / Ns Xr shadow 5 Ns - ,\nLDAP- or\n.Xr smbpasswd 5 Ns -based )\nby default.\nThis means that any additional access control\n(disallow specific user specific access etc) must be done on the underlying file\nsystem.\n.Pp\nWhen the\n.Sy sharesmb\nproperty is updated with\n.Nm zfs Cm set Fl u\n, the property is set to desired value, but the operation to share, reshare\nor unshare the the dataset is not performed.\n.It Sy sharenfs Ns = Ns Sy on Ns | Ns Sy off Ns | Ns Ar opts\nControls whether the file system is shared via NFS, and what options are to be\nused.\nA file system with a\n.Sy sharenfs\nproperty of\n.Sy off\nis managed with the\n.Xr exportfs 8\ncommand and entries in the\n.Pa /etc/exports\nfile.\nOtherwise, the file system is automatically shared and unshared with the\n.Nm zfs Cm share\nand\n.Nm zfs Cm unshare\ncommands.\nIf the property is set to\n.Sy on ,\nthe dataset is shared using the default options:\n.Dl sec=sys,rw,crossmnt,no_subtree_check\n.Pp\nPlease note that the options are comma-separated, unlike those found in\n.Xr exports 5 .\nThis is done to negate the need for quoting, as well as to make parsing\nwith scripts easier.\n.Pp\nSee\n.Xr exports 5\nfor the meaning of the default options.\nOtherwise, the\n.Xr exportfs 8\ncommand is invoked with options equivalent to the contents of this property.\n.Pp\nWhen the\n.Sy sharenfs\nproperty is changed for a dataset, the dataset and any children inheriting the\nproperty are re-shared with the new options, only if the property was previously\n.Sy off ,\nor if they were shared before the property was changed.\nIf the new property is\n.Sy off ,\nthe file systems are unshared.\n.Pp\nWhen the\n.Sy sharenfs\nproperty is updated with\n.Nm zfs Cm set Fl u\n, the property is set to desired value, but the operation to share, reshare\nor unshare the the dataset is not performed.\n.It Sy logbias Ns = Ns Sy latency Ns | Ns Sy throughput\nProvide a hint to ZFS about handling of synchronous requests in this dataset.\nIf\n.Sy logbias\nis set to\n.Sy latency\n.Pq the default ,\nZFS will use pool log devices\n.Pq if configured\nto handle the requests at low latency.\nIf\n.Sy logbias\nis set to\n.Sy throughput ,\nZFS will not use configured pool log devices.\nZFS will instead optimize synchronous operations for global pool throughput and\nefficient use of resources.\n.It Sy snapdev Ns = Ns Sy hidden Ns | Ns Sy visible\nControls whether the volume snapshot devices under\n.Pa /dev/zvol/ Ns Aq Ar pool\nare hidden or visible.\nThe default value is\n.Sy hidden .\n.It Sy snapdir Ns = Ns Sy hidden Ns | Ns Sy visible\nControls whether the\n.Pa .zfs\ndirectory is hidden or visible in the root of the file system as discussed in\nthe\n.Sx Snapshots\nsection of\n.Xr zfsconcepts 7 .\nThe default value is\n.Sy hidden .\n.It Sy sync Ns = Ns Sy standard Ns | Ns Sy always Ns | Ns Sy disabled\nControls the behavior of synchronous requests\n.Pq e.g. fsync, O_DSYNC .\n.Sy standard\nis the POSIX-specified behavior of ensuring all synchronous requests\nare written to stable storage and all devices are flushed to ensure\ndata is not cached by device controllers\n.Pq this is the default .\n.Sy always\ncauses every file system transaction to be written and flushed before its\nsystem call returns.\nThis has a large performance penalty.\n.Sy disabled\ndisables synchronous requests.\nFile system transactions are only committed to stable storage periodically.\nThis option will give the highest performance.\nHowever, it is very dangerous as ZFS would be ignoring the synchronous\ntransaction demands of applications such as databases or NFS.\nAdministrators should only use this option when the risks are understood.\n.It Sy version Ns = Ns Ar N Ns | Ns Sy current\nThe on-disk version of this file system, which is independent of the pool\nversion.\nThis property can only be set to later supported versions.\nSee the\n.Nm zfs Cm upgrade\ncommand.\n.It Sy volsize Ns = Ns Ar size\nFor volumes, specifies the logical size of the volume.\nBy default, creating a volume establishes a reservation of equal size.\nFor storage pools with a version number of 9 or higher, a\n.Sy refreservation\nis set instead.\nAny changes to\n.Sy volsize\nare reflected in an equivalent change to the reservation\n.Pq or Sy refreservation .\nThe\n.Sy volsize\ncan only be set to a multiple of\n.Sy volblocksize ,\nand cannot be zero.\n.Pp\nThe reservation is kept equal to the volume's logical size to prevent unexpected\nbehavior for consumers.\nWithout the reservation, the volume could run out of space, resulting in\nundefined behavior or data corruption, depending on how the volume is used.\nThese effects can also occur when the volume size is changed while it is in use\n.Pq particularly when shrinking the size .\nExtreme care should be used when adjusting the volume size.\n.Pp\nThough not recommended, a\n.Qq sparse volume\n.Po also known as\n.Qq thin provisioned\n.Pc\ncan be created by specifying the\n.Fl s\noption to the\n.Nm zfs Cm create Fl V\ncommand, or by changing the value of the\n.Sy refreservation\nproperty\n.Po or\n.Sy reservation\nproperty on pool version 8 or earlier\n.Pc\nafter the volume has been created.\nA\n.Qq sparse volume\nis a volume where the value of\n.Sy refreservation\nis less than the size of the volume plus the space required to store its\nmetadata.\nConsequently, writes to a sparse volume can fail with\n.Er ENOSPC\nwhen the pool is low on space.\nFor a sparse volume, changes to\n.Sy volsize\nare not reflected in the\n.Sy refreservation .\nA volume that is not sparse is said to be\n.Qq thick provisioned .\nA sparse volume can become thick provisioned by setting\n.Sy refreservation\nto\n.Sy auto .\n.It Sy volmode Ns = Ns Sy default Ns | Ns Sy full Ns | Ns Sy geom Ns | Ns Sy dev Ns | Ns Sy none\nThis property specifies how volumes should be exposed to the OS.\nSetting it to\n.Sy full\nexposes volumes as fully fledged block devices, providing maximal\nfunctionality.\nThe value\n.Sy geom\nis just an alias for\n.Sy full\nand is kept for compatibility.\nSetting it to\n.Sy dev\nhides its partitions.\nVolumes with property set to\n.Sy none\nare not exposed outside ZFS, but can be snapshotted, cloned, replicated, etc,\nthat can be suitable for backup purposes.\nValue\n.Sy default\nmeans that volumes exposition is controlled by system-wide tunable\n.Sy zvol_volmode ,\nwhere\n.Sy full ,\n.Sy dev\nand\n.Sy none\nare encoded as 1, 2 and 3 respectively.\nThe default value is\n.Sy full .\n.It Sy vscan Ns = Ns Sy on Ns | Ns Sy off\nControls whether regular files should be scanned for viruses when a file is\nopened and closed.\nIn addition to enabling this property, the virus scan service must also be\nenabled for virus scanning to occur.\nThe default value is\n.Sy off .\nThis property is not used by OpenZFS.\n.It Sy xattr Ns = Ns Sy on Ns | Ns Sy off Ns | Ns Sy sa\nControls whether extended attributes are enabled for this file system.\nTwo styles of extended attributes are supported: either directory-based\nor system-attribute-based.\n.Pp\nThe default value of\n.Sy on\nenables directory-based extended attributes.\nThis style of extended attribute imposes no practical limit\non either the size or number of attributes which can be set on a file.\nAlthough under Linux the\n.Xr getxattr 2\nand\n.Xr setxattr 2\nsystem calls limit the maximum size to\n.Sy 64K .\nThis is the most compatible\nstyle of extended attribute and is supported by all ZFS implementations.\n.Pp\nSystem-attribute-based xattrs can be enabled by setting the value to\n.Sy sa .\nThe key advantage of this type of xattr is improved performance.\nStoring extended attributes as system attributes\nsignificantly decreases the amount of disk I/O required.\nUp to\n.Sy 64K\nof data may be stored per-file in the space reserved for system attributes.\nIf there is not enough space available for an extended attribute\nthen it will be automatically written as a directory-based xattr.\nSystem-attribute-based extended attributes are not accessible\non platforms which do not support the\n.Sy xattr Ns = Ns Sy sa\nfeature.\nOpenZFS supports\n.Sy xattr Ns = Ns Sy sa\non both\n.Fx\nand Linux.\n.Pp\nThe use of system-attribute-based xattrs is strongly encouraged for users of\nSELinux or POSIX ACLs.\nBoth of these features heavily rely on extended\nattributes and benefit significantly from the reduced access time.\n.Pp\nThe values\n.Sy on\nand\n.Sy off\nare equivalent to the\n.Sy xattr\nand\n.Sy noxattr\nmount options.\n.It Sy jailed Ns = Ns Sy off Ns | Ns Sy on\nControls whether the dataset is managed from a jail.\nSee\n.Xr zfs-jail 8\nfor more information.\nJails are a\n.Fx\nfeature and this property is not available on other platforms.\n.It Sy zoned Ns = Ns Sy off Ns | Ns Sy on\nControls whether the dataset is managed from a non-global zone or namespace.\nSee\n.Xr zfs-zone 8\nfor more information.\nZoning is a\nLinux\nfeature and this property is not available on other platforms.\n.El\n.Pp\nThe following three properties cannot be changed after the file system is\ncreated, and therefore, should be set when the file system is created.\nIf the properties are not set with the\n.Nm zfs Cm create\nor\n.Nm zpool Cm create\ncommands, these properties are inherited from the parent dataset.\nIf the parent dataset lacks these properties due to having been created prior to\nthese features being supported, the new file system will have the default values\nfor these properties.\n.Bl -tag -width \"\"\n.It Xo\n.Sy casesensitivity Ns = Ns Sy sensitive Ns | Ns\n.Sy insensitive Ns | Ns Sy mixed\n.Xc\nIndicates whether the file name matching algorithm used by the file system\nshould be case-sensitive, case-insensitive, or allow a combination of both\nstyles of matching.\nThe default value for the\n.Sy casesensitivity\nproperty is\n.Sy sensitive .\nTraditionally,\n.Ux\nand POSIX file systems have case-sensitive file names.\n.Pp\nThe\n.Sy mixed\nvalue for the\n.Sy casesensitivity\nproperty indicates that the file system can support requests for both\ncase-sensitive and case-insensitive matching behavior.\nCurrently, case-insensitive matching behavior on a file system that supports\nmixed behavior is limited to the SMB server product.\nFor more information about the\n.Sy mixed\nvalue behavior, see the \"ZFS Administration Guide\".\n.It Xo\n.Sy normalization Ns = Ns Sy none Ns | Ns Sy formC Ns | Ns\n.Sy formD Ns | Ns Sy formKC Ns | Ns Sy formKD\n.Xc\nIndicates whether the file system should perform a\n.Sy unicode\nnormalization of file names whenever two file names are compared, and which\nnormalization algorithm should be used.\nFile names are always stored unmodified, names are normalized as part of any\ncomparison process.\nIf this property is set to a legal value other than\n.Sy none ,\nand the\n.Sy utf8only\nproperty was left unspecified, the\n.Sy utf8only\nproperty is automatically set to\n.Sy on .\nThe default value of the\n.Sy normalization\nproperty is\n.Sy none .\nThis property cannot be changed after the file system is created.\n.It Sy utf8only Ns = Ns Sy on Ns | Ns Sy off\nIndicates whether the file system should reject file names that include\ncharacters that are not present in the\n.Sy UTF-8\ncharacter code set.\nIf this property is explicitly set to\n.Sy off ,\nthe normalization property must either not be explicitly set or be set to\n.Sy none .\nThe default value for the\n.Sy utf8only\nproperty is\n.Sy off .\nThis property cannot be changed after the file system is created.\n.El\n.Pp\nThe\n.Sy casesensitivity ,\n.Sy normalization ,\nand\n.Sy utf8only\nproperties are also new permissions that can be assigned to non-privileged users\nby using the ZFS delegated administration feature.\n.\n.Ss Temporary Mount Point Properties\nWhen a file system is mounted, either through\n.Xr mount 8\nfor legacy mounts or the\n.Nm zfs Cm mount\ncommand for normal file systems, its mount options are set according to its\nproperties.\nThe correlation between properties and mount options is as follows:\n.Bl -tag -compact -offset Ds -width \"rootcontext=\"\n.It Sy atime\natime/noatime\n.It Sy canmount\nauto/noauto\n.It Sy devices\ndev/nodev\n.It Sy exec\nexec/noexec\n.It Sy readonly\nro/rw\n.It Sy relatime\nrelatime/norelatime\n.It Sy setuid\nsuid/nosuid\n.It Sy xattr\nxattr/noxattr\n.It Sy nbmand\nmand/nomand\n.It Sy context Ns =\ncontext=\n.It Sy fscontext Ns =\nfscontext=\n.It Sy defcontext Ns =\ndefcontext=\n.It Sy rootcontext Ns =\nrootcontext=\n.El\n.Pp\nIn addition, these options can be set on a per-mount basis using the\n.Fl o\noption, without affecting the property that is stored on disk.\nThe values specified on the command line override the values stored in the\ndataset.\nThe\n.Sy nosuid\noption is an alias for\n.Sy nodevices , Ns Sy nosetuid .\nThese properties are reported as\n.Qq temporary\nby the\n.Nm zfs Cm get\ncommand.\nIf the properties are changed while the dataset is mounted, the new setting\noverrides any temporary settings.\n.\n.Ss User Properties\nIn addition to the standard native properties, ZFS supports arbitrary user\nproperties.\nUser properties have no effect on ZFS behavior, but applications or\nadministrators can use them to annotate datasets\n.Pq file systems, volumes, and snapshots .\n.Pp\nUser property names must contain a colon\n.Pq Qq Sy \\&:\ncharacter to distinguish them from native properties.\nThey may contain lowercase letters, numbers, and the following punctuation\ncharacters: colon\n.Pq Qq Sy \\&: ,\ndash\n.Pq Qq Sy - ,\nperiod\n.Pq Qq Sy \\&. ,\nand underscore\n.Pq Qq Sy _ .\nThe expected convention is that the property name is divided into two portions\nsuch as\n.Ar module : Ns Ar property ,\nbut this namespace is not enforced by ZFS.\nUser property names can be at most 256 characters, and cannot begin with a dash\n.Pq Qq Sy - .\n.Pp\nWhen making programmatic use of user properties, it is strongly suggested to use\na reversed DNS domain name for the\n.Ar module\ncomponent of property names to reduce the chance that two\nindependently-developed packages use the same property name for different\npurposes.\n.Pp\nThe values of user properties are arbitrary strings, are always inherited, and\nare never validated.\nAll of the commands that operate on properties\n.Po Nm zfs Cm list ,\n.Nm zfs Cm get ,\n.Nm zfs Cm set ,\nand so forth\n.Pc\ncan be used to manipulate both native properties and user properties.\nUse the\n.Nm zfs Cm inherit\ncommand to clear a user property.\nIf the property is not defined in any parent dataset, it is removed entirely.\nProperty values are limited to 8192 bytes.\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}