{
  "module_name": "zpool-features.7",
  "hash_id": "63d063f90fe00c3572b748cd5a030e688b20eda780b2b623aab028cabb6fd256",
  "original_prompt": "Ingested from zfs-2.2.2/man/man7/zpool-features.7",
  "human_readable_source": ".\\\"\n.\\\" Copyright (c) 2012, 2018 by Delphix. All rights reserved.\n.\\\" Copyright (c) 2013 by Saso Kiselkov. All rights reserved.\n.\\\" Copyright (c) 2014, Joyent, Inc. All rights reserved.\n.\\\" The contents of this file are subject to the terms of the Common Development\n.\\\" and Distribution License (the \"License\").  You may not use this file except\n.\\\" in compliance with the License. You can obtain a copy of the license at\n.\\\" usr/src/OPENSOLARIS.LICENSE or https://opensource.org/licenses/CDDL-1.0.\n.\\\"\n.\\\" See the License for the specific language governing permissions and\n.\\\" limitations under the License. When distributing Covered Code, include this\n.\\\" CDDL HEADER in each file and include the License file at\n.\\\" usr/src/OPENSOLARIS.LICENSE.  If applicable, add the following below this\n.\\\" CDDL HEADER, with the fields enclosed by brackets \"[]\" replaced with your\n.\\\" own identifying information:\n.\\\" Portions Copyright [yyyy] [name of copyright owner]\n.\\\" Copyright (c) 2019, Klara Inc.\n.\\\" Copyright (c) 2019, Allan Jude\n.\\\" Copyright (c) 2021, Colm Buckley <colm@tuatha.org>\n.\\\"\n.Dd June 23, 2022\n.Dt ZPOOL-FEATURES 7\n.Os\n.\n.Sh NAME\n.Nm zpool-features\n.Nd description of ZFS pool features\n.\n.Sh DESCRIPTION\nZFS pool on-disk format versions are specified via\n.Dq features\nwhich replace the old on-disk format numbers\n.Pq the last supported on-disk format number is 28 .\nTo enable a feature on a pool use the\n.Nm zpool Cm upgrade ,\nor set the\n.Sy feature Ns @ Ns Ar feature-name\nproperty to\n.Sy enabled .\nPlease also see the\n.Sx Compatibility feature sets\nsection for information on how sets of features may be enabled together.\n.Pp\nThe pool format does not affect file system version compatibility or the ability\nto send file systems between pools.\n.Pp\nSince most features can be enabled independently of each other, the on-disk\nformat of the pool is specified by the set of all features marked as\n.Sy active\non the pool.\nIf the pool was created by another software version\nthis set may include unsupported features.\n.\n.Ss Identifying features\nEvery feature has a GUID of the form\n.Ar com.example : Ns Ar feature-name .\nThe reversed DNS name ensures that the feature's GUID is unique across all ZFS\nimplementations.\nWhen unsupported features are encountered on a pool they will\nbe identified by their GUIDs.\nRefer to the documentation for the ZFS\nimplementation that created the pool for information about those features.\n.Pp\nEach supported feature also has a short name.\nBy convention a feature's short name is the portion of its GUID which follows\nthe\n.Sq \\&:\n.Po\ni.e.\n.Ar com.example : Ns Ar feature-name\nwould have the short name\n.Ar feature-name\n.Pc ,\nhowever a feature's short name may differ across ZFS implementations if\nfollowing the convention would result in name conflicts.\n.\n.Ss Feature states\nFeatures can be in one of three states:\n.Bl -tag -width \"disabled\"\n.It Sy active\nThis feature's on-disk format changes are in effect on the pool.\nSupport for this feature is required to import the pool in read-write mode.\nIf this feature is not read-only compatible,\nsupport is also required to import the pool in read-only mode\n.Pq see Sx Read-only compatibility .\n.It Sy enabled\nAn administrator has marked this feature as enabled on the pool, but the\nfeature's on-disk format changes have not been made yet.\nThe pool can still be imported by software that does not support this feature,\nbut changes may be made to the on-disk format at any time\nwhich will move the feature to the\n.Sy active\nstate.\nSome features may support returning to the\n.Sy enabled\nstate after becoming\n.Sy active .\nSee feature-specific documentation for details.\n.It Sy disabled\nThis feature's on-disk format changes have not been made and will not be made\nunless an administrator moves the feature to the\n.Sy enabled\nstate.\nFeatures cannot be disabled once they have been enabled.\n.El\n.Pp\nThe state of supported features is exposed through pool properties of the form\n.Sy feature Ns @ Ns Ar short-name .\n.\n.Ss Read-only compatibility\nSome features may make on-disk format changes that do not interfere with other\nsoftware's ability to read from the pool.\nThese features are referred to as\n.Dq read-only compatible .\nIf all unsupported features on a pool are read-only compatible,\nthe pool can be imported in read-only mode by setting the\n.Sy readonly\nproperty during import\n.Po see\n.Xr zpool-import 8\nfor details on importing pools\n.Pc .\n.\n.Ss Unsupported features\nFor each unsupported feature enabled on an imported pool, a pool property\nnamed\n.Sy unsupported Ns @ Ns Ar feature-name\nwill indicate why the import was allowed despite the unsupported feature.\nPossible values for this property are:\n.Bl -tag -width \"readonly\"\n.It Sy inactive\nThe feature is in the\n.Sy enabled\nstate and therefore the pool's on-disk\nformat is still compatible with software that does not support this feature.\n.It Sy readonly\nThe feature is read-only compatible and the pool has been imported in\nread-only mode.\n.El\n.\n.Ss Feature dependencies\nSome features depend on other features being enabled in order to function.\nEnabling a feature will automatically enable any features it depends on.\n.\n.Ss Compatibility feature sets\nIt is sometimes necessary for a pool to maintain compatibility with a\nspecific on-disk format, by enabling and disabling particular features.\nThe\n.Sy compatibility\nfeature facilitates this by allowing feature sets to be read from text files.\nWhen set to\n.Sy off\n.Pq the default ,\ncompatibility feature sets are disabled\n.Pq i.e. all features are enabled ;\nwhen set to\n.Sy legacy ,\nno features are enabled.\nWhen set to a comma-separated list of filenames\n.Po\neach filename may either be an absolute path, or relative to\n.Pa /etc/zfs/compatibility.d\nor\n.Pa /usr/share/zfs/compatibility.d\n.Pc ,\nthe lists of requested features are read from those files,\nseparated by whitespace and/or commas.\nOnly features present in all files are enabled.\n.Pp\nSimple sanity checks are applied to the files:\nthey must be between 1 B and 16 KiB in size, and must end with a newline\ncharacter.\n.Pp\nThe requested features are applied when a pool is created using\n.Nm zpool Cm create Fl o Sy compatibility Ns = Ns Ar \u2026\nand controls which features are enabled when using\n.Nm zpool Cm upgrade .\n.Nm zpool Cm status\nwill not show a warning about disabled features which are not part\nof the requested feature set.\n.Pp\nThe special value\n.Sy legacy\nprevents any features from being enabled, either via\n.Nm zpool Cm upgrade\nor\n.Nm zpool Cm set Sy feature Ns @ Ns Ar feature-name Ns = Ns Sy enabled .\nThis setting also prevents pools from being upgraded to newer on-disk versions.\nThis is a safety measure to prevent new features from being\naccidentally enabled, breaking compatibility.\n.Pp\nBy convention, compatibility files in\n.Pa /usr/share/zfs/compatibility.d\nare provided by the distribution, and include feature sets\nsupported by important versions of popular distributions, and feature\nsets commonly supported at the start of each year.\nCompatibility files in\n.Pa /etc/zfs/compatibility.d ,\nif present, will take precedence over files with the same name in\n.Pa /usr/share/zfs/compatibility.d .\n.Pp\nIf an unrecognized feature is found in these files, an error message will\nbe shown.\nIf the unrecognized feature is in a file in\n.Pa /etc/zfs/compatibility.d ,\nthis is treated as an error and processing will stop.\nIf the unrecognized feature is under\n.Pa /usr/share/zfs/compatibility.d ,\nthis is treated as a warning and processing will continue.\nThis difference is to allow distributions to include features\nwhich might not be recognized by the currently-installed binaries.\n.Pp\nCompatibility files may include comments:\nany text from\n.Sq #\nto the end of the line is ignored.\n.Pp\n.Sy Example :\n.Bd -literal -compact -offset 4n\n.No example# Nm cat Pa /usr/share/zfs/compatibility.d/grub2\n# Features which are supported by GRUB2\nallocation_classes\nasync_destroy\nblock_cloning\nbookmarks\ndevice_rebuild\nembedded_data\nempty_bpobj\nenabled_txg\nextensible_dataset\nfilesystem_limits\nhole_birth\nlarge_blocks\nlivelist\nlog_spacemap\nlz4_compress\nproject_quota\nresilver_defer\nspacemap_histogram\nspacemap_v2\nuserobj_accounting\nzilsaxattr\nzpool_checkpoint\n\n.No example# Nm zpool Cm create Fl o Sy compatibility Ns = Ns Ar grub2 Ar bootpool Ar vdev\n.Ed\n.Pp\nSee\n.Xr zpool-create 8\nand\n.Xr zpool-upgrade 8\nfor more information on how these commands are affected by feature sets.\n.\n.de feature\n.It Sy \\\\$2\n.Bl -tag -compact -width \"READ-ONLY COMPATIBLE\"\n.It GUID\n.Sy \\\\$1:\\\\$2\n.if !\"\\\\$4\"\" \\{\\\n.It DEPENDENCIES\n\\fB\\\\$4\\fP\\c\n.if !\"\\\\$5\"\" , \\fB\\\\$5\\fP\\c\n.if !\"\\\\$6\"\" , \\fB\\\\$6\\fP\\c\n.if !\"\\\\$7\"\" , \\fB\\\\$7\\fP\\c\n.if !\"\\\\$8\"\" , \\fB\\\\$8\\fP\\c\n.if !\"\\\\$9\"\" , \\fB\\\\$9\\fP\\c\n.\\}\n.It READ-ONLY COMPATIBLE\n\\\\$3\n.El\n.Pp\n..\n.\n.ds instant-never \\\n.No This feature becomes Sy active No as soon as it is enabled \\\nand will never return to being Sy enabled .\n.\n.ds remount-upgrade \\\n.No Each filesystem will be upgraded automatically when remounted, \\\nor when a new file is created under that filesystem. \\\nThe upgrade can also be triggered on filesystems via \\\nNm zfs Cm set Sy version Ns = Ns Sy current Ar fs . \\\nNo The upgrade process runs in the background and may take a while to complete \\\nfor filesystems containing large amounts of files .\n.\n.de checksum-spiel\nWhen the\n.Sy \\\\$1\nfeature is set to\n.Sy enabled ,\nthe administrator can turn on the\n.Sy \\\\$1\nchecksum on any dataset using\n.Nm zfs Cm set Sy checksum Ns = Ns Sy \\\\$1 Ar dset\n.Po see Xr zfs-set 8 Pc .\nThis feature becomes\n.Sy active\nonce a\n.Sy checksum\nproperty has been set to\n.Sy \\\\$1 ,\nand will return to being\n.Sy enabled\nonce all filesystems that have ever had their checksum set to\n.Sy \\\\$1\nare destroyed.\n..\n.\n.Sh FEATURES\nThe following features are supported on this system:\n.Bl -tag -width Ds\n.feature org.zfsonlinux allocation_classes yes\nThis feature enables support for separate allocation classes.\n.Pp\nThis feature becomes\n.Sy active\nwhen a dedicated allocation class vdev\n.Pq dedup or special\nis created with the\n.Nm zpool Cm create No or Nm zpool Cm add No commands .\nWith device removal, it can be returned to the\n.Sy enabled\nstate if all the dedicated allocation class vdevs are removed.\n.\n.feature com.delphix async_destroy yes\nDestroying a file system requires traversing all of its data in order to\nreturn its used space to the pool.\nWithout\n.Sy async_destroy ,\nthe file system is not fully removed until all space has been reclaimed.\nIf the destroy operation is interrupted by a reboot or power outage,\nthe next attempt to open the pool will need to complete the destroy\noperation synchronously.\n.Pp\nWhen\n.Sy async_destroy\nis enabled, the file system's data will be reclaimed by a background process,\nallowing the destroy operation to complete\nwithout traversing the entire file system.\nThe background process is able to resume\ninterrupted destroys after the pool has been opened, eliminating the need\nto finish interrupted destroys as part of the open operation.\nThe amount of space remaining to be reclaimed by the background process\nis available through the\n.Sy freeing\nproperty.\n.Pp\nThis feature is only\n.Sy active\nwhile\n.Sy freeing\nis non-zero.\n.\n.feature org.openzfs blake3 no extensible_dataset\nThis feature enables the use of the BLAKE3 hash algorithm for checksum and\ndedup.\nBLAKE3 is a secure hash algorithm focused on high performance.\n.Pp\n.checksum-spiel blake3\n.\n.feature com.fudosecurity block_cloning yes\nWhen this feature is enabled ZFS will use block cloning for operations like\n.Fn copy_file_range 2 .\nBlock cloning allows to create multiple references to a single block.\nIt is much faster than copying the data (as the actual data is neither read nor\nwritten) and takes no additional space.\nBlocks can be cloned across datasets under some conditions (like disabled\nencryption and equal\n.Nm recordsize ) .\n.Pp\nThis feature becomes\n.Sy active\nwhen first block is cloned.\nWhen the last cloned block is freed, it goes back to the enabled state.\n.feature com.delphix bookmarks yes extensible_dataset\nThis feature enables use of the\n.Nm zfs Cm bookmark\ncommand.\n.Pp\nThis feature is\n.Sy active\nwhile any bookmarks exist in the pool.\nAll bookmarks in the pool can be listed by running\n.Nm zfs Cm list Fl t Sy bookmark Fl r Ar poolname .\n.\n.feature com.datto bookmark_v2 no bookmark extensible_dataset\nThis feature enables the creation and management of larger bookmarks which are\nneeded for other features in ZFS.\n.Pp\nThis feature becomes\n.Sy active\nwhen a v2 bookmark is created and will be returned to the\n.Sy enabled\nstate when all v2 bookmarks are destroyed.\n.\n.feature com.delphix bookmark_written no bookmark extensible_dataset bookmark_v2\nThis feature enables additional bookmark accounting fields, enabling the\n.Sy written Ns # Ns Ar bookmark\nproperty\n.Pq space written since a bookmark\nand estimates of send stream sizes for incrementals from bookmarks.\n.Pp\nThis feature becomes\n.Sy active\nwhen a bookmark is created and will be\nreturned to the\n.Sy enabled\nstate when all bookmarks with these fields are destroyed.\n.\n.feature org.openzfs device_rebuild yes\nThis feature enables the ability for the\n.Nm zpool Cm attach\nand\n.Nm zpool Cm replace\ncommands to perform sequential reconstruction\n.Pq instead of healing reconstruction\nwhen resilvering.\n.Pp\nSequential reconstruction resilvers a device in LBA order without immediately\nverifying the checksums.\nOnce complete, a scrub is started, which then verifies the checksums.\nThis approach allows full redundancy to be restored to the pool\nin the minimum amount of time.\nThis two-phase approach will take longer than a healing resilver\nwhen the time to verify the checksums is included.\nHowever, unless there is additional pool damage,\nno checksum errors should be reported by the scrub.\nThis feature is incompatible with raidz configurations.\n.\nThis feature becomes\n.Sy active\nwhile a sequential resilver is in progress, and returns to\n.Sy enabled\nwhen the resilver completes.\n.\n.feature com.delphix device_removal no\nThis feature enables the\n.Nm zpool Cm remove\ncommand to remove top-level vdevs,\nevacuating them to reduce the total size of the pool.\n.Pp\nThis feature becomes\n.Sy active\nwhen the\n.Nm zpool Cm remove\ncommand is used\non a top-level vdev, and will never return to being\n.Sy enabled .\n.\n.feature org.openzfs draid no\nThis feature enables use of the\n.Sy draid\nvdev type.\ndRAID is a variant of RAID-Z which provides integrated distributed\nhot spares that allow faster resilvering while retaining the benefits of RAID-Z.\nData, parity, and spare space are organized in redundancy groups\nand distributed evenly over all of the devices.\n.Pp\nThis feature becomes\n.Sy active\nwhen creating a pool which uses the\n.Sy draid\nvdev type, or when adding a new\n.Sy draid\nvdev to an existing pool.\n.\n.feature org.illumos edonr no extensible_dataset\nThis feature enables the use of the Edon-R hash algorithm for checksum,\nincluding for nopwrite\n.Po if compression is also enabled, an overwrite of\na block whose checksum matches the data being written will be ignored\n.Pc .\nIn an abundance of caution, Edon-R requires verification when used with\ndedup:\n.Nm zfs Cm set Sy dedup Ns = Ns Sy edonr , Ns Sy verify\n.Po see Xr zfs-set 8 Pc .\n.Pp\nEdon-R is a very high-performance hash algorithm that was part\nof the NIST SHA-3 competition.\nIt provides extremely high hash performance\n.Pq over 350% faster than SHA-256 ,\nbut was not selected because of its unsuitability\nas a general purpose secure hash algorithm.\nThis implementation utilizes the new salted checksumming functionality\nin ZFS, which means that the checksum is pre-seeded with a secret\n256-bit random key\n.Pq stored on the pool\nbefore being fed the data block to be checksummed.\nThus the produced checksums are unique to a given pool,\npreventing hash collision attacks on systems with dedup.\n.Pp\n.checksum-spiel edonr\n.\n.feature com.delphix embedded_data no\nThis feature improves the performance and compression ratio of\nhighly-compressible blocks.\nBlocks whose contents can compress to 112 bytes\nor smaller can take advantage of this feature.\n.Pp\nWhen this feature is enabled, the contents of highly-compressible blocks are\nstored in the block\n.Dq pointer\nitself\n.Po a misnomer in this case, as it contains\nthe compressed data, rather than a pointer to its location on disk\n.Pc .\nThus the space of the block\n.Pq one sector, typically 512 B or 4 KiB\nis saved, and no additional I/O is needed to read and write the data block.\n.\n\\*[instant-never]\n.\n.feature com.delphix empty_bpobj yes\nThis feature increases the performance of creating and using a large\nnumber of snapshots of a single filesystem or volume, and also reduces\nthe disk space required.\n.Pp\nWhen there are many snapshots, each snapshot uses many Block Pointer\nObjects\n.Pq bpobjs\nto track blocks associated with that snapshot.\nHowever, in common use cases, most of these bpobjs are empty.\nThis feature allows us to create each bpobj on-demand,\nthus eliminating the empty bpobjs.\n.Pp\nThis feature is\n.Sy active\nwhile there are any filesystems, volumes,\nor snapshots which were created after enabling this feature.\n.\n.feature com.delphix enabled_txg yes\nOnce this feature is enabled, ZFS records the transaction group number\nin which new features are enabled.\nThis has no user-visible impact, but other features may depend on this feature.\n.Pp\nThis feature becomes\n.Sy active\nas soon as it is enabled and will never return to being\n.Sy enabled .\n.\n.feature com.datto encryption no bookmark_v2 extensible_dataset\nThis feature enables the creation and management of natively encrypted datasets.\n.Pp\nThis feature becomes\n.Sy active\nwhen an encrypted dataset is created and will be returned to the\n.Sy enabled\nstate when all datasets that use this feature are destroyed.\n.\n.feature com.delphix extensible_dataset no\nThis feature allows more flexible use of internal ZFS data structures,\nand exists for other features to depend on.\n.Pp\nThis feature will be\n.Sy active\nwhen the first dependent feature uses it, and will be returned to the\n.Sy enabled\nstate when all datasets that use this feature are destroyed.\n.\n.feature com.joyent filesystem_limits yes extensible_dataset\nThis feature enables filesystem and snapshot limits.\nThese limits can be used to control how many filesystems and/or snapshots\ncan be created at the point in the tree on which the limits are set.\n.Pp\nThis feature is\n.Sy active\nonce either of the limit properties has been set on a dataset\nand will never return to being\n.Sy enabled .\n.\n.feature com.delphix head_errlog no\nThis feature enables the upgraded version of errlog, which required an on-disk\nerror log format change.\nNow the error log of each head dataset is stored separately in the zap object\nand keyed by the head id.\nWith this feature enabled, every dataset affected by an error block is listed\nin the output of\n.Nm zpool Cm status .\nIn case of encrypted filesystems with unloaded keys we are unable to check\ntheir snapshots or clones for errors and these will not be reported.\nAn \"access denied\" error will be reported.\n.Pp\n\\*[instant-never]\n.\n.feature com.delphix hole_birth no enabled_txg\nThis feature has/had bugs, the result of which is that, if you do a\n.Nm zfs Cm send Fl i\n.Pq or Fl R , No since it uses Fl i\nfrom an affected dataset, the receiving party will not see any checksum\nor other errors, but the resulting destination snapshot\nwill not match the source.\nIts use by\n.Nm zfs Cm send Fl i\nhas been disabled by default\n.Po\nsee\n.Sy send_holes_without_birth_time\nin\n.Xr zfs 4\n.Pc .\n.Pp\nThis feature improves performance of incremental sends\n.Pq Nm zfs Cm send Fl i\nand receives for objects with many holes.\nThe most common case of hole-filled objects is zvols.\n.Pp\nAn incremental send stream from snapshot\n.Sy A No to snapshot Sy B\ncontains information about every block that changed between\n.Sy A No and Sy B .\nBlocks which did not change between those snapshots can be\nidentified and omitted from the stream using a piece of metadata called\nthe\n.Dq block birth time ,\nbut birth times are not recorded for holes\n.Pq blocks filled only with zeroes .\nSince holes created after\n.Sy A No cannot be distinguished from holes created before Sy A ,\ninformation about every hole in the entire filesystem or zvol\nis included in the send stream.\n.Pp\nFor workloads where holes are rare this is not a problem.\nHowever, when incrementally replicating filesystems or zvols with many holes\n.Pq for example a zvol formatted with another filesystem\na lot of time will be spent sending and receiving unnecessary information\nabout holes that already exist on the receiving side.\n.Pp\nOnce the\n.Sy hole_birth\nfeature has been enabled the block birth times\nof all new holes will be recorded.\nIncremental sends between snapshots created after this feature is enabled\nwill use this new metadata to avoid sending information about holes that\nalready exist on the receiving side.\n.Pp\n\\*[instant-never]\n.\n.feature org.open-zfs large_blocks no extensible_dataset\nThis feature allows the record size on a dataset to be set larger than 128 KiB.\n.Pp\nThis feature becomes\n.Sy active\nonce a dataset contains a file with a block size larger than 128 KiB,\nand will return to being\n.Sy enabled\nonce all filesystems that have ever had their recordsize larger than 128 KiB\nare destroyed.\n.\n.feature org.zfsonlinux large_dnode no extensible_dataset\nThis feature allows the size of dnodes in a dataset to be set larger than 512 B.\n.\nThis feature becomes\n.Sy active\nonce a dataset contains an object with a dnode larger than 512 B,\nwhich occurs as a result of setting the\n.Sy dnodesize\ndataset property to a value other than\n.Sy legacy .\nThe feature will return to being\n.Sy enabled\nonce all filesystems that have ever contained a dnode larger than 512 B\nare destroyed.\nLarge dnodes allow more data to be stored in the bonus buffer,\nthus potentially improving performance by avoiding the use of spill blocks.\n.\n.feature com.delphix livelist yes\nThis feature allows clones to be deleted faster than the traditional method\nwhen a large number of random/sparse writes have been made to the clone.\nAll blocks allocated and freed after a clone is created are tracked by the\nthe clone's livelist which is referenced during the deletion of the clone.\nThe feature is activated when a clone is created and remains\n.Sy active\nuntil all clones have been destroyed.\n.\n.feature com.delphix log_spacemap yes com.delphix:spacemap_v2\nThis feature improves performance for heavily-fragmented pools,\nespecially when workloads are heavy in random-writes.\nIt does so by logging all the metaslab changes on a single spacemap every TXG\ninstead of scattering multiple writes to all the metaslab spacemaps.\n.Pp\n\\*[instant-never]\n.\n.feature org.illumos lz4_compress no\n.Sy lz4\nis a high-performance real-time compression algorithm that\nfeatures significantly faster compression and decompression as well as a\nhigher compression ratio than the older\n.Sy lzjb\ncompression.\nTypically,\n.Sy lz4\ncompression is approximately 50% faster on compressible data and 200% faster\non incompressible data than\n.Sy lzjb .\nIt is also approximately 80% faster on decompression,\nwhile giving approximately a 10% better compression ratio.\n.Pp\nWhen the\n.Sy lz4_compress\nfeature is set to\n.Sy enabled ,\nthe administrator can turn on\n.Sy lz4\ncompression on any dataset on the pool using the\n.Xr zfs-set 8\ncommand.\nAll newly written metadata will be compressed with the\n.Sy lz4\nalgorithm.\n.Pp\n\\*[instant-never]\n.\n.feature com.joyent multi_vdev_crash_dump no\nThis feature allows a dump device to be configured with a pool comprised\nof multiple vdevs.\nThose vdevs may be arranged in any mirrored or raidz configuration.\n.Pp\nWhen the\n.Sy multi_vdev_crash_dump\nfeature is set to\n.Sy enabled ,\nthe administrator can use\n.Xr dumpadm 8\nto configure a dump device on a pool comprised of multiple vdevs.\n.Pp\nUnder\n.Fx\nand Linux this feature is unused, but registered for compatibility.\nNew pools created on these systems will have the feature\n.Sy enabled\nbut will never transition to\n.Sy active ,\nas this functionality is not required for crash dump support.\nExisting pools where this feature is\n.Sy active\ncan be imported.\n.\n.feature com.delphix obsolete_counts yes device_removal\nThis feature is an enhancement of\n.Sy device_removal ,\nwhich will over time reduce the memory used to track removed devices.\nWhen indirect blocks are freed or remapped,\nwe note that their part of the indirect mapping is\n.Dq obsolete\n\u2013 no longer needed.\n.Pp\nThis feature becomes\n.Sy active\nwhen the\n.Nm zpool Cm remove\ncommand is used on a top-level vdev, and will never return to being\n.Sy enabled .\n.\n.feature org.zfsonlinux project_quota yes extensible_dataset\nThis feature allows administrators to account the spaces and objects usage\ninformation against the project identifier\n.Pq ID .\n.Pp\nThe project ID is an object-based attribute.\nWhen upgrading an existing filesystem,\nobjects without a project ID will be assigned a zero project ID.\nWhen this feature is enabled, newly created objects inherit\ntheir parent directories' project ID if the parent's inherit flag is set\n.Pq via Nm chattr Sy [+-]P No or Nm zfs Cm project Fl s Ns | Ns Fl C .\nOtherwise, the new object's project ID will be zero.\nAn object's project ID can be changed at any time by the owner\n.Pq or privileged user\nvia\n.Nm chattr Fl p Ar prjid\nor\n.Nm zfs Cm project Fl p Ar prjid .\n.Pp\nThis feature will become\n.Sy active\nas soon as it is enabled and will never return to being\n.Sy disabled .\n\\*[remount-upgrade]\n.\n.feature com.delphix redaction_bookmarks no bookmarks extensible_dataset\nThis feature enables the use of redacted\n.Nm zfs Cm send Ns s ,\nwhich create redaction bookmarks storing the list of blocks\nredacted by the send that created them.\nFor more information about redacted sends, see\n.Xr zfs-send 8 .\n.\n.feature com.delphix redacted_datasets no extensible_dataset\nThis feature enables the receiving of redacted\n.Nm zfs Cm send\nstreams, which create redacted datasets when received.\nThese datasets are missing some of their blocks,\nand so cannot be safely mounted, and their contents cannot be safely read.\nFor more information about redacted receives, see\n.Xr zfs-send 8 .\n.\n.feature com.datto resilver_defer yes\nThis feature allows ZFS to postpone new resilvers if an existing one is already\nin progress.\nWithout this feature, any new resilvers will cause the currently\nrunning one to be immediately restarted from the beginning.\n.Pp\nThis feature becomes\n.Sy active\nonce a resilver has been deferred, and returns to being\n.Sy enabled\nwhen the deferred resilver begins.\n.\n.feature org.illumos sha512 no extensible_dataset\nThis feature enables the use of the SHA-512/256 truncated hash algorithm\n.Pq FIPS 180-4\nfor checksum and dedup.\nThe native 64-bit arithmetic of SHA-512 provides an approximate 50%\nperformance boost over SHA-256 on 64-bit hardware\nand is thus a good minimum-change replacement candidate\nfor systems where hash performance is important,\nbut these systems cannot for whatever reason utilize the faster\n.Sy skein No and Sy edonr\nalgorithms.\n.Pp\n.checksum-spiel sha512\n.\n.feature org.illumos skein no extensible_dataset\nThis feature enables the use of the Skein hash algorithm for checksum and dedup.\nSkein is a high-performance secure hash algorithm that was a\nfinalist in the NIST SHA-3 competition.\nIt provides a very high security margin and high performance on 64-bit hardware\n.Pq 80% faster than SHA-256 .\nThis implementation also utilizes the new salted checksumming\nfunctionality in ZFS, which means that the checksum is pre-seeded with a\nsecret 256-bit random key\n.Pq stored on the pool\nbefore being fed the data block to be checksummed.\nThus the produced checksums are unique to a given pool,\npreventing hash collision attacks on systems with dedup.\n.Pp\n.checksum-spiel skein\n.\n.feature com.delphix spacemap_histogram yes\nThis features allows ZFS to maintain more information about how free space\nis organized within the pool.\nIf this feature is\n.Sy enabled ,\nit will be activated when a new space map object is created, or\nan existing space map is upgraded to the new format,\nand never returns back to being\n.Sy enabled .\n.\n.feature com.delphix spacemap_v2 yes\nThis feature enables the use of the new space map encoding which\nconsists of two words\n.Pq instead of one\nwhenever it is advantageous.\nThe new encoding allows space maps to represent large regions of\nspace more efficiently on-disk while also increasing their maximum\naddressable offset.\n.Pp\nThis feature becomes\n.Sy active\nonce it is\n.Sy enabled ,\nand never returns back to being\n.Sy enabled .\n.\n.feature org.zfsonlinux userobj_accounting yes extensible_dataset\nThis feature allows administrators to account the object usage information\nby user and group.\n.Pp\n\\*[instant-never]\n\\*[remount-upgrade]\n.\n.feature com.klarasystems vdev_zaps_v2 no\nThis feature creates a ZAP object for the root vdev.\n.Pp\nThis feature becomes active after the next\n.Nm zpool Cm import\nor\n.Nm zpool reguid .\n.\nProperties can be retrieved or set on the root vdev using\n.Nm zpool Cm get\nand\n.Nm zpool Cm set\nwith\n.Sy root\nas the vdev name which is an alias for\n.Sy root-0 .\n.feature org.openzfs zilsaxattr yes extensible_dataset\nThis feature enables\n.Sy xattr Ns = Ns Sy sa\nextended attribute logging in the ZIL.\nIf enabled, extended attribute changes\n.Pq both Sy xattrdir Ns = Ns Sy dir No and Sy xattr Ns = Ns Sy sa\nare guaranteed to be durable if either the dataset had\n.Sy sync Ns = Ns Sy always\nset at the time the changes were made, or\n.Xr sync 2\nis called on the dataset after the changes were made.\n.Pp\nThis feature becomes\n.Sy active\nwhen a ZIL is created for at least one dataset and will be returned to the\n.Sy enabled\nstate when it is destroyed for all datasets that use this feature.\n.\n.feature com.delphix zpool_checkpoint yes\nThis feature enables the\n.Nm zpool Cm checkpoint\ncommand that can checkpoint the state of the pool\nat the time it was issued and later rewind back to it or discard it.\n.Pp\nThis feature becomes\n.Sy active\nwhen the\n.Nm zpool Cm checkpoint\ncommand is used to checkpoint the pool.\nThe feature will only return back to being\n.Sy enabled\nwhen the pool is rewound or the checkpoint has been discarded.\n.\n.feature org.freebsd zstd_compress no extensible_dataset\n.Sy zstd\nis a high-performance compression algorithm that features a\ncombination of high compression ratios and high speed.\nCompared to\n.Sy gzip ,\n.Sy zstd\noffers slightly better compression at much higher speeds.\nCompared to\n.Sy lz4 ,\n.Sy zstd\noffers much better compression while being only modestly slower.\nTypically,\n.Sy zstd\ncompression speed ranges from 250 to 500 MB/s per thread\nand decompression speed is over 1 GB/s per thread.\n.Pp\nWhen the\n.Sy zstd\nfeature is set to\n.Sy enabled ,\nthe administrator can turn on\n.Sy zstd\ncompression of any dataset using\n.Nm zfs Cm set Sy compress Ns = Ns Sy zstd Ar dset\n.Po see Xr zfs-set 8 Pc .\nThis feature becomes\n.Sy active\nonce a\n.Sy compress\nproperty has been set to\n.Sy zstd ,\nand will return to being\n.Sy enabled\nonce all filesystems that have ever had their\n.Sy compress\nproperty set to\n.Sy zstd\nare destroyed.\n.El\n.\n.Sh SEE ALSO\n.Xr zfs 8 ,\n.Xr zpool 8\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}