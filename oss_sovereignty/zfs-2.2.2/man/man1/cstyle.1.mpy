{
  "module_name": "cstyle.1",
  "hash_id": "fd1426b0ef219431b4eb0eb18a23af8ae6c8954c358e600e230eab3f55ff3c21",
  "original_prompt": "Ingested from zfs-2.2.2/man/man1/cstyle.1",
  "human_readable_source": ".\\\" Copyright 2009 Sun Microsystems, Inc.  All rights reserved.\n.\\\" Use is subject to license terms.\n.\\\"\n.\\\" CDDL HEADER START\n.\\\"\n.\\\" The contents of this file are subject to the terms of the\n.\\\" Common Development and Distribution License (the \"License\").\n.\\\" You may not use this file except in compliance with the License.\n.\\\"\n.\\\" You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE\n.\\\" or https://opensource.org/licenses/CDDL-1.0.\n.\\\" See the License for the specific language governing permissions\n.\\\" and limitations under the License.\n.\\\"\n.\\\" When distributing Covered Code, include this CDDL HEADER in each\n.\\\" file and include the License file at usr/src/OPENSOLARIS.LICENSE.\n.\\\" If applicable, add the following below this CDDL HEADER, with the\n.\\\" fields enclosed by brackets \"[]\" replaced with your own identifying\n.\\\" information: Portions Copyright [yyyy] [name of copyright owner]\n.\\\"\n.\\\" CDDL HEADER END\n.\\\"\n.Dd May 26, 2021\n.Dt CSTYLE 1\n.Os\n.\n.Sh NAME\n.Nm cstyle\n.Nd check for some common stylistic errors in C source files\n.Sh SYNOPSIS\n.Nm\n.Op Fl chpvCP\n.Oo Ar file Oc Ns \u2026\n.Sh DESCRIPTION\n.Nm\ninspects C source files (*.c and *.h) for common stylistic errors.\nIt attempts to check for the cstyle documented in\n.Lk http://www.cis.upenn.edu/~lee/06cse480/data/cstyle.ms.pdf .\nNote that there is much in that document that\n.Em cannot\nbe checked for; just because your code is\n.Nm Ns -clean\ndoes not mean that you've followed Sun's C style.\n.Em Caveat emptor .\n.\n.Sh OPTIONS\n.Bl -tag -width \"-c\"\n.It Fl c\nCheck continuation line indentation inside of functions.\nSun's C style\nstates that all statements must be indented to an appropriate tab stop,\nand any continuation lines after them must be indented\n.Em exactly\nfour spaces from the start line.\nThis option enables a series of checks designed to find\ncontinuation line problems within functions only.\nThe checks have some limitations; see\n.Sy CONTINUATION CHECKING ,\nbelow.\n.It Fl p\nPerforms some of the more picky checks.\nIncludes ANSI\n.Sy #else\nand\n.Sy #endif\nrules, and tries to detect spaces after casts.\nUsed as part of the putback checks.\n.It Fl v\nVerbose output; includes the text of the line of error, and, for\n.Fl c ,\nthe first statement in the current continuation block.\n.It Fl P\nCheck for use of non-POSIX types.\nHistorically, types like\n.Sy u_int\nand\n.Sy u_long\nwere used, but they are now deprecated in favor of the POSIX\ntypes\n.Sy uint_t ,\n.Sy ulong_t ,\netc.\nThis detects any use of the deprecated types.\nUsed as part of the putback checks.\n.It Fl g\nAlso print GitHub-Actions-style\n.Li ::error\noutput.\n.El\n.\n.Sh ENVIRONMENT\n.Bl -tag -compact -width \".Ev CI\"\n.It Ev CI\nIf set and nonempty, equivalent to\n.Fl g .\n.El\n.\n.Sh CONTINUATION CHECKING\nThe continuation checker is a reasonably simple state machine that knows\nsomething about how C is laid out, and can match parenthesis, etc. over\nmultiple lines.\nIt does have some limitations:\n.Bl -enum\n.It\nPreprocessor macros which cause unmatched parenthesis will confuse the\nchecker for that line.\nTo fix this, you'll need to make sure that each branch of the\n.Sy #if\nstatement has balanced parenthesis.\n.It\nSome\n.Xr cpp 1\nmacros do not require\n.Sy ;\\& Ns s after them.\nAny such macros\n.Em must\nbe ALL_CAPS; any lower case letters will cause bad output.\n.Pp\nThe bad output will generally be corrected after the next\n.Sy ;\\& , { , No or Sy } .\n.El\nSome continuation error messages deserve some additional explanation:\n.Bl -tag -width Ds\n.It Sy multiple statements continued over multiple lines\nA multi-line statement which is not broken at statement boundaries.\nFor example:\n.Bd -literal -compact -offset Ds\nif (this_is_a_long_variable == another_variable) a =\n    b + c;\n.Ed\n.Pp\nWill trigger this error.\nInstead, do:\n.Bd -literal -compact -offset Ds\nif (this_is_a_long_variable == another_variable)\n    a = b + c;\n.Ed\n.It Sy empty if/for/while body not on its own line\nFor visibility, empty bodies for if, for, and while statements should be\non their own line.\nFor example:\n.Bd -literal -compact -offset Ds\nwhile (do_something(&x) == 0);\n.Ed\n.Pp\nWill trigger this error.\nInstead, do:\n.Bd -literal -compact -offset Ds\nwhile (do_something(&x) == 0)\n    ;\n.Ed\n.El\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}