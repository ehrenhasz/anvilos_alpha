{
  "module_name": "zhack.1",
  "hash_id": "beef68babc5f4c8de12087969aea1f1b703f5327adaa05287361cfc6a9fce02f",
  "original_prompt": "Ingested from zfs-2.2.2/man/man1/zhack.1",
  "human_readable_source": ".\\\"\n.\\\" CDDL HEADER START\n.\\\"\n.\\\" The contents of this file are subject to the terms of the\n.\\\" Common Development and Distribution License (the \"License\").\n.\\\" You may not use this file except in compliance with the License.\n.\\\"\n.\\\" You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE\n.\\\" or https://opensource.org/licenses/CDDL-1.0.\n.\\\" See the License for the specific language governing permissions\n.\\\" and limitations under the License.\n.\\\"\n.\\\" When distributing Covered Code, include this CDDL HEADER in each\n.\\\" file and include the License file at usr/src/OPENSOLARIS.LICENSE.\n.\\\" If applicable, add the following below this CDDL HEADER, with the\n.\\\" fields enclosed by brackets \"[]\" replaced with your own identifying\n.\\\" information: Portions Copyright [yyyy] [name of copyright owner]\n.\\\"\n.\\\" CDDL HEADER END\n.\\\"\n.\\\" Copyright 2013 Darik Horn <dajhorn@vanadac.com>. All rights reserved.\n.\\\"\n.\\\" lint-ok: WARNING: sections out of conventional order: Sh SYNOPSIS\n.\\\"\n.Dd May 26, 2021\n.Dt ZHACK 1\n.Os\n.\n.Sh NAME\n.Nm zhack\n.Nd libzpool debugging tool\n.Sh DESCRIPTION\nThis utility pokes configuration changes directly into a ZFS pool,\nwhich is dangerous and can cause data corruption.\n.Sh SYNOPSIS\n.Bl -tag -width Ds\n.It Xo\n.Nm zhack\n.Cm feature stat\n.Ar pool\n.Xc\nList feature flags.\n.\n.It Xo\n.Nm zhack\n.Cm feature enable\n.Op Fl d Ar description\n.Op Fl r\n.Ar pool\n.Ar guid\n.Xc\nAdd a new feature to\n.Ar pool\nthat is uniquely identified by\n.Ar guid ,\nwhich is specified in the same form as a\n.Xr zfs 8\nuser property.\n.Pp\nThe\n.Ar description\nis a short human readable explanation of the new feature.\n.Pp\nThe\n.Fl r\nflag indicates that\n.Ar pool\ncan be safely opened in read-only mode by a system that does not understand the\n.Ar guid\nfeature.\n.\n.It Xo\n.Nm zhack\n.Cm feature ref\n.Op Fl d Ns | Ns Fl m\n.Ar pool\n.Ar guid\n.Xc\nIncrement the reference count of the\n.Ar guid\nfeature in\n.Ar pool .\n.Pp\nThe\n.Fl d\nflag decrements the reference count of the\n.Ar guid\nfeature in\n.Ar pool\ninstead.\n.Pp\nThe\n.Fl m\nflag indicates that the\n.Ar guid\nfeature is now required to read the pool MOS.\n.\n.It Xo\n.Nm zhack\n.Cm label repair\n.Op Fl cu\n.Ar device\n.Xc\nRepair labels of a specified\n.Ar device\naccording to options.\n.Pp\nFlags may be combined to do their functions simultaneously.\n.\n.Pp\nThe\n.Fl c\nflag repairs corrupted label checksums\n.\n.Pp\nThe\n.Fl u\nflag restores the label on a detached device\n.Pp\nExample:\n.Nm zhack Cm label repair Fl cu Ar device\n  Fix checksums and undetach a device\n.\n.El\n.\n.Sh GLOBAL OPTIONS\nThe following can be passed to all\n.Nm\ninvocations before any subcommand:\n.Bl -tag -width \"-d dir\"\n.It Fl c Ar cachefile\nRead\n.Ar pool\nconfiguration from the\n.Ar cachefile ,\nwhich is\n.Pa /etc/zfs/zpool.cache\nby default.\n.It Fl d Ar dir\nSearch for\n.Ar pool\nmembers in\n.Ar dir .\nCan be specified more than once.\n.El\n.\n.Sh EXAMPLES\n.Bd -literal\n.No # Nm zhack Cm feature stat Ar tank\nfor_read_obj:\n\torg.illumos:lz4_compress = 0\nfor_write_obj:\n\tcom.delphix:async_destroy = 0\n\tcom.delphix:empty_bpobj = 0\ndescriptions_obj:\n\tcom.delphix:async_destroy = Destroy filesystems asynchronously.\n\tcom.delphix:empty_bpobj = Snapshots use less space.\n\torg.illumos:lz4_compress = LZ4 compression algorithm support.\n\n.No # Nm zhack Cm feature enable Fl d No 'Predict future disk failures.' Ar tank com.example:clairvoyance\n.No # Nm zhack Cm feature ref Ar tank com.example:clairvoyance\n.Ed\n.\n.Sh SEE ALSO\n.Xr ztest 1 ,\n.Xr zpool-features 7 ,\n.Xr zfs 8\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}