{
  "module_name": "zfs-send.8",
  "hash_id": "b301ac61d33cca5285e79cc5c0d2b68821b86df448cd7e46719887916e5a0458",
  "original_prompt": "Ingested from zfs-2.2.2/man/man8/zfs-send.8",
  "human_readable_source": ".\\\"\n.\\\" CDDL HEADER START\n.\\\"\n.\\\" The contents of this file are subject to the terms of the\n.\\\" Common Development and Distribution License (the \"License\").\n.\\\" You may not use this file except in compliance with the License.\n.\\\"\n.\\\" You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE\n.\\\" or https://opensource.org/licenses/CDDL-1.0.\n.\\\" See the License for the specific language governing permissions\n.\\\" and limitations under the License.\n.\\\"\n.\\\" When distributing Covered Code, include this CDDL HEADER in each\n.\\\" file and include the License file at usr/src/OPENSOLARIS.LICENSE.\n.\\\" If applicable, add the following below this CDDL HEADER, with the\n.\\\" fields enclosed by brackets \"[]\" replaced with your own identifying\n.\\\" information: Portions Copyright [yyyy] [name of copyright owner]\n.\\\"\n.\\\" CDDL HEADER END\n.\\\"\n.\\\" Copyright (c) 2009 Sun Microsystems, Inc. All Rights Reserved.\n.\\\" Copyright 2011 Joshua M. Clulow <josh@sysmgr.org>\n.\\\" Copyright (c) 2011, 2019 by Delphix. All rights reserved.\n.\\\" Copyright (c) 2013 by Saso Kiselkov. All rights reserved.\n.\\\" Copyright (c) 2014, Joyent, Inc. All rights reserved.\n.\\\" Copyright (c) 2014 by Adam Stevko. All rights reserved.\n.\\\" Copyright (c) 2014 Integros [integros.com]\n.\\\" Copyright 2019 Richard Laager. All rights reserved.\n.\\\" Copyright 2018 Nexenta Systems, Inc.\n.\\\" Copyright 2019 Joyent, Inc.\n.\\\"\n.Dd July 27, 2023\n.Dt ZFS-SEND 8\n.Os\n.\n.Sh NAME\n.Nm zfs-send\n.Nd generate backup stream of ZFS dataset\n.Sh SYNOPSIS\n.Nm zfs\n.Cm send\n.Op Fl DLPVbcehnpsvw\n.Op Fl R Op Fl X Ar dataset Ns Oo , Ns Ar dataset Oc Ns \u2026\n.Op Oo Fl I Ns | Ns Fl i Oc Ar snapshot\n.Ar snapshot\n.Nm zfs\n.Cm send\n.Op Fl DLPVcensvw\n.Op Fl i Ar snapshot Ns | Ns Ar bookmark\n.Ar filesystem Ns | Ns Ar volume Ns | Ns Ar snapshot\n.Nm zfs\n.Cm send\n.Fl -redact Ar redaction_bookmark\n.Op Fl DLPVcenpv\n.Op Fl i Ar snapshot Ns | Ns Ar bookmark\n.Ar snapshot\n.Nm zfs\n.Cm send\n.Op Fl PVenv\n.Fl t\n.Ar receive_resume_token\n.Nm zfs\n.Cm send\n.Op Fl PVnv\n.Fl S Ar filesystem\n.Nm zfs\n.Cm redact\n.Ar snapshot redaction_bookmark\n.Ar redaction_snapshot Ns \u2026\n.\n.Sh DESCRIPTION\n.Bl -tag -width \"\"\n.It Xo\n.Nm zfs\n.Cm send\n.Op Fl DLPVbcehnpsvw\n.Op Fl R Op Fl X Ar dataset Ns Oo , Ns Ar dataset Oc Ns \u2026\n.Op Oo Fl I Ns | Ns Fl i Oc Ar snapshot\n.Ar snapshot\n.Xc\nCreates a stream representation of the second\n.Ar snapshot ,\nwhich is written to standard output.\nThe output can be redirected to a file or to a different system\n.Po for example, using\n.Xr ssh 1\n.Pc .\nBy default, a full stream is generated.\n.Bl -tag -width \"-D\"\n.It Fl D , -dedup\nDeduplicated send is no longer supported.\nThis flag is accepted for backwards compatibility, but a regular,\nnon-deduplicated stream will be generated.\n.It Fl I Ar snapshot\nGenerate a stream package that sends all intermediary snapshots from the first\nsnapshot to the second snapshot.\nFor example,\n.Fl I Em @a Em fs@d\nis similar to\n.Fl i Em @a Em fs@b Ns \\&; Fl i Em @b Em fs@c Ns \\&; Fl i Em @c Em fs@d .\nThe incremental source may be specified as with the\n.Fl i\noption.\n.It Fl L , -large-block\nGenerate a stream which may contain blocks larger than 128 KiB.\nThis flag has no effect if the\n.Sy large_blocks\npool feature is disabled, or if the\n.Sy recordsize\nproperty of this filesystem has never been set above 128 KiB.\nThe receiving system must have the\n.Sy large_blocks\npool feature enabled as well.\nSee\n.Xr zpool-features 7\nfor details on ZFS feature flags and the\n.Sy large_blocks\nfeature.\n.It Fl P , -parsable\nPrint machine-parsable verbose information about the stream package generated.\n.It Fl R , -replicate\nGenerate a replication stream package, which will replicate the specified\nfile system, and all descendent file systems, up to the named snapshot.\nWhen received, all properties, snapshots, descendent file systems, and clones\nare preserved.\n.Pp\nIf the\n.Fl i\nor\n.Fl I\nflags are used in conjunction with the\n.Fl R\nflag, an incremental replication stream is generated.\nThe current values of properties, and current snapshot and file system names are\nset when the stream is received.\nIf the\n.Fl F\nflag is specified when this stream is received, snapshots and file systems that\ndo not exist on the sending side are destroyed.\nIf the\n.Fl R\nflag is used to send encrypted datasets, then\n.Fl w\nmust also be specified.\n.It Fl V , -proctitle\nSet the process title to a per-second report of how much data has been sent.\n.It Fl X , -exclude Ar dataset Ns Oo , Ns Ar dataset Oc Ns \u2026\nWith\n.Fl R ,\n.Fl X\nspecifies a set of datasets (and, hence, their descendants),\nto be excluded from the send stream.\nThe root dataset may not be excluded.\n.Fl X Ar a Fl X Ar b\nis equivalent to\n.Fl X Ar a , Ns Ar b .\n.It Fl e , -embed\nGenerate a more compact stream by using\n.Sy WRITE_EMBEDDED\nrecords for blocks which are stored more compactly on disk by the\n.Sy embedded_data\npool feature.\nThis flag has no effect if the\n.Sy embedded_data\nfeature is disabled.\nThe receiving system must have the\n.Sy embedded_data\nfeature enabled.\nIf the\n.Sy lz4_compress\nfeature is active on the sending system, then the receiving system must have\nthat feature enabled as well.\nDatasets that are sent with this flag may not be\nreceived as an encrypted dataset, since encrypted datasets cannot use the\n.Sy embedded_data\nfeature.\nSee\n.Xr zpool-features 7\nfor details on ZFS feature flags and the\n.Sy embedded_data\nfeature.\n.It Fl b , -backup\nSends only received property values whether or not they are overridden by local\nsettings, but only if the dataset has ever been received.\nUse this option when you want\n.Nm zfs Cm receive\nto restore received properties backed up on the sent dataset and to avoid\nsending local settings that may have nothing to do with the source dataset,\nbut only with how the data is backed up.\n.It Fl c , -compressed\nGenerate a more compact stream by using compressed WRITE records for blocks\nwhich are compressed on disk and in memory\n.Po see the\n.Sy compression\nproperty for details\n.Pc .\nIf the\n.Sy lz4_compress\nfeature is active on the sending system, then the receiving system must have\nthat feature enabled as well.\nIf the\n.Sy large_blocks\nfeature is enabled on the sending system but the\n.Fl L\noption is not supplied in conjunction with\n.Fl c ,\nthen the data will be decompressed before sending so it can be split into\nsmaller block sizes.\nStreams sent with\n.Fl c\nwill not have their data recompressed on the receiver side using\n.Fl o Sy compress Ns = Ar value .\nThe data will stay compressed as it was from the sender.\nThe new compression property will be set for future data.\nNote that uncompressed data from the sender will still attempt to\ncompress on the receiver, unless you specify\n.Fl o Sy compress Ns = Em off .\n.It Fl w , -raw\nFor encrypted datasets, send data exactly as it exists on disk.\nThis allows backups to be taken even if encryption keys are not currently\nloaded.\nThe backup may then be received on an untrusted machine since that machine will\nnot have the encryption keys to read the protected data or alter it without\nbeing detected.\nUpon being received, the dataset will have the same encryption\nkeys as it did on the send side, although the\n.Sy keylocation\nproperty will be defaulted to\n.Sy prompt\nif not otherwise provided.\nFor unencrypted datasets, this flag will be equivalent to\n.Fl Lec .\nNote that if you do not use this flag for sending encrypted datasets, data will\nbe sent unencrypted and may be re-encrypted with a different encryption key on\nthe receiving system, which will disable the ability to do a raw send to that\nsystem for incrementals.\n.It Fl h , -holds\nGenerate a stream package that includes any snapshot holds (created with the\n.Nm zfs Cm hold\ncommand), and indicating to\n.Nm zfs Cm receive\nthat the holds be applied to the dataset on the receiving system.\n.It Fl i Ar snapshot\nGenerate an incremental stream from the first\n.Ar snapshot\n.Pq the incremental source\nto the second\n.Ar snapshot\n.Pq the incremental target .\nThe incremental source can be specified as the last component of the snapshot\nname\n.Po the\n.Sy @\ncharacter and following\n.Pc\nand it is assumed to be from the same file system as the incremental target.\n.Pp\nIf the destination is a clone, the source may be the origin snapshot, which must\nbe fully specified\n.Po for example,\n.Em pool/fs@origin ,\nnot just\n.Em @origin\n.Pc .\n.It Fl n , -dryrun\nDo a dry-run\n.Pq Qq No-op\nsend.\nDo not generate any actual send data.\nThis is useful in conjunction with the\n.Fl v\nor\n.Fl P\nflags to determine what data will be sent.\nIn this case, the verbose output will be written to standard output\n.Po contrast with a non-dry-run, where the stream is written to standard output\nand the verbose output goes to standard error\n.Pc .\n.It Fl p , -props\nInclude the dataset's properties in the stream.\nThis flag is implicit when\n.Fl R\nis specified.\nThe receiving system must also support this feature.\nSends of encrypted datasets must use\n.Fl w\nwhen using this flag.\n.It Fl s , -skip-missing\nAllows sending a replication stream even when there are snapshots missing in the\nhierarchy.\nWhen a snapshot is missing, instead of throwing an error and aborting the send,\na warning is printed to the standard error stream and the dataset to which it\nbelongs\nand its descendents are skipped.\nThis flag can only be used in conjunction with\n.Fl R .\n.It Fl v , -verbose\nPrint verbose information about the stream package generated.\nThis information includes a per-second report of how much data has been sent.\nThe same report can be requested by sending\n.Dv SIGINFO\nor\n.Dv SIGUSR1 ,\nregardless of\n.Fl v .\n.Pp\nThe format of the stream is committed.\nYou will be able to receive your streams on future versions of ZFS.\n.El\n.It Xo\n.Nm zfs\n.Cm send\n.Op Fl DLPVcenvw\n.Op Fl i Ar snapshot Ns | Ns Ar bookmark\n.Ar filesystem Ns | Ns Ar volume Ns | Ns Ar snapshot\n.Xc\nGenerate a send stream, which may be of a filesystem, and may be incremental\nfrom a bookmark.\nIf the destination is a filesystem or volume, the pool must be read-only, or the\nfilesystem must not be mounted.\nWhen the stream generated from a filesystem or volume is received, the default\nsnapshot name will be\n.Qq --head-- .\n.Bl -tag -width \"-D\"\n.It Fl D , -dedup\nDeduplicated send is no longer supported.\nThis flag is accepted for backwards compatibility, but a regular,\nnon-deduplicated stream will be generated.\n.It Fl L , -large-block\nGenerate a stream which may contain blocks larger than 128 KiB.\nThis flag has no effect if the\n.Sy large_blocks\npool feature is disabled, or if the\n.Sy recordsize\nproperty of this filesystem has never been set above 128 KiB.\nThe receiving system must have the\n.Sy large_blocks\npool feature enabled as well.\nSee\n.Xr zpool-features 7\nfor details on ZFS feature flags and the\n.Sy large_blocks\nfeature.\n.It Fl P , -parsable\nPrint machine-parsable verbose information about the stream package generated.\n.It Fl c , -compressed\nGenerate a more compact stream by using compressed WRITE records for blocks\nwhich are compressed on disk and in memory\n.Po see the\n.Sy compression\nproperty for details\n.Pc .\nIf the\n.Sy lz4_compress\nfeature is active on the sending system, then the receiving system must have\nthat feature enabled as well.\nIf the\n.Sy large_blocks\nfeature is enabled on the sending system but the\n.Fl L\noption is not supplied in conjunction with\n.Fl c ,\nthen the data will be decompressed before sending so it can be split into\nsmaller block sizes.\n.It Fl w , -raw\nFor encrypted datasets, send data exactly as it exists on disk.\nThis allows backups to be taken even if encryption keys are not currently\nloaded.\nThe backup may then be received on an untrusted machine since that machine will\nnot have the encryption keys to read the protected data or alter it without\nbeing detected.\nUpon being received, the dataset will have the same encryption\nkeys as it did on the send side, although the\n.Sy keylocation\nproperty will be defaulted to\n.Sy prompt\nif not otherwise provided.\nFor unencrypted datasets, this flag will be equivalent to\n.Fl Lec .\nNote that if you do not use this flag for sending encrypted datasets, data will\nbe sent unencrypted and may be re-encrypted with a different encryption key on\nthe receiving system, which will disable the ability to do a raw send to that\nsystem for incrementals.\n.It Fl e , -embed\nGenerate a more compact stream by using\n.Sy WRITE_EMBEDDED\nrecords for blocks which are stored more compactly on disk by the\n.Sy embedded_data\npool feature.\nThis flag has no effect if the\n.Sy embedded_data\nfeature is disabled.\nThe receiving system must have the\n.Sy embedded_data\nfeature enabled.\nIf the\n.Sy lz4_compress\nfeature is active on the sending system, then the receiving system must have\nthat feature enabled as well.\nDatasets that are sent with this flag may not be received as an encrypted\ndataset,\nsince encrypted datasets cannot use the\n.Sy embedded_data\nfeature.\nSee\n.Xr zpool-features 7\nfor details on ZFS feature flags and the\n.Sy embedded_data\nfeature.\n.It Fl i Ar snapshot Ns | Ns Ar bookmark\nGenerate an incremental send stream.\nThe incremental source must be an earlier snapshot in the destination's history.\nIt will commonly be an earlier snapshot in the destination's file system, in\nwhich case it can be specified as the last component of the name\n.Po the\n.Sy #\nor\n.Sy @\ncharacter and following\n.Pc .\n.Pp\nIf the incremental target is a clone, the incremental source can be the origin\nsnapshot, or an earlier snapshot in the origin's filesystem, or the origin's\norigin, etc.\n.It Fl n , -dryrun\nDo a dry-run\n.Pq Qq No-op\nsend.\nDo not generate any actual send data.\nThis is useful in conjunction with the\n.Fl v\nor\n.Fl P\nflags to determine what data will be sent.\nIn this case, the verbose output will be written to standard output\n.Po contrast with a non-dry-run, where the stream is written to standard output\nand the verbose output goes to standard error\n.Pc .\n.It Fl v , -verbose\nPrint verbose information about the stream package generated.\nThis information includes a per-second report of how much data has been sent.\nThe same report can be requested by sending\n.Dv SIGINFO\nor\n.Dv SIGUSR1 ,\nregardless of\n.Fl v .\n.El\n.It Xo\n.Nm zfs\n.Cm send\n.Fl -redact Ar redaction_bookmark\n.Op Fl DLPVcenpv\n.Op Fl i Ar snapshot Ns | Ns Ar bookmark\n.Ar snapshot\n.Xc\nGenerate a redacted send stream.\nThis send stream contains all blocks from the snapshot being sent that aren't\nincluded in the redaction list contained in the bookmark specified by the\n.Fl -redact\n(or\n.Fl d )\nflag.\nThe resulting send stream is said to be redacted with respect to the snapshots\nthe bookmark specified by the\n.Fl -redact No flag was created with .\nThe bookmark must have been created by running\n.Nm zfs Cm redact\non the snapshot being sent.\n.Pp\nThis feature can be used to allow clones of a filesystem to be made available on\na remote system, in the case where their parent need not (or needs to not) be\nusable.\nFor example, if a filesystem contains sensitive data, and it has clones where\nthat sensitive data has been secured or replaced with dummy data, redacted sends\ncan be used to replicate the secured data without replicating the original\nsensitive data, while still sharing all possible blocks.\nA snapshot that has been redacted with respect to a set of snapshots will\ncontain all blocks referenced by at least one snapshot in the set, but will\ncontain none of the blocks referenced by none of the snapshots in the set.\nIn other words, if all snapshots in the set have modified a given block in the\nparent, that block will not be sent; but if one or more snapshots have not\nmodified a block in the parent, they will still reference the parent's block, so\nthat block will be sent.\nNote that only user data will be redacted.\n.Pp\nWhen the redacted send stream is received, we will generate a redacted\nsnapshot.\nDue to the nature of redaction, a redacted dataset can only be used in the\nfollowing ways:\n.Bl -enum -width \"a.\"\n.It\nTo receive, as a clone, an incremental send from the original snapshot to one\nof the snapshots it was redacted with respect to.\nIn this case, the stream will produce a valid dataset when received because all\nblocks that were redacted in the parent are guaranteed to be present in the\nchild's send stream.\nThis use case will produce a normal snapshot, which can be used just like other\nsnapshots.\n.\n.It\nTo receive an incremental send from the original snapshot to something\nredacted with respect to a subset of the set of snapshots the initial snapshot\nwas redacted with respect to.\nIn this case, each block that was redacted in the original is still redacted\n(redacting with respect to additional snapshots causes less data to be redacted\n(because the snapshots define what is permitted, and everything else is\nredacted)).\nThis use case will produce a new redacted snapshot.\n.It\nTo receive an incremental send from a redaction bookmark of the original\nsnapshot that was created when redacting with respect to a subset of the set of\nsnapshots the initial snapshot was created with respect to\nanything else.\nA send stream from such a redaction bookmark will contain all of the blocks\nnecessary to fill in any redacted data, should it be needed, because the sending\nsystem is aware of what blocks were originally redacted.\nThis will either produce a normal snapshot or a redacted one, depending on\nwhether the new send stream is redacted.\n.It\nTo receive an incremental send from a redacted version of the initial\nsnapshot that is redacted with respect to a subject of the set of snapshots the\ninitial snapshot was created with respect to.\nA send stream from a compatible redacted dataset will contain all of the blocks\nnecessary to fill in any redacted data.\nThis will either produce a normal snapshot or a redacted one, depending on\nwhether the new send stream is redacted.\n.It\nTo receive a full send as a clone of the redacted snapshot.\nSince the stream is a full send, it definitionally contains all the data needed\nto create a new dataset.\nThis use case will either produce a normal snapshot or a redacted one, depending\non whether the full send stream was redacted.\n.El\n.Pp\nThese restrictions are detected and enforced by\n.Nm zfs Cm receive ;\na redacted send stream will contain the list of snapshots that the stream is\nredacted with respect to.\nThese are stored with the redacted snapshot, and are used to detect and\ncorrectly handle the cases above.\nNote that for technical reasons,\nraw sends and redacted sends cannot be combined at this time.\n.It Xo\n.Nm zfs\n.Cm send\n.Op Fl PVenv\n.Fl t\n.Ar receive_resume_token\n.Xc\nCreates a send stream which resumes an interrupted receive.\nThe\n.Ar receive_resume_token\nis the value of this property on the filesystem or volume that was being\nreceived into.\nSee the documentation for\n.Nm zfs Cm receive Fl s\nfor more details.\n.It Xo\n.Nm zfs\n.Cm send\n.Op Fl PVnv\n.Op Fl i Ar snapshot Ns | Ns Ar bookmark\n.Fl S\n.Ar filesystem\n.Xc\nGenerate a send stream from a dataset that has been partially received.\n.Bl -tag -width \"-L\"\n.It Fl S , -saved\nThis flag requires that the specified filesystem previously received a resumable\nsend that did not finish and was interrupted.\nIn such scenarios this flag\nenables the user to send this partially received state.\nUsing this flag will always use the last fully received snapshot\nas the incremental source if it exists.\n.El\n.It Xo\n.Nm zfs\n.Cm redact\n.Ar snapshot redaction_bookmark\n.Ar redaction_snapshot Ns \u2026\n.Xc\nGenerate a new redaction bookmark.\nIn addition to the typical bookmark information, a redaction bookmark contains\nthe list of redacted blocks and the list of redaction snapshots specified.\nThe redacted blocks are blocks in the snapshot which are not referenced by any\nof the redaction snapshots.\nThese blocks are found by iterating over the metadata in each redaction snapshot\nto determine what has been changed since the target snapshot.\nRedaction is designed to support redacted zfs sends; see the entry for\n.Nm zfs Cm send\nfor more information on the purpose of this operation.\nIf a redact operation fails partway through (due to an error or a system\nfailure), the redaction can be resumed by rerunning the same command.\n.El\n.Ss Redaction\nZFS has support for a limited version of data subsetting, in the form of\nredaction.\nUsing the\n.Nm zfs Cm redact\ncommand, a\n.Sy redaction bookmark\ncan be created that stores a list of blocks containing sensitive information.\nWhen provided to\n.Nm zfs Cm send ,\nthis causes a\n.Sy redacted send\nto occur.\nRedacted sends omit the blocks containing sensitive information,\nreplacing them with REDACT records.\nWhen these send streams are received, a\n.Sy redacted dataset\nis created.\nA redacted dataset cannot be mounted by default, since it is incomplete.\nIt can be used to receive other send streams.\nIn this way datasets can be used for data backup and replication,\nwith all the benefits that zfs send and receive have to offer,\nwhile protecting sensitive information from being\nstored on less-trusted machines or services.\n.Pp\nFor the purposes of redaction, there are two steps to the process.\nA redact step, and a send/receive step.\nFirst, a redaction bookmark is created.\nThis is done by providing the\n.Nm zfs Cm redact\ncommand with a parent snapshot, a bookmark to be created, and a number of\nredaction snapshots.\nThese redaction snapshots must be descendants of the parent snapshot,\nand they should modify data that is considered sensitive in some way.\nAny blocks of data modified by all of the redaction snapshots will\nbe listed in the redaction bookmark, because it represents the truly sensitive\ninformation.\nWhen it comes to the send step, the send process will not send\nthe blocks listed in the redaction bookmark, instead replacing them with\nREDACT records.\nWhen received on the target system, this will create a\nredacted dataset, missing the data that corresponds to the blocks in the\nredaction bookmark on the sending system.\nThe incremental send streams from\nthe original parent to the redaction snapshots can then also be received on\nthe target system, and this will produce a complete snapshot that can be used\nnormally.\nIncrementals from one snapshot on the parent filesystem and another\ncan also be done by sending from the redaction bookmark, rather than the\nsnapshots themselves.\n.Pp\nIn order to make the purpose of the feature more clear, an example is provided.\nConsider a zfs filesystem containing four files.\nThese files represent information for an online shopping service.\nOne file contains a list of usernames and passwords, another contains purchase\nhistories,\na third contains click tracking data, and a fourth contains user preferences.\nThe owner of this data wants to make it available for their development teams to\ntest against, and their market research teams to do analysis on.\nThe development teams need information about user preferences and the click\ntracking data, while the market research teams need information about purchase\nhistories and user preferences.\nNeither needs access to the usernames and passwords.\nHowever, because all of this data is stored in one ZFS filesystem,\nit must all be sent and received together.\nIn addition, the owner of the data\nwants to take advantage of features like compression, checksumming, and\nsnapshots, so they do want to continue to use ZFS to store and transmit their\ndata.\nRedaction can help them do so.\nFirst, they would make two clones of a snapshot of the data on the source.\nIn one clone, they create the setup they want their market research team to see;\nthey delete the usernames and passwords file,\nand overwrite the click tracking data with dummy information.\nIn another, they create the setup they want the development teams\nto see, by replacing the passwords with fake information and replacing the\npurchase histories with randomly generated ones.\nThey would then create a redaction bookmark on the parent snapshot,\nusing snapshots on the two clones as redaction snapshots.\nThe parent can then be sent, redacted, to the target\nserver where the research and development teams have access.\nFinally, incremental sends from the parent snapshot to each of the clones can be\nsent\nto and received on the target server; these snapshots are identical to the\nones on the source, and are ready to be used, while the parent snapshot on the\ntarget contains none of the username and password data present on the source,\nbecause it was removed by the redacted send operation.\n.\n.Sh SIGNALS\nSee\n.Fl v .\n.\n.Sh EXAMPLES\n.\\\" These are, respectively, examples 12, 13 from zfs.8\n.\\\" Make sure to update them bidirectionally\n.Ss Example 1 : No Remotely Replicating ZFS Data\nThe following commands send a full stream and then an incremental stream to a\nremote machine, restoring them into\n.Em poolB/received/fs@a\nand\n.Em poolB/received/fs@b ,\nrespectively.\n.Em poolB\nmust contain the file system\n.Em poolB/received ,\nand must not initially contain\n.Em poolB/received/fs .\n.Bd -literal -compact -offset Ds\n.No # Nm zfs Cm send Ar pool/fs@a |\n.No \"   \" Nm ssh Ar host Nm zfs Cm receive Ar poolB/received/fs Ns @ Ns Ar a\n.No # Nm zfs Cm send Fl i Ar a pool/fs@b |\n.No \"   \" Nm ssh Ar host Nm zfs Cm receive Ar poolB/received/fs\n.Ed\n.\n.Ss Example 2 : No Using the Nm zfs Cm receive Fl d No Option\nThe following command sends a full stream of\n.Ar poolA/fsA/fsB@snap\nto a remote machine, receiving it into\n.Ar poolB/received/fsA/fsB@snap .\nThe\n.Ar fsA/fsB@snap\nportion of the received snapshot's name is determined from the name of the sent\nsnapshot.\n.Ar poolB\nmust contain the file system\n.Ar poolB/received .\nIf\n.Ar poolB/received/fsA\ndoes not exist, it is created as an empty file system.\n.Bd -literal -compact -offset Ds\n.No # Nm zfs Cm send Ar poolA/fsA/fsB@snap |\n.No \"   \" Nm ssh Ar host Nm zfs Cm receive Fl d Ar poolB/received\n.Ed\n.\n.Sh SEE ALSO\n.Xr zfs-bookmark 8 ,\n.Xr zfs-receive 8 ,\n.Xr zfs-redact 8 ,\n.Xr zfs-snapshot 8\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}