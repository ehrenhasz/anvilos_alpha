{
  "module_name": "zpool-replace.8",
  "hash_id": "287d9c63aa79c9d629e33c5ca9ffb303e690abba54e19d1af41cfa15370e833a",
  "original_prompt": "Ingested from zfs-2.2.2/man/man8/zpool-replace.8",
  "human_readable_source": ".\\\"\n.\\\" CDDL HEADER START\n.\\\"\n.\\\" The contents of this file are subject to the terms of the\n.\\\" Common Development and Distribution License (the \"License\").\n.\\\" You may not use this file except in compliance with the License.\n.\\\"\n.\\\" You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE\n.\\\" or https://opensource.org/licenses/CDDL-1.0.\n.\\\" See the License for the specific language governing permissions\n.\\\" and limitations under the License.\n.\\\"\n.\\\" When distributing Covered Code, include this CDDL HEADER in each\n.\\\" file and include the License file at usr/src/OPENSOLARIS.LICENSE.\n.\\\" If applicable, add the following below this CDDL HEADER, with the\n.\\\" fields enclosed by brackets \"[]\" replaced with your own identifying\n.\\\" information: Portions Copyright [yyyy] [name of copyright owner]\n.\\\"\n.\\\" CDDL HEADER END\n.\\\"\n.\\\" Copyright (c) 2007, Sun Microsystems, Inc. All Rights Reserved.\n.\\\" Copyright (c) 2012, 2018 by Delphix. All rights reserved.\n.\\\" Copyright (c) 2012 Cyril Plisko. All Rights Reserved.\n.\\\" Copyright (c) 2017 Datto Inc.\n.\\\" Copyright (c) 2018 George Melikov. All Rights Reserved.\n.\\\" Copyright 2017 Nexenta Systems, Inc.\n.\\\" Copyright (c) 2017 Open-E, Inc. All Rights Reserved.\n.\\\"\n.Dd May 29, 2021\n.Dt ZPOOL-REPLACE 8\n.Os\n.\n.Sh NAME\n.Nm zpool-replace\n.Nd replace one device with another in ZFS storage pool\n.Sh SYNOPSIS\n.Nm zpool\n.Cm replace\n.Op Fl fsw\n.Oo Fl o Ar property Ns = Ns Ar value Oc\n.Ar pool Ar device Op Ar new-device\n.\n.Sh DESCRIPTION\nReplaces\n.Ar device\nwith\n.Ar new-device .\nThis is equivalent to attaching\n.Ar new-device ,\nwaiting for it to resilver, and then detaching\n.Ar device .\nAny in progress scrub will be cancelled.\n.Pp\nThe size of\n.Ar new-device\nmust be greater than or equal to the minimum size of all the devices in a mirror\nor raidz configuration.\n.Pp\n.Ar new-device\nis required if the pool is not redundant.\nIf\n.Ar new-device\nis not specified, it defaults to\n.Ar device .\nThis form of replacement is useful after an existing disk has failed and has\nbeen physically replaced.\nIn this case, the new disk may have the same\n.Pa /dev\npath as the old device, even though it is actually a different disk.\nZFS recognizes this.\n.Bl -tag -width Ds\n.It Fl f\nForces use of\n.Ar new-device ,\neven if it appears to be in use.\nNot all devices can be overridden in this manner.\n.It Fl o Ar property Ns = Ns Ar value\nSets the given pool properties.\nSee the\n.Xr zpoolprops 7\nmanual page for a list of valid properties that can be set.\nThe only property supported at the moment is\n.Sy ashift .\n.It Fl s\nThe\n.Ar new-device\nis reconstructed sequentially to restore redundancy as quickly as possible.\nChecksums are not verified during sequential reconstruction so a scrub is\nstarted when the resilver completes.\nSequential reconstruction is not supported for raidz configurations.\n.It Fl w\nWaits until the replacement has completed before returning.\n.El\n.\n.Sh SEE ALSO\n.Xr zpool-detach 8 ,\n.Xr zpool-initialize 8 ,\n.Xr zpool-online 8 ,\n.Xr zpool-resilver 8\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}