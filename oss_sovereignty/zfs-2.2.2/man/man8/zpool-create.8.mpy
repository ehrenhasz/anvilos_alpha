{
  "module_name": "zpool-create.8",
  "hash_id": "484fe21e658eb478cad4a5536d84b748e91d5333d59721b0f096fb39c126a26c",
  "original_prompt": "Ingested from zfs-2.2.2/man/man8/zpool-create.8",
  "human_readable_source": ".\\\"\n.\\\" CDDL HEADER START\n.\\\"\n.\\\" The contents of this file are subject to the terms of the\n.\\\" Common Development and Distribution License (the \"License\").\n.\\\" You may not use this file except in compliance with the License.\n.\\\"\n.\\\" You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE\n.\\\" or https://opensource.org/licenses/CDDL-1.0.\n.\\\" See the License for the specific language governing permissions\n.\\\" and limitations under the License.\n.\\\"\n.\\\" When distributing Covered Code, include this CDDL HEADER in each\n.\\\" file and include the License file at usr/src/OPENSOLARIS.LICENSE.\n.\\\" If applicable, add the following below this CDDL HEADER, with the\n.\\\" fields enclosed by brackets \"[]\" replaced with your own identifying\n.\\\" information: Portions Copyright [yyyy] [name of copyright owner]\n.\\\"\n.\\\" CDDL HEADER END\n.\\\"\n.\\\" Copyright (c) 2007, Sun Microsystems, Inc. All Rights Reserved.\n.\\\" Copyright (c) 2012, 2018 by Delphix. All rights reserved.\n.\\\" Copyright (c) 2012 Cyril Plisko. All Rights Reserved.\n.\\\" Copyright (c) 2017 Datto Inc.\n.\\\" Copyright (c) 2018 George Melikov. All Rights Reserved.\n.\\\" Copyright 2017 Nexenta Systems, Inc.\n.\\\" Copyright (c) 2017 Open-E, Inc. All Rights Reserved.\n.\\\" Copyright (c) 2021, Colm Buckley <colm@tuatha.org>\n.\\\"\n.Dd March 16, 2022\n.Dt ZPOOL-CREATE 8\n.Os\n.\n.Sh NAME\n.Nm zpool-create\n.Nd create ZFS storage pool\n.Sh SYNOPSIS\n.Nm zpool\n.Cm create\n.Op Fl dfn\n.Op Fl m Ar mountpoint\n.Oo Fl o Ar property Ns = Ns Ar value Oc Ns \u2026\n.Oo Fl o Sy feature@ Ns Ar feature Ns = Ns Ar value Oc\n.Op Fl o Ar compatibility Ns = Ns Sy off Ns | Ns Sy legacy Ns | Ns Ar file Ns Oo , Ns Ar file Oc Ns \u2026\n.Oo Fl O Ar file-system-property Ns = Ns Ar value Oc Ns \u2026\n.Op Fl R Ar root\n.Op Fl t Ar tname\n.Ar pool\n.Ar vdev Ns \u2026\n.\n.Sh DESCRIPTION\nCreates a new storage pool containing the virtual devices specified on the\ncommand line.\nThe pool name must begin with a letter, and can only contain\nalphanumeric characters as well as the underscore\n.Pq Qq Sy _ ,\ndash\n.Pq Qq Sy \\&- ,\ncolon\n.Pq Qq Sy \\&: ,\nspace\n.Pq Qq Sy \\&\\  ,\nand period\n.Pq Qq Sy \\&. .\nThe pool names\n.Sy mirror ,\n.Sy raidz ,\n.Sy draid ,\n.Sy spare\nand\n.Sy log\nare reserved, as are names beginning with\n.Sy mirror ,\n.Sy raidz ,\n.Sy draid ,\nand\n.Sy spare .\nThe\n.Ar vdev\nspecification is described in the\n.Sx Virtual Devices\nsection of\n.Xr zpoolconcepts 7 .\n.Pp\nThe command attempts to verify that each device specified is accessible and not\ncurrently in use by another subsystem.\nHowever this check is not robust enough\nto detect simultaneous attempts to use a new device in different pools, even if\n.Sy multihost Ns = Sy enabled .\nThe administrator must ensure that simultaneous invocations of any combination\nof\n.Nm zpool Cm replace ,\n.Nm zpool Cm create ,\n.Nm zpool Cm add ,\nor\n.Nm zpool Cm labelclear\ndo not refer to the same device.\nUsing the same device in two pools will result in pool corruption.\n.Pp\nThere are some uses, such as being currently mounted, or specified as the\ndedicated dump device, that prevents a device from ever being used by ZFS.\nOther uses, such as having a preexisting UFS file system, can be overridden with\n.Fl f .\n.Pp\nThe command also checks that the replication strategy for the pool is\nconsistent.\nAn attempt to combine redundant and non-redundant storage in a single pool,\nor to mix disks and files, results in an error unless\n.Fl f\nis specified.\nThe use of differently-sized devices within a single raidz or mirror group is\nalso flagged as an error unless\n.Fl f\nis specified.\n.Pp\nUnless the\n.Fl R\noption is specified, the default mount point is\n.Pa / Ns Ar pool .\nThe mount point must not exist or must be empty, or else the root dataset\nwill not be able to be be mounted.\nThis can be overridden with the\n.Fl m\noption.\n.Pp\nBy default all supported features are enabled on the new pool.\nThe\n.Fl d\noption and the\n.Fl o Ar compatibility\nproperty\n.Pq e.g Fl o Sy compatibility Ns = Ns Ar 2020\ncan be used to restrict the features that are enabled, so that the\npool can be imported on other releases of ZFS.\n.Bl -tag -width \"-t tname\"\n.It Fl d\nDo not enable any features on the new pool.\nIndividual features can be enabled by setting their corresponding properties to\n.Sy enabled\nwith\n.Fl o .\nSee\n.Xr zpool-features 7\nfor details about feature properties.\n.It Fl f\nForces use of\n.Ar vdev Ns s ,\neven if they appear in use or specify a conflicting replication level.\nNot all devices can be overridden in this manner.\n.It Fl m Ar mountpoint\nSets the mount point for the root dataset.\nThe default mount point is\n.Pa /pool\nor\n.Pa altroot/pool\nif\n.Sy altroot\nis specified.\nThe mount point must be an absolute path,\n.Sy legacy ,\nor\n.Sy none .\nFor more information on dataset mount points, see\n.Xr zfsprops 7 .\n.It Fl n\nDisplays the configuration that would be used without actually creating the\npool.\nThe actual pool creation can still fail due to insufficient privileges or\ndevice sharing.\n.It Fl o Ar property Ns = Ns Ar value\nSets the given pool properties.\nSee\n.Xr zpoolprops 7\nfor a list of valid properties that can be set.\n.It Fl o Ar compatibility Ns = Ns Sy off Ns | Ns Sy legacy Ns | Ns Ar file Ns Oo , Ns Ar file Oc Ns \u2026\nSpecifies compatibility feature sets.\nSee\n.Xr zpool-features 7\nfor more information about compatibility feature sets.\n.It Fl o Sy feature@ Ns Ar feature Ns = Ns Ar value\nSets the given pool feature.\nSee the\n.Xr zpool-features 7\nsection for a list of valid features that can be set.\nValue can be either disabled or enabled.\n.It Fl O Ar file-system-property Ns = Ns Ar value\nSets the given file system properties in the root file system of the pool.\nSee\n.Xr zfsprops 7\nfor a list of valid properties that can be set.\n.It Fl R Ar root\nEquivalent to\n.Fl o Sy cachefile Ns = Ns Sy none Fl o Sy altroot Ns = Ns Ar root\n.It Fl t Ar tname\nSets the in-core pool name to\n.Ar tname\nwhile the on-disk name will be the name specified as\n.Ar pool .\nThis will set the default of the\n.Sy cachefile\nproperty to\n.Sy none .\nThis is intended\nto handle name space collisions when creating pools for other systems,\nsuch as virtual machines or physical machines whose pools live on network\nblock devices.\n.El\n.\n.Sh EXAMPLES\n.\\\" These are, respectively, examples 1, 2, 3, 4, 11, 12 from zpool.8\n.\\\" Make sure to update them bidirectionally\n.Ss Example 1 : No Creating a RAID-Z Storage Pool\nThe following command creates a pool with a single raidz root vdev that\nconsists of six disks:\n.Dl # Nm zpool Cm create Ar tank Sy raidz Pa sda sdb sdc sdd sde sdf\n.\n.Ss Example 2 : No Creating a Mirrored Storage Pool\nThe following command creates a pool with two mirrors, where each mirror\ncontains two disks:\n.Dl # Nm zpool Cm create Ar tank Sy mirror Pa sda sdb Sy mirror Pa sdc sdd\n.\n.Ss Example 3 : No Creating a ZFS Storage Pool by Using Partitions\nThe following command creates a non-redundant pool using two disk partitions:\n.Dl # Nm zpool Cm create Ar tank Pa sda1 sdb2\n.\n.Ss Example 4 : No Creating a ZFS Storage Pool by Using Files\nThe following command creates a non-redundant pool using files.\nWhile not recommended, a pool based on files can be useful for experimental\npurposes.\n.Dl # Nm zpool Cm create Ar tank Pa /path/to/file/a /path/to/file/b\n.\n.Ss Example 5 : No Managing Hot Spares\nThe following command creates a new pool with an available hot spare:\n.Dl # Nm zpool Cm create Ar tank Sy mirror Pa sda sdb Sy spare Pa sdc\n.\n.Ss Example 6 : No Creating a ZFS Pool with Mirrored Separate Intent Logs\nThe following command creates a ZFS storage pool consisting of two, two-way\nmirrors and mirrored log devices:\n.Dl # Nm zpool Cm create Ar pool Sy mirror Pa sda sdb Sy mirror Pa sdc sdd Sy log mirror Pa sde sdf\n.\n.Sh SEE ALSO\n.Xr zpool-destroy 8 ,\n.Xr zpool-export 8 ,\n.Xr zpool-import 8\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}