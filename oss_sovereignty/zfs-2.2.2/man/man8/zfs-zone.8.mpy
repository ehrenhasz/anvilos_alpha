{
  "module_name": "zfs-zone.8",
  "hash_id": "6eefd98f6af7072b3e5bd55350f229cc936739d8dada14ce49bb6d0ddaebd622",
  "original_prompt": "Ingested from zfs-2.2.2/man/man8/zfs-zone.8",
  "human_readable_source": ".\\\"\n.\\\" CDDL HEADER START\n.\\\"\n.\\\" The contents of this file are subject to the terms of the\n.\\\" Common Development and Distribution License (the \"License\").\n.\\\" You may not use this file except in compliance with the License.\n.\\\"\n.\\\" You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE\n.\\\" or https://opensource.org/licenses/CDDL-1.0.\n.\\\" See the License for the specific language governing permissions\n.\\\" and limitations under the License.\n.\\\"\n.\\\" When distributing Covered Code, include this CDDL HEADER in each\n.\\\" file and include the License file at usr/src/OPENSOLARIS.LICENSE.\n.\\\" If applicable, add the following below this CDDL HEADER, with the\n.\\\" fields enclosed by brackets \"[]\" replaced with your own identifying\n.\\\" information: Portions Copyright [yyyy] [name of copyright owner]\n.\\\"\n.\\\" CDDL HEADER END\n.\\\"\n.\\\" Copyright (c) 2009 Sun Microsystems, Inc. All Rights Reserved.\n.\\\" Copyright 2011 Joshua M. Clulow <josh@sysmgr.org>\n.\\\" Copyright (c) 2011, 2019 by Delphix. All rights reserved.\n.\\\" Copyright (c) 2011, Pawel Jakub Dawidek <pjd@FreeBSD.org>\n.\\\" Copyright (c) 2012, Glen Barber <gjb@FreeBSD.org>\n.\\\" Copyright (c) 2012, Bryan Drewery <bdrewery@FreeBSD.org>\n.\\\" Copyright (c) 2013, Steven Hartland <smh@FreeBSD.org>\n.\\\" Copyright (c) 2013 by Saso Kiselkov. All rights reserved.\n.\\\" Copyright (c) 2014, Joyent, Inc. All rights reserved.\n.\\\" Copyright (c) 2014 by Adam Stevko. All rights reserved.\n.\\\" Copyright (c) 2014 Integros [integros.com]\n.\\\" Copyright (c) 2014, Xin LI <delphij@FreeBSD.org>\n.\\\" Copyright (c) 2014-2015, The FreeBSD Foundation, All Rights Reserved.\n.\\\" Copyright (c) 2016 Nexenta Systems, Inc. All Rights Reserved.\n.\\\" Copyright 2019 Richard Laager. All rights reserved.\n.\\\" Copyright 2018 Nexenta Systems, Inc.\n.\\\" Copyright 2019 Joyent, Inc.\n.\\\" Copyright 2021 Klara, Inc.\n.\\\"\n.Dd June 3, 2022\n.Dt ZFS-ZONE 8\n.Os\n.\n.Sh NAME\n.Nm zfs-zone ,\n.Nm zfs-unzone\n.Nd attach and detach ZFS filesystems to user namespaces\n.Sh SYNOPSIS\n.Nm zfs Cm zone\n.Ar nsfile\n.Ar filesystem\n.Nm zfs Cm unzone\n.Ar nsfile\n.Ar filesystem\n.\n.Sh DESCRIPTION\n.Bl -tag -width \"\"\n.It Xo\n.Nm zfs\n.Cm zone\n.Ar nsfile\n.Ar filesystem\n.Xc\nAttach the specified\n.Ar filesystem\nto the user namespace identified by\n.Ar nsfile .\nFrom now on this file system tree can be managed from within a user namespace\nif the\n.Sy zoned\nproperty has been set.\n.Pp\nYou cannot attach a zoned dataset's children to another user namespace.\nYou can also not attach the root file system\nof the user namespace or any dataset\nwhich needs to be mounted before the zfs service\nis run inside the user namespace,\nas it would be attached unmounted until it is\nmounted from the service inside the user namespace.\n.Pp\nTo allow management of the dataset from within a user namespace, the\n.Sy zoned\nproperty has to be set and the user namespaces needs access to the\n.Pa /dev/zfs\ndevice.\nThe\n.Sy quota\nproperty cannot be changed from within a user namespace.\n.Pp\nAfter a dataset is attached to a user namespace and the\n.Sy zoned\nproperty is set,\na zoned file system cannot be mounted outside the user namespace,\nsince the user namespace administrator might have set the mount point\nto an unacceptable value.\n.It Xo\n.Nm zfs\n.Cm unzone\n.Ar nsfile\n.Ar filesystem\n.Xc\nDetach the specified\n.Ar filesystem\nfrom the user namespace identified by\n.Ar nsfile .\n.El\n.Sh EXAMPLES\n.Ss Example 1 : No Delegating a Dataset to a User Namespace\nThe following example delegates the\n.Ar tank/users\ndataset to a user namespace identified by user namespace file\n.Pa /proc/1234/ns/user .\n.Dl # Nm zfs Cm zone Ar /proc/1234/ns/user Ar tank/users\n.\n.Sh SEE ALSO\n.Xr zfsprops 7\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}