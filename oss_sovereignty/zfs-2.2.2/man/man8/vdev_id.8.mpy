{
  "module_name": "vdev_id.8",
  "hash_id": "acf671d6d3b37c28938f179f0defd4fe5823733d2b510cea7335d6dedc4dfaaf",
  "original_prompt": "Ingested from zfs-2.2.2/man/man8/vdev_id.8",
  "human_readable_source": ".\\\"\n.\\\" This file and its contents are supplied under the terms of the\n.\\\" Common Development and Distribution License (\"CDDL\"), version 1.0.\n.\\\" You may only use this file in accordance with the terms of version\n.\\\" 1.0 of the CDDL.\n.\\\"\n.\\\" A full copy of the text of the CDDL should have accompanied this\n.\\\" source.  A copy of the CDDL is also available via the Internet at\n.\\\" http://www.illumos.org/license/CDDL.\n.\\\"\n.Dd May 26, 2021\n.Dt VDEV_ID 8\n.Os\n.\n.Sh NAME\n.Nm vdev_id\n.Nd generate user-friendly names for JBOD disks\n.Sh SYNOPSIS\n.Nm\n.Fl d Ar dev\n.Fl c Ar config_file\n.Fl g Sy sas_direct Ns | Ns Sy sas_switch Ns | Ns Sy scsi\n.Fl m\n.Fl p Ar phys_per_port\n.\n.Sh DESCRIPTION\n.Nm\nis an udev helper which parses\n.Xr vdev_id.conf 5\nto map a physical path in a storage topology to a channel name.\nThe channel name is combined with a disk enclosure slot number to create\nan alias that reflects the physical location of the drive.\nThis is particularly helpful when it comes to tasks like replacing failed\ndrives.\nSlot numbers may also be remapped in case the default numbering is\nunsatisfactory.\nThe drive aliases will be created as symbolic links in\n.Pa /dev/disk/by-vdev .\n.Pp\nThe currently supported topologies are\n.Sy sas_direct ,\n.Sy sas_switch ,\nand\n.Sy scsi .\nA multipath mode is supported in which dm-mpath devices are handled by\nexamining the first running component disk as reported by the driver.\nIn multipath mode the configuration file should contain a\nchannel definition with the same name for each path to a given\nenclosure.\n.Pp\n.Nm\nalso supports creating aliases based on existing udev links in the /dev\nhierarchy using the\n.Sy alias\nconfiguration file keyword.\nSee\n.Xr vdev_id.conf 5\nfor details.\n.\n.Sh OPTIONS\n.Bl -tag -width \"-m\"\n.It Fl d Ar device\nThe device node to classify, like\n.Pa /dev/sda .\n.It Fl c Ar config_file\nSpecifies the path to an alternate configuration file.\nThe default is\n.Pa /etc/zfs/vdev_id.conf .\n.It Fl g Sy sas_direct Ns | Ns Sy sas_switch Ns | Ns Sy scsi\nIdentifies a physical topology that governs how physical paths are\nmapped to channels:\n.Bl -tag -compact -width \"sas_direct and scsi\"\n.It Sy sas_direct No and Sy scsi\nchannels are uniquely identified by a PCI slot and HBA port number\n.It Sy sas_switch\nchannels are uniquely identified by a SAS switch port number\n.El\n.It Fl m\nOnly handle dm-multipath devices.\nIf specified, examine the first running component disk of a dm-multipath\ndevice as provided by the driver to determine the physical path.\n.It Fl p Ar phys_per_port\nSpecifies the number of PHY devices associated with a SAS HBA port or SAS\nswitch port.\n.Nm\ninternally uses this value to determine which HBA or switch port a\ndevice is connected to.\nThe default is\n.Sy 4 .\n.It Fl h\nPrint a usage summary.\n.El\n.\n.Sh SEE ALSO\n.Xr vdev_id.conf 5\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}