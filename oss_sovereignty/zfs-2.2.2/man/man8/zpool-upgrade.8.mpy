{
  "module_name": "zpool-upgrade.8",
  "hash_id": "f888d6da45ae800d463fcb2752cfd3b0e0e2afaf86fa9b6a006715139f04ea67",
  "original_prompt": "Ingested from zfs-2.2.2/man/man8/zpool-upgrade.8",
  "human_readable_source": ".\\\"\n.\\\" CDDL HEADER START\n.\\\"\n.\\\" The contents of this file are subject to the terms of the\n.\\\" Common Development and Distribution License (the \"License\").\n.\\\" You may not use this file except in compliance with the License.\n.\\\"\n.\\\" You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE\n.\\\" or https://opensource.org/licenses/CDDL-1.0.\n.\\\" See the License for the specific language governing permissions\n.\\\" and limitations under the License.\n.\\\"\n.\\\" When distributing Covered Code, include this CDDL HEADER in each\n.\\\" file and include the License file at usr/src/OPENSOLARIS.LICENSE.\n.\\\" If applicable, add the following below this CDDL HEADER, with the\n.\\\" fields enclosed by brackets \"[]\" replaced with your own identifying\n.\\\" information: Portions Copyright [yyyy] [name of copyright owner]\n.\\\"\n.\\\" CDDL HEADER END\n.\\\"\n.\\\" Copyright (c) 2007, Sun Microsystems, Inc. All Rights Reserved.\n.\\\" Copyright (c) 2012, 2018 by Delphix. All rights reserved.\n.\\\" Copyright (c) 2012 Cyril Plisko. All Rights Reserved.\n.\\\" Copyright (c) 2017 Datto Inc.\n.\\\" Copyright (c) 2018 George Melikov. All Rights Reserved.\n.\\\" Copyright 2017 Nexenta Systems, Inc.\n.\\\" Copyright (c) 2017 Open-E, Inc. All Rights Reserved.\n.\\\" Copyright (c) 2021, Colm Buckley <colm@tuatha.org>\n.\\\"\n.Dd March 16, 2022\n.Dt ZPOOL-UPGRADE 8\n.Os\n.\n.Sh NAME\n.Nm zpool-upgrade\n.Nd manage version and feature flags of ZFS storage pools\n.Sh SYNOPSIS\n.Nm zpool\n.Cm upgrade\n.Nm zpool\n.Cm upgrade\n.Fl v\n.Nm zpool\n.Cm upgrade\n.Op Fl V Ar version\n.Fl a Ns | Ns Ar pool Ns \u2026\n.\n.Sh DESCRIPTION\n.Bl -tag -width Ds\n.It Xo\n.Nm zpool\n.Cm upgrade\n.Xc\nDisplays pools which do not have all supported features enabled and pools\nformatted using a legacy ZFS version number.\nThese pools can continue to be used, but some features may not be available.\nUse\n.Nm zpool Cm upgrade Fl a\nto enable all features on all pools (subject to the\n.Fl o Sy compatibility\nproperty).\n.It Xo\n.Nm zpool\n.Cm upgrade\n.Fl v\n.Xc\nDisplays legacy ZFS versions supported by the this version of ZFS.\nSee\n.Xr zpool-features 7\nfor a description of feature flags features supported by this version of ZFS.\n.It Xo\n.Nm zpool\n.Cm upgrade\n.Op Fl V Ar version\n.Fl a Ns | Ns Ar pool Ns \u2026\n.Xc\nEnables all supported features on the given pool.\n.Pp\nIf the pool has specified compatibility feature sets using the\n.Fl o Sy compatibility\nproperty, only the features present in all requested compatibility sets will be\nenabled.\nIf this property is set to\n.Ar legacy\nthen no upgrade will take place.\n.Pp\nOnce this is done, the pool will no longer be accessible on systems that do not\nsupport feature flags.\nSee\n.Xr zpool-features 7\nfor details on compatibility with systems that support feature flags, but do not\nsupport all features enabled on the pool.\n.Bl -tag -width Ds\n.It Fl a\nEnables all supported features (from specified compatibility sets, if any) on\nall\npools.\n.It Fl V Ar version\nUpgrade to the specified legacy version.\nIf specified, no features will be enabled on the pool.\nThis option can only be used to increase the version number up to the last\nsupported legacy version number.\n.El\n.El\n.\n.Sh EXAMPLES\n.\\\" These are, respectively, examples 10 from zpool.8\n.\\\" Make sure to update them bidirectionally\n.Ss Example 1 : No Upgrading All ZFS Storage Pools to the Current Version\nThe following command upgrades all ZFS Storage pools to the current version of\nthe software:\n.Bd -literal -compact -offset Ds\n.No # Nm zpool Cm upgrade Fl a\nThis system is currently running ZFS version 2.\n.Ed\n.\n.Sh SEE ALSO\n.Xr zpool-features 7 ,\n.Xr zpoolconcepts 7 ,\n.Xr zpoolprops 7 ,\n.Xr zpool-history 8\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}