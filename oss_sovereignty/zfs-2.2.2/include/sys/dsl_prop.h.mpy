{
  "module_name": "dsl_prop.h",
  "hash_id": "915bc83e844b9565e18dcca483878f84bd50c2f91086984c6c2dfd182d81dc5a",
  "original_prompt": "Ingested from zfs-2.2.2/include/sys/dsl_prop.h",
  "human_readable_source": " \n \n\n#ifndef\t_SYS_DSL_PROP_H\n#define\t_SYS_DSL_PROP_H\n\n#include <sys/dmu.h>\n#include <sys/dsl_pool.h>\n#include <sys/zfs_context.h>\n#include <sys/dsl_synctask.h>\n\n#ifdef\t__cplusplus\nextern \"C\" {\n#endif\n\nstruct dsl_dataset;\nstruct dsl_dir;\n\n \ntypedef void (dsl_prop_changed_cb_t)(void *arg, uint64_t newval);\n\ntypedef struct dsl_prop_record {\n\tlist_node_t pr_node;  \n\tconst char *pr_propname;\n\tlist_t pr_cbs;\n} dsl_prop_record_t;\n\ntypedef struct dsl_prop_cb_record {\n\tlist_node_t cbr_pr_node;  \n\tlist_node_t cbr_ds_node;  \n\tdsl_prop_record_t *cbr_pr;\n\tstruct dsl_dataset *cbr_ds;\n\tdsl_prop_changed_cb_t *cbr_func;\n\tvoid *cbr_arg;\n} dsl_prop_cb_record_t;\n\ntypedef struct dsl_props_arg {\n\tnvlist_t *pa_props;\n\tzprop_source_t pa_source;\n} dsl_props_arg_t;\n\ntypedef struct dsl_props_set_arg {\n\tconst char *dpsa_dsname;\n\tzprop_source_t dpsa_source;\n\tnvlist_t *dpsa_props;\n} dsl_props_set_arg_t;\n\nvoid dsl_prop_init(dsl_dir_t *dd);\nvoid dsl_prop_fini(dsl_dir_t *dd);\nint dsl_prop_register(struct dsl_dataset *ds, const char *propname,\n    dsl_prop_changed_cb_t *callback, void *cbarg);\nint dsl_prop_unregister(struct dsl_dataset *ds, const char *propname,\n    dsl_prop_changed_cb_t *callback, void *cbarg);\nvoid dsl_prop_unregister_all(struct dsl_dataset *ds, void *cbarg);\nvoid dsl_prop_notify_all(struct dsl_dir *dd);\nboolean_t dsl_prop_hascb(struct dsl_dataset *ds);\n\nint dsl_prop_get(const char *ddname, const char *propname,\n    int intsz, int numints, void *buf, char *setpoint);\nint dsl_prop_get_integer(const char *ddname, const char *propname,\n    uint64_t *valuep, char *setpoint);\nint dsl_prop_get_all(objset_t *os, nvlist_t **nvp);\nint dsl_prop_get_received(const char *dsname, nvlist_t **nvp);\nint dsl_prop_get_ds(struct dsl_dataset *ds, const char *propname,\n    int intsz, int numints, void *buf, char *setpoint);\nint dsl_prop_get_int_ds(struct dsl_dataset *ds, const char *propname,\n    uint64_t *valuep);\nint dsl_prop_get_dd(struct dsl_dir *dd, const char *propname,\n    int intsz, int numints, void *buf, char *setpoint,\n    boolean_t snapshot);\n\nint dsl_props_set_check(void *arg, dmu_tx_t *tx);\nvoid dsl_props_set_sync(void *arg, dmu_tx_t *tx);\nvoid dsl_props_set_sync_impl(struct dsl_dataset *ds, zprop_source_t source,\n    nvlist_t *props, dmu_tx_t *tx);\nvoid dsl_prop_set_sync_impl(struct dsl_dataset *ds, const char *propname,\n    zprop_source_t source, int intsz, int numints, const void *value,\n    dmu_tx_t *tx);\nint dsl_props_set(const char *dsname, zprop_source_t source, nvlist_t *nvl);\nint dsl_prop_set_int(const char *dsname, const char *propname,\n    zprop_source_t source, uint64_t value);\nint dsl_prop_set_string(const char *dsname, const char *propname,\n    zprop_source_t source, const char *value);\nint dsl_prop_inherit(const char *dsname, const char *propname,\n    zprop_source_t source);\n\nint dsl_prop_predict(dsl_dir_t *dd, const char *propname,\n    zprop_source_t source, uint64_t value, uint64_t *newvalp);\n\n \nboolean_t dsl_prop_get_hasrecvd(const char *dsname);\nint dsl_prop_set_hasrecvd(const char *dsname);\nvoid dsl_prop_unset_hasrecvd(const char *dsname);\n\nvoid dsl_prop_nvlist_add_uint64(nvlist_t *nv, zfs_prop_t prop, uint64_t value);\nvoid dsl_prop_nvlist_add_string(nvlist_t *nv,\n    zfs_prop_t prop, const char *value);\n\n#ifdef\t__cplusplus\n}\n#endif\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}