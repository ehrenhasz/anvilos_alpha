{
  "module_name": "protocol.h",
  "hash_id": "7a123d3840ff4652485dc52de43634fd75aff77ec7ea5195875eeebda87900a5",
  "original_prompt": "Ingested from zfs-2.2.2/include/sys/fm/protocol.h",
  "human_readable_source": " \n\n \n\n#ifndef\t_SYS_FM_PROTOCOL_H\n#define\t_SYS_FM_PROTOCOL_H\n\n#ifdef\t__cplusplus\nextern \"C\" {\n#endif\n\n#ifdef _KERNEL\n#include <sys/nvpair.h>\n#else\n#include <libnvpair.h>\n#include <stdarg.h>\n#endif\n#include <sys/processor.h>\n\n \n#define\tFM_CLASS\t\t\t\"class\"\n#define\tFM_VERSION\t\t\t\"version\"\n\n \n#define\tFM_EREPORT_CLASS\t\t\"ereport\"\n#define\tFM_FAULT_CLASS\t\t\t\"fault\"\n#define\tFM_DEFECT_CLASS\t\t\t\"defect\"\n#define\tFM_RSRC_CLASS\t\t\t\"resource\"\n#define\tFM_LIST_EVENT\t\t\t\"list\"\n#define\tFM_IREPORT_CLASS\t\t\"ireport\"\n#define\tFM_SYSEVENT_CLASS\t\t\"sysevent\"\n\n \n#define\tFM_LIST_SUSPECT_CLASS\t\tFM_LIST_EVENT \".suspect\"\n#define\tFM_LIST_ISOLATED_CLASS\t\tFM_LIST_EVENT \".isolated\"\n#define\tFM_LIST_REPAIRED_CLASS\t\tFM_LIST_EVENT \".repaired\"\n#define\tFM_LIST_UPDATED_CLASS\t\tFM_LIST_EVENT \".updated\"\n#define\tFM_LIST_RESOLVED_CLASS\t\tFM_LIST_EVENT \".resolved\"\n\n \n#define\tFM_ERROR_CPU\t\t\t\"cpu\"\n#define\tFM_ERROR_IO\t\t\t\"io\"\n\n \n#define\tFM_EREPORT_VERS0\t\t0\n#define\tFM_EREPORT_VERSION\t\tFM_EREPORT_VERS0\n\n \n#define\tFM_EREPORT_DETECTOR\t\t\"detector\"\n#define\tFM_EREPORT_ENA\t\t\t\"ena\"\n#define\tFM_EREPORT_TIME\t\t\t\"time\"\n#define\tFM_EREPORT_EID\t\t\t\"eid\"\n\n \n#define\tFM_LIST_EVENT_SIZE\t\t\"list-sz\"\n\n \n#define\tFM_IREPORT_DETECTOR\t\t\"detector\"\n#define\tFM_IREPORT_UUID\t\t\t\"uuid\"\n#define\tFM_IREPORT_PRIORITY\t\t\"pri\"\n#define\tFM_IREPORT_ATTRIBUTES\t\t\"attr\"\n\n \n#define\tFM_SUSPECT_UUID\t\t\t\"uuid\"\n#define\tFM_SUSPECT_DIAG_CODE\t\t\"code\"\n#define\tFM_SUSPECT_DIAG_TIME\t\t\"diag-time\"\n#define\tFM_SUSPECT_DE\t\t\t\"de\"\n#define\tFM_SUSPECT_FAULT_LIST\t\t\"fault-list\"\n#define\tFM_SUSPECT_FAULT_SZ\t\t\"fault-list-sz\"\n#define\tFM_SUSPECT_FAULT_STATUS\t\t\"fault-status\"\n#define\tFM_SUSPECT_INJECTED\t\t\"__injected\"\n#define\tFM_SUSPECT_MESSAGE\t\t\"message\"\n#define\tFM_SUSPECT_RETIRE\t\t\"retire\"\n#define\tFM_SUSPECT_RESPONSE\t\t\"response\"\n#define\tFM_SUSPECT_SEVERITY\t\t\"severity\"\n\n#define\tFM_SUSPECT_VERS0\t\t0\n#define\tFM_SUSPECT_VERSION\t\tFM_SUSPECT_VERS0\n\n#define\tFM_SUSPECT_FAULTY\t\t0x1\n#define\tFM_SUSPECT_UNUSABLE\t\t0x2\n#define\tFM_SUSPECT_NOT_PRESENT\t\t0x4\n#define\tFM_SUSPECT_DEGRADED\t\t0x8\n#define\tFM_SUSPECT_REPAIRED\t\t0x10\n#define\tFM_SUSPECT_REPLACED\t\t0x20\n#define\tFM_SUSPECT_ACQUITTED\t\t0x40\n\n \n#define\tFM_FAULT_VERS0\t\t\t0\n#define\tFM_FAULT_VERSION\t\tFM_FAULT_VERS0\n\n#define\tFM_FAULT_ASRU\t\t\t\"asru\"\n#define\tFM_FAULT_FRU\t\t\t\"fru\"\n#define\tFM_FAULT_FRU_LABEL\t\t\"fru-label\"\n#define\tFM_FAULT_CERTAINTY\t\t\"certainty\"\n#define\tFM_FAULT_RESOURCE\t\t\"resource\"\n#define\tFM_FAULT_LOCATION\t\t\"location\"\n\n \n#define\tFM_RSRC_VERS0\t\t\t0\n#define\tFM_RSRC_VERSION\t\t\tFM_RSRC_VERS0\n#define\tFM_RSRC_RESOURCE\t\t\"resource\"\n\n \n#define\tFM_RSRC_ASRU_UUID\t\t\"uuid\"\n#define\tFM_RSRC_ASRU_CODE\t\t\"code\"\n#define\tFM_RSRC_ASRU_FAULTY\t\t\"faulty\"\n#define\tFM_RSRC_ASRU_REPAIRED\t\t\"repaired\"\n#define\tFM_RSRC_ASRU_REPLACED\t\t\"replaced\"\n#define\tFM_RSRC_ASRU_ACQUITTED\t\t\"acquitted\"\n#define\tFM_RSRC_ASRU_RESOLVED\t\t\"resolved\"\n#define\tFM_RSRC_ASRU_UNUSABLE\t\t\"unusable\"\n#define\tFM_RSRC_ASRU_EVENT\t\t\"event\"\n\n \n#define\tFM_RSRC_XPRT_VERS0\t\t0\n#define\tFM_RSRC_XPRT_VERSION\t\tFM_RSRC_XPRT_VERS0\n#define\tFM_RSRC_XPRT_UUID\t\t\"uuid\"\n#define\tFM_RSRC_XPRT_SUBCLASS\t\t\"subclass\"\n#define\tFM_RSRC_XPRT_FAULT_STATUS\t\"fault-status\"\n#define\tFM_RSRC_XPRT_FAULT_HAS_ASRU\t\"fault-has-asru\"\n\n \n#define\tENA_FORMAT_MASK\t\t\t0x3\n#define\tENA_FORMAT(ena)\t\t\t((ena) & ENA_FORMAT_MASK)\n\n \n#define\tFM_ENA_FMT0\t\t\t0\n#define\tFM_ENA_FMT1\t\t\t1\n#define\tFM_ENA_FMT2\t\t\t2\n\n \n#define\tENA_FMT1_GEN_MASK\t\t0x00000000000003FCull\n#define\tENA_FMT1_ID_MASK\t\t0xFFFFFFFFFFFFFC00ull\n#define\tENA_FMT1_CPUID_MASK\t\t0x00000000000FFC00ull\n#define\tENA_FMT1_TIME_MASK\t\t0xFFFFFFFFFFF00000ull\n#define\tENA_FMT1_GEN_SHFT\t\t2\n#define\tENA_FMT1_ID_SHFT\t\t10\n#define\tENA_FMT1_CPUID_SHFT\t\tENA_FMT1_ID_SHFT\n#define\tENA_FMT1_TIME_SHFT\t\t20\n\n \n#define\tENA_FMT2_GEN_MASK\t\t0x00000000000003FCull\n#define\tENA_FMT2_ID_MASK\t\t0xFFFFFFFFFFFFFC00ull\n#define\tENA_FMT2_TIME_MASK\t\tENA_FMT2_ID_MASK\n#define\tENA_FMT2_GEN_SHFT\t\t2\n#define\tENA_FMT2_ID_SHFT\t\t10\n#define\tENA_FMT2_TIME_SHFT\t\tENA_FMT2_ID_SHFT\n\n \n#define\tFM_FMRI_AUTHORITY\t\t\"authority\"\n#define\tFM_FMRI_SCHEME\t\t\t\"scheme\"\n#define\tFM_FMRI_SVC_AUTHORITY\t\t\"svc-authority\"\n#define\tFM_FMRI_FACILITY\t\t\"facility\"\n\n \n#define\tFM_FMRI_AUTH_CHASSIS\t\t\"chassis-id\"\n#define\tFM_FMRI_AUTH_PRODUCT_SN\t\t\"product-sn\"\n#define\tFM_FMRI_AUTH_PRODUCT\t\t\"product-id\"\n#define\tFM_FMRI_AUTH_DOMAIN\t\t\"domain-id\"\n#define\tFM_FMRI_AUTH_SERVER\t\t\"server-id\"\n#define\tFM_FMRI_AUTH_HOST\t\t\"host-id\"\n\n#define\tFM_AUTH_VERS0\t\t\t0\n#define\tFM_FMRI_AUTH_VERSION\t\tFM_AUTH_VERS0\n\n \n#define\tFM_FMRI_SCHEME_FMD\t\t\"fmd\"\n#define\tFM_FMRI_SCHEME_DEV\t\t\"dev\"\n#define\tFM_FMRI_SCHEME_HC\t\t\"hc\"\n#define\tFM_FMRI_SCHEME_SVC\t\t\"svc\"\n#define\tFM_FMRI_SCHEME_CPU\t\t\"cpu\"\n#define\tFM_FMRI_SCHEME_MEM\t\t\"mem\"\n#define\tFM_FMRI_SCHEME_MOD\t\t\"mod\"\n#define\tFM_FMRI_SCHEME_PKG\t\t\"pkg\"\n#define\tFM_FMRI_SCHEME_LEGACY\t\t\"legacy-hc\"\n#define\tFM_FMRI_SCHEME_ZFS\t\t\"zfs\"\n#define\tFM_FMRI_SCHEME_SW\t\t\"sw\"\n\n \n#define\tFMD_SCHEME_VERSION0\t\t0\n#define\tFM_FMD_SCHEME_VERSION\t\tFMD_SCHEME_VERSION0\n#define\tDEV_SCHEME_VERSION0\t\t0\n#define\tFM_DEV_SCHEME_VERSION\t\tDEV_SCHEME_VERSION0\n#define\tFM_HC_VERS0\t\t\t0\n#define\tFM_HC_SCHEME_VERSION\t\tFM_HC_VERS0\n#define\tCPU_SCHEME_VERSION0\t\t0\n#define\tCPU_SCHEME_VERSION1\t\t1\n#define\tFM_CPU_SCHEME_VERSION\t\tCPU_SCHEME_VERSION1\n#define\tMEM_SCHEME_VERSION0\t\t0\n#define\tFM_MEM_SCHEME_VERSION\t\tMEM_SCHEME_VERSION0\n#define\tMOD_SCHEME_VERSION0\t\t0\n#define\tFM_MOD_SCHEME_VERSION\t\tMOD_SCHEME_VERSION0\n#define\tPKG_SCHEME_VERSION0\t\t0\n#define\tFM_PKG_SCHEME_VERSION\t\tPKG_SCHEME_VERSION0\n#define\tLEGACY_SCHEME_VERSION0\t\t0\n#define\tFM_LEGACY_SCHEME_VERSION\tLEGACY_SCHEME_VERSION0\n#define\tSVC_SCHEME_VERSION0\t\t0\n#define\tFM_SVC_SCHEME_VERSION\t\tSVC_SCHEME_VERSION0\n#define\tZFS_SCHEME_VERSION0\t\t0\n#define\tFM_ZFS_SCHEME_VERSION\t\tZFS_SCHEME_VERSION0\n#define\tSW_SCHEME_VERSION0\t\t0\n#define\tFM_SW_SCHEME_VERSION\t\tSW_SCHEME_VERSION0\n\n \n#define\tFM_FMRI_HC_SERIAL_ID\t\t\"serial\"\n#define\tFM_FMRI_HC_PART\t\t\t\"part\"\n#define\tFM_FMRI_HC_REVISION\t\t\"revision\"\n#define\tFM_FMRI_HC_ROOT\t\t\t\"hc-root\"\n#define\tFM_FMRI_HC_LIST_SZ\t\t\"hc-list-sz\"\n#define\tFM_FMRI_HC_LIST\t\t\t\"hc-list\"\n#define\tFM_FMRI_HC_SPECIFIC\t\t\"hc-specific\"\n\n \n#define\tFM_FMRI_FACILITY_NAME\t\t\"facility-name\"\n#define\tFM_FMRI_FACILITY_TYPE\t\t\"facility-type\"\n\n \n#define\tFM_FMRI_HC_NAME\t\t\t\"hc-name\"\n#define\tFM_FMRI_HC_ID\t\t\t\"hc-id\"\n\n#define\tHC_LIST_VERSION0\t\t0\n#define\tFM_HC_LIST_VERSION\t\tHC_LIST_VERSION0\n\n \n#define\tFM_FMRI_HC_SPECIFIC_OFFSET\t\"offset\"\n#define\tFM_FMRI_HC_SPECIFIC_PHYSADDR\t\"physaddr\"\n\n \n#define\tFM_FMRI_FMD_NAME\t\t\"mod-name\"\n#define\tFM_FMRI_FMD_VERSION\t\t\"mod-version\"\n\n \n#define\tFM_FMRI_DEV_ID\t\t\t\"devid\"\n#define\tFM_FMRI_DEV_TGTPTLUN0\t\t\"target-port-l0id\"\n#define\tFM_FMRI_DEV_PATH\t\t\"device-path\"\n\n \n#define\tFM_FMRI_PKG_BASEDIR\t\t\"pkg-basedir\"\n#define\tFM_FMRI_PKG_INST\t\t\"pkg-inst\"\n#define\tFM_FMRI_PKG_VERSION\t\t\"pkg-version\"\n\n \n#define\tFM_FMRI_SVC_NAME\t\t\"svc-name\"\n#define\tFM_FMRI_SVC_INSTANCE\t\t\"svc-instance\"\n#define\tFM_FMRI_SVC_CONTRACT_ID\t\t\"svc-contract-id\"\n\n \n#define\tFM_FMRI_SVC_AUTH_SCOPE\t\t\"scope\"\n#define\tFM_FMRI_SVC_AUTH_SYSTEM_FQN\t\"system-fqn\"\n\n \n#define\tFM_FMRI_CPU_ID\t\t\t\"cpuid\"\n#define\tFM_FMRI_CPU_SERIAL_ID\t\t\"serial\"\n#define\tFM_FMRI_CPU_MASK\t\t\"cpumask\"\n#define\tFM_FMRI_CPU_VID\t\t\t\"cpuvid\"\n#define\tFM_FMRI_CPU_CPUFRU\t\t\"cpufru\"\n#define\tFM_FMRI_CPU_CACHE_INDEX\t\t\"cacheindex\"\n#define\tFM_FMRI_CPU_CACHE_WAY\t\t\"cacheway\"\n#define\tFM_FMRI_CPU_CACHE_BIT\t\t\"cachebit\"\n#define\tFM_FMRI_CPU_CACHE_TYPE\t\t\"cachetype\"\n\n#define\tFM_FMRI_CPU_CACHE_TYPE_L2\t0\n#define\tFM_FMRI_CPU_CACHE_TYPE_L3\t1\n\n \n#define\tFM_FMRI_LEGACY_HC\t\t\"component\"\n#define\tFM_FMRI_LEGACY_HC_PREFIX\tFM_FMRI_SCHEME_HC\":///\" \\\n    FM_FMRI_LEGACY_HC\"=\"\n\n \n#define\tFM_FMRI_MEM_UNUM\t\t\"unum\"\n#define\tFM_FMRI_MEM_SERIAL_ID\t\t\"serial\"\n#define\tFM_FMRI_MEM_PHYSADDR\t\t\"physaddr\"\n#define\tFM_FMRI_MEM_MEMCONFIG\t\t\"memconfig\"\n#define\tFM_FMRI_MEM_OFFSET\t\t\"offset\"\n\n \n#define\tFM_FMRI_MOD_PKG\t\t\t\"mod-pkg\"\n#define\tFM_FMRI_MOD_NAME\t\t\"mod-name\"\n#define\tFM_FMRI_MOD_ID\t\t\t\"mod-id\"\n#define\tFM_FMRI_MOD_DESC\t\t\"mod-desc\"\n\n \n#define\tFM_FMRI_ZFS_POOL\t\t\"pool\"\n#define\tFM_FMRI_ZFS_VDEV\t\t\"vdev\"\n\n \n#define\tFM_FMRI_SW_OBJ\t\t\t\"object\"\n#define\tFM_FMRI_SW_OBJ_PATH\t\t\t\"path\"\n#define\tFM_FMRI_SW_OBJ_ROOT\t\t\t\"root\"\n#define\tFM_FMRI_SW_OBJ_PKG\t\t\t\"pkg\"\n#define\tFM_FMRI_SW_SITE\t\t\t\"site\"\n#define\tFM_FMRI_SW_SITE_TOKEN\t\t\t\"token\"\n#define\tFM_FMRI_SW_SITE_MODULE\t\t\t\"module\"\n#define\tFM_FMRI_SW_SITE_FILE\t\t\t\"file\"\n#define\tFM_FMRI_SW_SITE_LINE\t\t\t\"line\"\n#define\tFM_FMRI_SW_SITE_FUNC\t\t\t\"func\"\n#define\tFM_FMRI_SW_CTXT\t\t\t\"context\"\n#define\tFM_FMRI_SW_CTXT_ORIGIN\t\t\t\"origin\"\n#define\tFM_FMRI_SW_CTXT_EXECNAME\t\t\"execname\"\n#define\tFM_FMRI_SW_CTXT_PID\t\t\t\"pid\"\n#define\tFM_FMRI_SW_CTXT_ZONE\t\t\t\"zone\"\n#define\tFM_FMRI_SW_CTXT_CTID\t\t\t\"ctid\"\n#define\tFM_FMRI_SW_CTXT_STACK\t\t\t\"stack\"\n#define\tFM_NVA_FREE\t\t0\t \n#define\tFM_NVA_RETAIN\t\t1\t \n\nextern nv_alloc_t *fm_nva_xcreate(char *, size_t);\nextern void fm_nva_xdestroy(nv_alloc_t *);\nextern nvlist_t *fm_nvlist_create(nv_alloc_t *);\nextern void fm_nvlist_destroy(nvlist_t *, int);\nextern void fm_ereport_set(nvlist_t *, int, const char *, uint64_t,\n    const nvlist_t *, ...);\nextern void fm_payload_set(nvlist_t *, ...);\nextern int i_fm_payload_set(nvlist_t *, const char *, va_list);\nextern void fm_fmri_hc_set(nvlist_t *, int, const nvlist_t *, nvlist_t *,\n    int, ...);\nextern void fm_fmri_dev_set(nvlist_t *, int, const nvlist_t *, const char *,\n    const char *, const char *);\nextern void fm_fmri_de_set(nvlist_t *, int, const nvlist_t *, const char *);\nextern void fm_fmri_cpu_set(nvlist_t *, int, const nvlist_t *, uint32_t,\n    uint8_t *, const char *);\nextern void fm_fmri_mem_set(nvlist_t *, int, const nvlist_t *, const char *,\n    const char *, uint64_t);\nextern void fm_fmri_zfs_set(nvlist_t *, int, uint64_t, uint64_t);\nextern void fm_fmri_hc_create(nvlist_t *, int, const nvlist_t *, nvlist_t *,\n    nvlist_t *, int, ...);\n\nextern uint64_t fm_ena_increment(uint64_t);\nextern uint64_t fm_ena_generate(uint64_t, uchar_t);\nextern uint64_t fm_ena_generate_cpu(uint64_t, processorid_t, uchar_t);\nextern uint64_t fm_ena_generation_get(uint64_t);\nextern uchar_t fm_ena_format_get(uint64_t);\nextern uint64_t fm_ena_id_get(uint64_t);\nextern uint64_t fm_ena_time_get(uint64_t);\nextern void fm_erpt_dropped_increment(void);\n\n#ifdef\t__cplusplus\n}\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}