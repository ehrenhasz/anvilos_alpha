{
  "module_name": "util.h",
  "hash_id": "18a881db907f69f124abd19ddc9f064e7ac36c0b20b1070736d80aa141d69829",
  "original_prompt": "Ingested from zfs-2.2.2/include/sys/fm/util.h",
  "human_readable_source": " \n\n \n\n#ifndef\t_SYS_FM_UTIL_H\n#define\t_SYS_FM_UTIL_H\n\n#ifdef\t__cplusplus\nextern \"C\" {\n#endif\n\n#include <sys/nvpair.h>\n#include <sys/zfs_file.h>\n\n \n#define\tFM_MAX_CLASS 100\n#define\tFM_ERROR_CHAN\t\"com.sun:fm:error\"\n#define\tFM_PUB\t\t\"fm\"\n\n \n#define\tERPT_MAGIC\t0xf00d4eddU\n#define\tERPT_MAX_ERRS\t16\n#define\tERPT_DATA_SZ\t(6 * 1024)\n#define\tERPT_EVCH_MAX\t256\n#define\tERPT_HIWAT\t64\n\ntypedef struct erpt_dump {\n\tuint32_t ed_magic;\t \n\tuint32_t ed_chksum;\t \n\tuint32_t ed_size;\t \n\tuint32_t ed_pad;\t \n\thrtime_t ed_hrt_nsec;\t \n\thrtime_t ed_hrt_base;\t \n\tstruct {\n\t\tuint64_t sec;\t \n\t\tuint64_t nsec;\t \n\t} ed_tod_base;\n} erpt_dump_t;\n\n#ifdef _KERNEL\n\n#define\tZEVENT_SHUTDOWN\t\t0x1\n\ntypedef void zevent_cb_t(nvlist_t *, nvlist_t *);\n\ntypedef struct zevent_s {\n\tnvlist_t\t*ev_nvl;\t \n\tnvlist_t\t*ev_detector;\t \n\tlist_t\t\tev_ze_list;\t \n\tlist_node_t\tev_node;\t \n\tzevent_cb_t\t*ev_cb;\t\t \n\tuint64_t\tev_eid;\n} zevent_t;\n\ntypedef struct zfs_zevent {\n\tzevent_t\t*ze_zevent;\t \n\tlist_node_t\tze_node;\t \n\tuint64_t\tze_dropped;\t \n} zfs_zevent_t;\n\nextern void fm_init(void);\nextern void fm_fini(void);\nextern void zfs_zevent_post_cb(nvlist_t *nvl, nvlist_t *detector);\nextern int zfs_zevent_post(nvlist_t *, nvlist_t *, zevent_cb_t *);\nextern void zfs_zevent_drain_all(uint_t *);\nextern zfs_file_t *zfs_zevent_fd_hold(int, minor_t *, zfs_zevent_t **);\nextern void zfs_zevent_fd_rele(zfs_file_t *);\nextern int zfs_zevent_next(zfs_zevent_t *, nvlist_t **, uint64_t *, uint64_t *);\nextern int zfs_zevent_wait(zfs_zevent_t *);\nextern int zfs_zevent_seek(zfs_zevent_t *, uint64_t);\nextern void zfs_zevent_init(zfs_zevent_t **);\nextern void zfs_zevent_destroy(zfs_zevent_t *);\n\nextern void zfs_zevent_track_duplicate(void);\nextern void zfs_ereport_init(void);\nextern void zfs_ereport_fini(void);\n#else\n\nstatic inline void fm_init(void) { }\nstatic inline void fm_fini(void) { }\n\n#endif   \n\n#ifdef\t__cplusplus\n}\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}