{
  "module_name": "zio.h",
  "hash_id": "577a24579219d32cf26e9c4a264745e9f3e68e155906690f014ee645450bdf2d",
  "original_prompt": "Ingested from zfs-2.2.2/include/sys/zio.h",
  "human_readable_source": " \n\n \n\n#ifndef _ZIO_H\n#define\t_ZIO_H\n\n#include <sys/zio_priority.h>\n#include <sys/zfs_context.h>\n#include <sys/spa.h>\n#include <sys/txg.h>\n#include <sys/avl.h>\n#include <sys/fs/zfs.h>\n#include <sys/zio_impl.h>\n\n#ifdef\t__cplusplus\nextern \"C\" {\n#endif\n\n \n#define\tZEC_MAGIC\t0x210da7ab10c7a11ULL\n\ntypedef struct zio_eck {\n\tuint64_t\tzec_magic;\t \n\tzio_cksum_t\tzec_cksum;\t \n} zio_eck_t;\n\n \n#define\tSPA_GANGBLOCKSIZE\tSPA_MINBLOCKSIZE\n#define\tSPA_GBH_NBLKPTRS\t((SPA_GANGBLOCKSIZE - \\\n\tsizeof (zio_eck_t)) / sizeof (blkptr_t))\n#define\tSPA_GBH_FILLER\t\t((SPA_GANGBLOCKSIZE - \\\n\tsizeof (zio_eck_t) - \\\n\t(SPA_GBH_NBLKPTRS * sizeof (blkptr_t))) /\\\n\tsizeof (uint64_t))\n\ntypedef struct zio_gbh {\n\tblkptr_t\t\tzg_blkptr[SPA_GBH_NBLKPTRS];\n\tuint64_t\t\tzg_filler[SPA_GBH_FILLER];\n\tzio_eck_t\t\tzg_tail;\n} zio_gbh_phys_t;\n\nenum zio_checksum {\n\tZIO_CHECKSUM_INHERIT = 0,\n\tZIO_CHECKSUM_ON,\n\tZIO_CHECKSUM_OFF,\n\tZIO_CHECKSUM_LABEL,\n\tZIO_CHECKSUM_GANG_HEADER,\n\tZIO_CHECKSUM_ZILOG,\n\tZIO_CHECKSUM_FLETCHER_2,\n\tZIO_CHECKSUM_FLETCHER_4,\n\tZIO_CHECKSUM_SHA256,\n\tZIO_CHECKSUM_ZILOG2,\n\tZIO_CHECKSUM_NOPARITY,\n\tZIO_CHECKSUM_SHA512,\n\tZIO_CHECKSUM_SKEIN,\n\tZIO_CHECKSUM_EDONR,\n\tZIO_CHECKSUM_BLAKE3,\n\tZIO_CHECKSUM_FUNCTIONS\n};\n\n \n#define\tZIO_CHECKSUM_LEGACY_FUNCTIONS ZIO_CHECKSUM_ZILOG2\n\n#define\tZIO_CHECKSUM_ON_VALUE\tZIO_CHECKSUM_FLETCHER_4\n#define\tZIO_CHECKSUM_DEFAULT\tZIO_CHECKSUM_ON\n\n#define\tZIO_CHECKSUM_MASK\t0xffULL\n#define\tZIO_CHECKSUM_VERIFY\t(1U << 8)\n\n#define\tZIO_DEDUPCHECKSUM\tZIO_CHECKSUM_SHA256\n\n \n#define\tZIO_OBJSET_MAC_LEN\t\t32\n#define\tZIO_DATA_IV_LEN\t\t\t12\n#define\tZIO_DATA_SALT_LEN\t\t8\n#define\tZIO_DATA_MAC_LEN\t\t16\n\n \n#define\tZIO_COMPRESS_LEGACY_FUNCTIONS ZIO_COMPRESS_LZ4\n\n \n#define\tZIO_COMPRESS_LEGACY_ON_VALUE\tZIO_COMPRESS_LZJB\n#define\tZIO_COMPRESS_LZ4_ON_VALUE\tZIO_COMPRESS_LZ4\n\n#define\tZIO_COMPRESS_DEFAULT\t\tZIO_COMPRESS_ON\n\n#define\tBOOTFS_COMPRESS_VALID(compress)\t\t\t\\\n\t((compress) == ZIO_COMPRESS_LZJB ||\t\t\\\n\t(compress) == ZIO_COMPRESS_LZ4 ||\t\t\\\n\t(compress) == ZIO_COMPRESS_GZIP_1 ||\t\t\\\n\t(compress) == ZIO_COMPRESS_GZIP_2 ||\t\t\\\n\t(compress) == ZIO_COMPRESS_GZIP_3 ||\t\t\\\n\t(compress) == ZIO_COMPRESS_GZIP_4 ||\t\t\\\n\t(compress) == ZIO_COMPRESS_GZIP_5 ||\t\t\\\n\t(compress) == ZIO_COMPRESS_GZIP_6 ||\t\t\\\n\t(compress) == ZIO_COMPRESS_GZIP_7 ||\t\t\\\n\t(compress) == ZIO_COMPRESS_GZIP_8 ||\t\t\\\n\t(compress) == ZIO_COMPRESS_GZIP_9 ||\t\t\\\n\t(compress) == ZIO_COMPRESS_ZLE ||\t\t\\\n\t(compress) == ZIO_COMPRESS_ZSTD ||\t\t\\\n\t(compress) == ZIO_COMPRESS_ON ||\t\t\\\n\t(compress) == ZIO_COMPRESS_OFF)\n\n\n#define\tZIO_COMPRESS_ALGO(x)\t(x & SPA_COMPRESSMASK)\n#define\tZIO_COMPRESS_LEVEL(x)\t((x & ~SPA_COMPRESSMASK) >> SPA_COMPRESSBITS)\n#define\tZIO_COMPRESS_RAW(type, level)\t(type | ((level) << SPA_COMPRESSBITS))\n\n#define\tZIO_COMPLEVEL_ZSTD(level)\t\\\n\tZIO_COMPRESS_RAW(ZIO_COMPRESS_ZSTD, level)\n\n#define\tZIO_FAILURE_MODE_WAIT\t\t0\n#define\tZIO_FAILURE_MODE_CONTINUE\t1\n#define\tZIO_FAILURE_MODE_PANIC\t\t2\n\ntypedef enum zio_suspend_reason {\n\tZIO_SUSPEND_NONE = 0,\n\tZIO_SUSPEND_IOERR,\n\tZIO_SUSPEND_MMP,\n} zio_suspend_reason_t;\n\n \ntypedef uint64_t zio_flag_t;\n\t \n#define\tZIO_FLAG_DONT_AGGREGATE\t(1ULL << 0)\n#define\tZIO_FLAG_IO_REPAIR\t(1ULL << 1)\n#define\tZIO_FLAG_SELF_HEAL\t(1ULL << 2)\n#define\tZIO_FLAG_RESILVER\t(1ULL << 3)\n#define\tZIO_FLAG_SCRUB\t\t(1ULL << 4)\n#define\tZIO_FLAG_SCAN_THREAD\t(1ULL << 5)\n#define\tZIO_FLAG_PHYSICAL\t(1ULL << 6)\n\n#define\tZIO_FLAG_AGG_INHERIT\t(ZIO_FLAG_CANFAIL - 1)\n\n\t \n#define\tZIO_FLAG_CANFAIL\t(1ULL << 7)\t \n#define\tZIO_FLAG_SPECULATIVE\t(1ULL << 8)\n#define\tZIO_FLAG_CONFIG_WRITER\t(1ULL << 9)\n#define\tZIO_FLAG_DONT_RETRY\t(1ULL << 10)\n#define\tZIO_FLAG_NODATA\t\t(1ULL << 12)\n#define\tZIO_FLAG_INDUCE_DAMAGE\t(1ULL << 13)\n#define\tZIO_FLAG_IO_ALLOCATING\t(1ULL << 14)\n\n#define\tZIO_FLAG_DDT_INHERIT\t(ZIO_FLAG_IO_RETRY - 1)\n#define\tZIO_FLAG_GANG_INHERIT\t(ZIO_FLAG_IO_RETRY - 1)\n\n\t \n#define\tZIO_FLAG_IO_RETRY\t(1ULL << 15)\t \n#define\tZIO_FLAG_PROBE\t\t(1ULL << 16)\n#define\tZIO_FLAG_TRYHARD\t(1ULL << 17)\n#define\tZIO_FLAG_OPTIONAL\t(1ULL << 18)\n\n#define\tZIO_FLAG_VDEV_INHERIT\t(ZIO_FLAG_DONT_QUEUE - 1)\n\n\t \n#define\tZIO_FLAG_DONT_QUEUE\t(1ULL << 19)\t \n#define\tZIO_FLAG_DONT_PROPAGATE\t(1ULL << 20)\n#define\tZIO_FLAG_IO_BYPASS\t(1ULL << 21)\n#define\tZIO_FLAG_IO_REWRITE\t(1ULL << 22)\n#define\tZIO_FLAG_RAW_COMPRESS\t(1ULL << 23)\n#define\tZIO_FLAG_RAW_ENCRYPT\t(1ULL << 24)\n#define\tZIO_FLAG_GANG_CHILD\t(1ULL << 25)\n#define\tZIO_FLAG_DDT_CHILD\t(1ULL << 26)\n#define\tZIO_FLAG_GODFATHER\t(1ULL << 27)\n#define\tZIO_FLAG_NOPWRITE\t(1ULL << 28)\n#define\tZIO_FLAG_REEXECUTED\t(1ULL << 29)\n#define\tZIO_FLAG_DELEGATED\t(1ULL << 30)\n\n#define\tZIO_FLAG_MUSTSUCCEED\t\t0\n#define\tZIO_FLAG_RAW\t(ZIO_FLAG_RAW_COMPRESS | ZIO_FLAG_RAW_ENCRYPT)\n\n#define\tZIO_DDT_CHILD_FLAGS(zio)\t\t\t\t\\\n\t(((zio)->io_flags & ZIO_FLAG_DDT_INHERIT) |\t\t\\\n\tZIO_FLAG_DDT_CHILD | ZIO_FLAG_CANFAIL)\n\n#define\tZIO_GANG_CHILD_FLAGS(zio)\t\t\t\t\\\n\t(((zio)->io_flags & ZIO_FLAG_GANG_INHERIT) |\t\t\\\n\tZIO_FLAG_GANG_CHILD | ZIO_FLAG_CANFAIL)\n\n#define\tZIO_VDEV_CHILD_FLAGS(zio)\t\t\t\t\\\n\t(((zio)->io_flags & ZIO_FLAG_VDEV_INHERIT) |\t\t\\\n\tZIO_FLAG_DONT_PROPAGATE | ZIO_FLAG_CANFAIL)\n\n#define\tZIO_CHILD_BIT(x)\t\t(1U << (x))\n#define\tZIO_CHILD_BIT_IS_SET(val, x)\t((val) & (1U << (x)))\n\nenum zio_child {\n\tZIO_CHILD_VDEV = 0,\n\tZIO_CHILD_GANG,\n\tZIO_CHILD_DDT,\n\tZIO_CHILD_LOGICAL,\n\tZIO_CHILD_TYPES\n};\n\n#define\tZIO_CHILD_VDEV_BIT\t\tZIO_CHILD_BIT(ZIO_CHILD_VDEV)\n#define\tZIO_CHILD_GANG_BIT\t\tZIO_CHILD_BIT(ZIO_CHILD_GANG)\n#define\tZIO_CHILD_DDT_BIT\t\tZIO_CHILD_BIT(ZIO_CHILD_DDT)\n#define\tZIO_CHILD_LOGICAL_BIT\t\tZIO_CHILD_BIT(ZIO_CHILD_LOGICAL)\n#define\tZIO_CHILD_ALL_BITS\t\t\t\t\t\\\n\t(ZIO_CHILD_VDEV_BIT | ZIO_CHILD_GANG_BIT |\t\t\\\n\tZIO_CHILD_DDT_BIT | ZIO_CHILD_LOGICAL_BIT)\n\nenum zio_wait_type {\n\tZIO_WAIT_READY = 0,\n\tZIO_WAIT_DONE,\n\tZIO_WAIT_TYPES\n};\n\ntypedef void zio_done_func_t(zio_t *zio);\n\nextern int zio_exclude_metadata;\nextern int zio_dva_throttle_enabled;\nextern const char *const zio_type_name[ZIO_TYPES];\n\n \nstruct zbookmark_phys {\n\tuint64_t\tzb_objset;\n\tuint64_t\tzb_object;\n\tint64_t\t\tzb_level;\n\tuint64_t\tzb_blkid;\n};\n\nstruct zbookmark_err_phys {\n\tuint64_t\tzb_object;\n\tint64_t\t\tzb_level;\n\tuint64_t\tzb_blkid;\n\tuint64_t\tzb_birth;\n};\n\n#define\tSET_BOOKMARK(zb, objset, object, level, blkid)  \\\n{                                                       \\\n\t(zb)->zb_objset = objset;                       \\\n\t(zb)->zb_object = object;                       \\\n\t(zb)->zb_level = level;                         \\\n\t(zb)->zb_blkid = blkid;                         \\\n}\n\n#define\tZB_DESTROYED_OBJSET\t(-1ULL)\n\n#define\tZB_ROOT_OBJECT\t\t(0ULL)\n#define\tZB_ROOT_LEVEL\t\t(-1LL)\n#define\tZB_ROOT_BLKID\t\t(0ULL)\n\n#define\tZB_ZIL_OBJECT\t\t(0ULL)\n#define\tZB_ZIL_LEVEL\t\t(-2LL)\n\n#define\tZB_DNODE_LEVEL\t\t(-3LL)\n#define\tZB_DNODE_BLKID\t\t(0ULL)\n\n#define\tZB_IS_ZERO(zb)\t\t\t\t\t\t\\\n\t((zb)->zb_objset == 0 && (zb)->zb_object == 0 &&\t\\\n\t(zb)->zb_level == 0 && (zb)->zb_blkid == 0)\n#define\tZB_IS_ROOT(zb)\t\t\t\t\\\n\t((zb)->zb_object == ZB_ROOT_OBJECT &&\t\\\n\t(zb)->zb_level == ZB_ROOT_LEVEL &&\t\\\n\t(zb)->zb_blkid == ZB_ROOT_BLKID)\n\ntypedef struct zio_prop {\n\tenum zio_checksum\tzp_checksum;\n\tenum zio_compress\tzp_compress;\n\tuint8_t\t\t\tzp_complevel;\n\tuint8_t\t\t\tzp_level;\n\tuint8_t\t\t\tzp_copies;\n\tdmu_object_type_t\tzp_type;\n\tboolean_t\t\tzp_dedup;\n\tboolean_t\t\tzp_dedup_verify;\n\tboolean_t\t\tzp_nopwrite;\n\tboolean_t\t\tzp_brtwrite;\n\tboolean_t\t\tzp_encrypt;\n\tboolean_t\t\tzp_byteorder;\n\tuint8_t\t\t\tzp_salt[ZIO_DATA_SALT_LEN];\n\tuint8_t\t\t\tzp_iv[ZIO_DATA_IV_LEN];\n\tuint8_t\t\t\tzp_mac[ZIO_DATA_MAC_LEN];\n\tuint32_t\t\tzp_zpl_smallblk;\n} zio_prop_t;\n\ntypedef struct zio_cksum_report zio_cksum_report_t;\n\ntypedef void zio_cksum_finish_f(zio_cksum_report_t *rep,\n    const abd_t *good_data);\ntypedef void zio_cksum_free_f(void *cbdata, size_t size);\n\nstruct zio_bad_cksum;\t\t\t\t \nstruct dnode_phys;\nstruct abd;\n\nstruct zio_cksum_report {\n\tstruct zio_cksum_report *zcr_next;\n\tnvlist_t\t\t*zcr_ereport;\n\tnvlist_t\t\t*zcr_detector;\n\tvoid\t\t\t*zcr_cbdata;\n\tsize_t\t\t\tzcr_cbinfo;\t \n\tuint64_t\t\tzcr_sector;\n\tuint64_t\t\tzcr_align;\n\tuint64_t\t\tzcr_length;\n\tzio_cksum_finish_f\t*zcr_finish;\n\tzio_cksum_free_f\t*zcr_free;\n\n\t \n\tstruct zio_bad_cksum\t*zcr_ckinfo;\t \n};\n\ntypedef struct zio_vsd_ops {\n\tzio_done_func_t\t\t*vsd_free;\n} zio_vsd_ops_t;\n\ntypedef struct zio_gang_node {\n\tzio_gbh_phys_t\t\t*gn_gbh;\n\tstruct zio_gang_node\t*gn_child[SPA_GBH_NBLKPTRS];\n} zio_gang_node_t;\n\ntypedef zio_t *zio_gang_issue_func_t(zio_t *zio, blkptr_t *bp,\n    zio_gang_node_t *gn, struct abd *data, uint64_t offset);\n\ntypedef void zio_transform_func_t(zio_t *zio, struct abd *data, uint64_t size);\n\ntypedef struct zio_transform {\n\tstruct abd\t\t*zt_orig_abd;\n\tuint64_t\t\tzt_orig_size;\n\tuint64_t\t\tzt_bufsize;\n\tzio_transform_func_t\t*zt_transform;\n\tstruct zio_transform\t*zt_next;\n} zio_transform_t;\n\ntypedef zio_t *zio_pipe_stage_t(zio_t *zio);\n\n \n#define\tZIO_REEXECUTE_NOW\t0x01\n#define\tZIO_REEXECUTE_SUSPEND\t0x02\n\n \nenum trim_flag {\n\tZIO_TRIM_SECURE\t\t= 1U << 0,\n};\n\ntypedef struct zio_alloc_list {\n\tlist_t  zal_list;\n\tuint64_t zal_size;\n} zio_alloc_list_t;\n\ntypedef struct zio_link {\n\tzio_t\t\t*zl_parent;\n\tzio_t\t\t*zl_child;\n\tlist_node_t\tzl_parent_node;\n\tlist_node_t\tzl_child_node;\n} zio_link_t;\n\nenum zio_qstate {\n\tZIO_QS_NONE = 0,\n\tZIO_QS_QUEUED,\n\tZIO_QS_ACTIVE,\n};\n\nstruct zio {\n\t \n\tzbookmark_phys_t\tio_bookmark;\n\tzio_prop_t\tio_prop;\n\tzio_type_t\tio_type;\n\tenum zio_child\tio_child_type;\n\tenum trim_flag\tio_trim_flags;\n\tint\t\tio_cmd;\n\tzio_priority_t\tio_priority;\n\tuint8_t\t\tio_reexecute;\n\tuint8_t\t\tio_state[ZIO_WAIT_TYPES];\n\tuint64_t\tio_txg;\n\tspa_t\t\t*io_spa;\n\tblkptr_t\t*io_bp;\n\tblkptr_t\t*io_bp_override;\n\tblkptr_t\tio_bp_copy;\n\tlist_t\t\tio_parent_list;\n\tlist_t\t\tio_child_list;\n\tzio_t\t\t*io_logical;\n\tzio_transform_t *io_transform_stack;\n\n\t \n\tzio_done_func_t\t*io_ready;\n\tzio_done_func_t\t*io_children_ready;\n\tzio_done_func_t\t*io_done;\n\tvoid\t\t*io_private;\n\tint64_t\t\tio_prev_space_delta;\t \n\tblkptr_t\tio_bp_orig;\n\t \n\tuint64_t\tio_lsize;\n\n\t \n\tstruct abd\t*io_abd;\n\tstruct abd\t*io_orig_abd;\n\tuint64_t\tio_size;\n\tuint64_t\tio_orig_size;\n\n\t \n\tvdev_t\t\t*io_vd;\n\tvoid\t\t*io_vsd;\n\tconst zio_vsd_ops_t *io_vsd_ops;\n\tmetaslab_class_t *io_metaslab_class;\t \n\n\tenum zio_qstate\tio_queue_state;\t \n\tunion {\n\t\tlist_node_t l;\n\t\tavl_node_t a;\n\t} io_queue_node ____cacheline_aligned;\t \n\tavl_node_t\tio_offset_node;\t \n\tuint64_t\tio_offset;\n\thrtime_t\tio_timestamp;\t \n\thrtime_t\tio_queued_timestamp;\n\thrtime_t\tio_target_timestamp;\n\thrtime_t\tio_delta;\t \n\thrtime_t\tio_delay;\t \n\t\t\t\t\t \n\tzio_alloc_list_t \tio_alloc_list;\n\n\t \n\tzio_flag_t\tio_flags;\n\tenum zio_stage\tio_stage;\n\tenum zio_stage\tio_pipeline;\n\tzio_flag_t\tio_orig_flags;\n\tenum zio_stage\tio_orig_stage;\n\tenum zio_stage\tio_orig_pipeline;\n\tenum zio_stage\tio_pipeline_trace;\n\tint\t\tio_error;\n\tint\t\tio_child_error[ZIO_CHILD_TYPES];\n\tuint64_t\tio_children[ZIO_CHILD_TYPES][ZIO_WAIT_TYPES];\n\tuint64_t\t*io_stall;\n\tzio_t\t\t*io_gang_leader;\n\tzio_gang_node_t\t*io_gang_tree;\n\tvoid\t\t*io_executor;\n\tvoid\t\t*io_waiter;\n\tvoid\t\t*io_bio;\n\tkmutex_t\tio_lock;\n\tkcondvar_t\tio_cv;\n\tint\t\tio_allocator;\n\n\t \n\tzio_cksum_report_t *io_cksum_report;\n\tuint64_t\tio_ena;\n\n\t \n\ttaskq_ent_t\tio_tqent;\n};\n\nenum blk_verify_flag {\n\tBLK_VERIFY_ONLY,\n\tBLK_VERIFY_LOG,\n\tBLK_VERIFY_HALT\n};\n\nenum blk_config_flag {\n\tBLK_CONFIG_HELD,   \n\tBLK_CONFIG_NEEDED, \n\tBLK_CONFIG_SKIP,   \n};\n\nextern int zio_bookmark_compare(const void *, const void *);\n\nextern zio_t *zio_null(zio_t *pio, spa_t *spa, vdev_t *vd,\n    zio_done_func_t *done, void *priv, zio_flag_t flags);\n\nextern zio_t *zio_root(spa_t *spa,\n    zio_done_func_t *done, void *priv, zio_flag_t flags);\n\nextern void zio_destroy(zio_t *zio);\n\nextern zio_t *zio_read(zio_t *pio, spa_t *spa, const blkptr_t *bp,\n    struct abd *data, uint64_t lsize, zio_done_func_t *done, void *priv,\n    zio_priority_t priority, zio_flag_t flags, const zbookmark_phys_t *zb);\n\nextern zio_t *zio_write(zio_t *pio, spa_t *spa, uint64_t txg, blkptr_t *bp,\n    struct abd *data, uint64_t size, uint64_t psize, const zio_prop_t *zp,\n    zio_done_func_t *ready, zio_done_func_t *children_ready,\n    zio_done_func_t *done, void *priv, zio_priority_t priority,\n    zio_flag_t flags, const zbookmark_phys_t *zb);\n\nextern zio_t *zio_rewrite(zio_t *pio, spa_t *spa, uint64_t txg, blkptr_t *bp,\n    struct abd *data, uint64_t size, zio_done_func_t *done, void *priv,\n    zio_priority_t priority, zio_flag_t flags, zbookmark_phys_t *zb);\n\nextern void zio_write_override(zio_t *zio, blkptr_t *bp, int copies,\n    boolean_t nopwrite, boolean_t brtwrite);\n\nextern void zio_free(spa_t *spa, uint64_t txg, const blkptr_t *bp);\n\nextern zio_t *zio_claim(zio_t *pio, spa_t *spa, uint64_t txg,\n    const blkptr_t *bp,\n    zio_done_func_t *done, void *priv, zio_flag_t flags);\n\nextern zio_t *zio_ioctl(zio_t *pio, spa_t *spa, vdev_t *vd, int cmd,\n    zio_done_func_t *done, void *priv, zio_flag_t flags);\n\nextern zio_t *zio_trim(zio_t *pio, vdev_t *vd, uint64_t offset, uint64_t size,\n    zio_done_func_t *done, void *priv, zio_priority_t priority,\n    zio_flag_t flags, enum trim_flag trim_flags);\n\nextern zio_t *zio_read_phys(zio_t *pio, vdev_t *vd, uint64_t offset,\n    uint64_t size, struct abd *data, int checksum,\n    zio_done_func_t *done, void *priv, zio_priority_t priority,\n    zio_flag_t flags, boolean_t labels);\n\nextern zio_t *zio_write_phys(zio_t *pio, vdev_t *vd, uint64_t offset,\n    uint64_t size, struct abd *data, int checksum,\n    zio_done_func_t *done, void *priv, zio_priority_t priority,\n    zio_flag_t flags, boolean_t labels);\n\nextern zio_t *zio_free_sync(zio_t *pio, spa_t *spa, uint64_t txg,\n    const blkptr_t *bp, zio_flag_t flags);\n\nextern int zio_alloc_zil(spa_t *spa, objset_t *os, uint64_t txg,\n    blkptr_t *new_bp, uint64_t size, boolean_t *slog);\nextern void zio_flush(zio_t *zio, vdev_t *vd);\nextern void zio_shrink(zio_t *zio, uint64_t size);\n\nextern int zio_wait(zio_t *zio);\nextern void zio_nowait(zio_t *zio);\nextern void zio_execute(void *zio);\nextern void zio_interrupt(void *zio);\nextern void zio_delay_init(zio_t *zio);\nextern void zio_delay_interrupt(zio_t *zio);\nextern void zio_deadman(zio_t *zio, const char *tag);\n\nextern zio_t *zio_walk_parents(zio_t *cio, zio_link_t **);\nextern zio_t *zio_walk_children(zio_t *pio, zio_link_t **);\nextern zio_t *zio_unique_parent(zio_t *cio);\nextern void zio_add_child(zio_t *pio, zio_t *cio);\nextern void zio_add_child_first(zio_t *pio, zio_t *cio);\n\nextern void *zio_buf_alloc(size_t size);\nextern void zio_buf_free(void *buf, size_t size);\nextern void *zio_data_buf_alloc(size_t size);\nextern void zio_data_buf_free(void *buf, size_t size);\n\nextern void zio_push_transform(zio_t *zio, struct abd *abd, uint64_t size,\n    uint64_t bufsize, zio_transform_func_t *transform);\nextern void zio_pop_transforms(zio_t *zio);\n\nextern void zio_resubmit_stage_async(void *);\n\nextern zio_t *zio_vdev_child_io(zio_t *zio, blkptr_t *bp, vdev_t *vd,\n    uint64_t offset, struct abd *data, uint64_t size, int type,\n    zio_priority_t priority, zio_flag_t flags,\n    zio_done_func_t *done, void *priv);\n\nextern zio_t *zio_vdev_delegated_io(vdev_t *vd, uint64_t offset,\n    struct abd *data, uint64_t size, zio_type_t type, zio_priority_t priority,\n    zio_flag_t flags, zio_done_func_t *done, void *priv);\n\nextern void zio_vdev_io_bypass(zio_t *zio);\nextern void zio_vdev_io_reissue(zio_t *zio);\nextern void zio_vdev_io_redone(zio_t *zio);\n\nextern void zio_change_priority(zio_t *pio, zio_priority_t priority);\n\nextern void zio_checksum_verified(zio_t *zio);\nextern int zio_worst_error(int e1, int e2);\n\nextern enum zio_checksum zio_checksum_select(enum zio_checksum child,\n    enum zio_checksum parent);\nextern enum zio_checksum zio_checksum_dedup_select(spa_t *spa,\n    enum zio_checksum child, enum zio_checksum parent);\nextern enum zio_compress zio_compress_select(spa_t *spa,\n    enum zio_compress child, enum zio_compress parent);\nextern uint8_t zio_complevel_select(spa_t *spa, enum zio_compress compress,\n    uint8_t child, uint8_t parent);\n\nextern void zio_suspend(spa_t *spa, zio_t *zio, zio_suspend_reason_t);\nextern int zio_resume(spa_t *spa);\nextern void zio_resume_wait(spa_t *spa);\n\nextern boolean_t zfs_blkptr_verify(spa_t *spa, const blkptr_t *bp,\n    enum blk_config_flag blk_config, enum blk_verify_flag blk_verify);\n\n \nextern void zio_init(void);\nextern void zio_fini(void);\n\n \nstruct zinject_record;\nextern uint32_t zio_injection_enabled;\nextern int zio_inject_fault(char *name, int flags, int *id,\n    struct zinject_record *record);\nextern int zio_inject_list_next(int *id, char *name, size_t buflen,\n    struct zinject_record *record);\nextern int zio_clear_fault(int id);\nextern void zio_handle_panic_injection(spa_t *spa, const char *tag,\n    uint64_t type);\nextern int zio_handle_decrypt_injection(spa_t *spa, const zbookmark_phys_t *zb,\n    uint64_t type, int error);\nextern int zio_handle_fault_injection(zio_t *zio, int error);\nextern int zio_handle_device_injection(vdev_t *vd, zio_t *zio, int error);\nextern int zio_handle_device_injections(vdev_t *vd, zio_t *zio, int err1,\n    int err2);\nextern int zio_handle_label_injection(zio_t *zio, int error);\nextern void zio_handle_ignored_writes(zio_t *zio);\nextern hrtime_t zio_handle_io_delay(zio_t *zio);\n\n \nextern int zfs_ereport_start_checksum(spa_t *spa, vdev_t *vd,\n    const zbookmark_phys_t *zb, struct zio *zio, uint64_t offset,\n    uint64_t length, struct zio_bad_cksum *info);\nextern void zfs_ereport_finish_checksum(zio_cksum_report_t *report,\n    const abd_t *good_data, const abd_t *bad_data, boolean_t drop_if_identical);\n\nextern void zfs_ereport_free_checksum(zio_cksum_report_t *report);\n\n \nextern int zfs_ereport_post_checksum(spa_t *spa, vdev_t *vd,\n    const zbookmark_phys_t *zb, struct zio *zio, uint64_t offset,\n    uint64_t length, const abd_t *good_data, const abd_t *bad_data,\n    struct zio_bad_cksum *info);\n\nvoid zio_vsd_default_cksum_report(zio_t *zio, zio_cksum_report_t *zcr);\nextern void zfs_ereport_snapshot_post(const char *subclass, spa_t *spa,\n    const char *name);\n\n \nextern void spa_handle_ignored_writes(spa_t *spa);\n\n \nboolean_t zbookmark_subtree_completed(const struct dnode_phys *dnp,\n    const zbookmark_phys_t *subtree_root, const zbookmark_phys_t *last_block);\nboolean_t zbookmark_subtree_tbd(const struct dnode_phys *dnp,\n    const zbookmark_phys_t *subtree_root, const zbookmark_phys_t *last_block);\nint zbookmark_compare(uint16_t dbss1, uint8_t ibs1, uint16_t dbss2,\n    uint8_t ibs2, const zbookmark_phys_t *zb1, const zbookmark_phys_t *zb2);\n\n#ifdef\t__cplusplus\n}\n#endif\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}