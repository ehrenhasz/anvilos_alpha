{
  "module_name": "avl_impl.h",
  "hash_id": "94fcdbce917ebd50371c937182f717f0f33bac8493ffc973d6f9f1031d08398f",
  "original_prompt": "Ingested from zfs-2.2.2/include/sys/avl_impl.h",
  "human_readable_source": " \n \n\n#ifndef\t_AVL_IMPL_H\n#define\t_AVL_IMPL_H extern __attribute__((visibility(\"default\")))\n\n\n \n\n#include <sys/types.h>\n\n#ifdef\t__cplusplus\nextern \"C\" {\n#endif\n\n\n \n\n#ifndef _LP64\n\nstruct avl_node {\n\tstruct avl_node *avl_child[2];\t \n\tstruct avl_node *avl_parent;\t \n\tunsigned short avl_child_index;\t \n\tshort avl_balance;\t\t \n};\n\n#define\tAVL_XPARENT(n)\t\t((n)->avl_parent)\n#define\tAVL_SETPARENT(n, p)\t((n)->avl_parent = (p))\n\n#define\tAVL_XCHILD(n)\t\t((n)->avl_child_index)\n#define\tAVL_SETCHILD(n, c)\t((n)->avl_child_index = (unsigned short)(c))\n\n#define\tAVL_XBALANCE(n)\t\t((n)->avl_balance)\n#define\tAVL_SETBALANCE(n, b)\t((n)->avl_balance = (short)(b))\n\n#else  \n\n \nstruct avl_node {\n\tstruct avl_node *avl_child[2];\t \n\tuintptr_t avl_pcb;\t\t \n};\n\n \n#define\tAVL_XPARENT(n)\t\t((struct avl_node *)((n)->avl_pcb & ~7))\n#define\tAVL_SETPARENT(n, p)\t\t\t\t\t\t\\\n\t((n)->avl_pcb = (((n)->avl_pcb & 7) | (uintptr_t)(p)))\n\n \n#define\tAVL_XCHILD(n)\t\t(((n)->avl_pcb >> 2) & 1)\n#define\tAVL_SETCHILD(n, c)\t\t\t\t\t\t\\\n\t((n)->avl_pcb = (uintptr_t)(((n)->avl_pcb & ~4) | ((c) << 2)))\n\n \n#define\tAVL_XBALANCE(n)\t\t((int)(((n)->avl_pcb & 3) - 1))\n#define\tAVL_SETBALANCE(n, b)\t\t\t\t\t\t\\\n\t((n)->avl_pcb = (uintptr_t)((((n)->avl_pcb & ~3) | ((b) + 1))))\n\n#endif  \n\n\n\n \n#define\tAVL_NODE2DATA(n, o)\t((void *)((uintptr_t)(n) - (o)))\n#define\tAVL_DATA2NODE(d, o)\t((struct avl_node *)((uintptr_t)(d) + (o)))\n\n\n\n \n#define\tAVL_INDEX2NODE(x)\t((avl_node_t *)((x) & ~1))\n#define\tAVL_INDEX2CHILD(x)\t((x) & 1)\n#define\tAVL_MKINDEX(n, c)\t((avl_index_t)(n) | (c))\n\n\n \nstruct avl_tree {\n\tstruct avl_node *avl_root;\t \n\tint (*avl_compar)(const void *, const void *);\n\tsize_t avl_offset;\t\t \n\tulong_t avl_numnodes;\t\t \n#ifndef _KERNEL\n\tsize_t avl_pad;\t\t\t \n#endif\n};\n\n\n \n_AVL_IMPL_H void *avl_walk(struct avl_tree *, void *, int);\n\n#ifdef\t__cplusplus\n}\n#endif\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}