{
  "module_name": "vdev_draid.h",
  "hash_id": "ceec6ac014f8b72f65519b199cdd2db764a899c701b0d27ff67e6309cfb090e6",
  "original_prompt": "Ingested from zfs-2.2.2/include/sys/vdev_draid.h",
  "human_readable_source": " \n \n\n#ifndef _SYS_VDEV_DRAID_H\n#define\t_SYS_VDEV_DRAID_H\n\n#include <sys/types.h>\n#include <sys/abd.h>\n#include <sys/nvpair.h>\n#include <sys/zio.h>\n#include <sys/vdev_impl.h>\n#include <sys/vdev_raidz_impl.h>\n#include <sys/vdev.h>\n\n#ifdef  __cplusplus\nextern \"C\" {\n#endif\n\n \n#define\tVDEV_DRAID_SEED\t\t\t0xd7a1d5eed\n#define\tVDEV_DRAID_MAX_MAPS\t\t254\n#define\tVDEV_DRAID_ROWSHIFT\t\tSPA_MAXBLOCKSHIFT\n#define\tVDEV_DRAID_ROWHEIGHT\t\t(1ULL << VDEV_DRAID_ROWSHIFT)\n#define\tVDEV_DRAID_REFLOW_RESERVE\t(2 * VDEV_DRAID_ROWHEIGHT)\n\n \ntypedef struct draid_map {\n\tuint64_t dm_children;\t \n\tuint64_t dm_nperms;\t \n\tuint64_t dm_seed;\t \n\tuint64_t dm_checksum;\t \n\tuint8_t *dm_perms;\t \n} draid_map_t;\n\n \ntypedef struct vdev_draid_config {\n\t \n\tuint64_t vdc_ndata;\t\t \n\tuint64_t vdc_nparity;\t\t \n\tuint64_t vdc_nspares;\t\t \n\tuint64_t vdc_children;\t\t \n\tuint64_t vdc_ngroups;\t\t \n\n\t \n\tuint8_t *vdc_perms;\t\t \n\tuint64_t vdc_nperms;\t\t \n\tuint64_t vdc_groupwidth;\t \n\tuint64_t vdc_ndisks;\t\t \n\tuint64_t vdc_groupsz;\t\t \n\tuint64_t vdc_devslicesz;\t \n} vdev_draid_config_t;\n\n \nextern uint64_t vdev_draid_rand(uint64_t *);\nextern int vdev_draid_lookup_map(uint64_t, const draid_map_t **);\nextern int vdev_draid_generate_perms(const draid_map_t *, uint8_t **);\n\n \nextern boolean_t vdev_draid_readable(vdev_t *, uint64_t);\nextern boolean_t vdev_draid_missing(vdev_t *, uint64_t, uint64_t, uint64_t);\nextern uint64_t vdev_draid_asize_to_psize(vdev_t *, uint64_t);\nextern void vdev_draid_map_alloc_empty(zio_t *, struct raidz_row *);\nextern int vdev_draid_map_verify_empty(zio_t *, struct raidz_row *);\nextern nvlist_t *vdev_draid_read_config_spare(vdev_t *);\n\n \nextern vdev_t *vdev_draid_spare_get_child(vdev_t *, uint64_t);\nextern vdev_t *vdev_draid_spare_get_parent(vdev_t *);\nextern int vdev_draid_spare_create(nvlist_t *, vdev_t *, uint64_t *, uint64_t);\n\n#ifdef  __cplusplus\n}\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}