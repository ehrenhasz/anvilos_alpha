{
  "module_name": "abd_impl.h",
  "hash_id": "45139e2359443e6b3867653c035810cb663aaa039eae7a5f5cb130eb98fb090c",
  "original_prompt": "Ingested from zfs-2.2.2/include/sys/abd_impl.h",
  "human_readable_source": " \n \n\n#ifndef _ABD_IMPL_H\n#define\t_ABD_IMPL_H\n\n#include <sys/abd.h>\n#include <sys/wmsum.h>\n\n#ifdef __cplusplus\nextern \"C\" {\n#endif\n\ntypedef enum abd_stats_op {\n\tABDSTAT_INCR,  \n\tABDSTAT_DECR   \n} abd_stats_op_t;\n\nstruct scatterlist;  \n\nstruct abd_iter {\n\t \n\tvoid\t\t*iter_mapaddr;\t \n\tsize_t\t\titer_mapsize;\t \n\n\t \n\tabd_t\t\t*iter_abd;\t \n\tsize_t\t\titer_pos;\n\tsize_t\t\titer_offset;\t \n\t\t\t\t\t \n\tstruct scatterlist *iter_sg;\t \n};\n\nextern abd_t *abd_zero_scatter;\n\nabd_t *abd_gang_get_offset(abd_t *, size_t *);\nabd_t *abd_alloc_struct(size_t);\nvoid abd_free_struct(abd_t *);\n\n \n\nabd_t *abd_alloc_struct_impl(size_t);\nabd_t *abd_get_offset_scatter(abd_t *, abd_t *, size_t, size_t);\nvoid abd_free_struct_impl(abd_t *);\nvoid abd_alloc_chunks(abd_t *, size_t);\nvoid abd_free_chunks(abd_t *);\nvoid abd_update_scatter_stats(abd_t *, abd_stats_op_t);\nvoid abd_update_linear_stats(abd_t *, abd_stats_op_t);\nvoid abd_verify_scatter(abd_t *);\nvoid abd_free_linear_page(abd_t *);\n \nvoid abd_iter_init(struct abd_iter  *, abd_t *);\nboolean_t abd_iter_at_end(struct abd_iter *);\nvoid abd_iter_advance(struct abd_iter *, size_t);\nvoid abd_iter_map(struct abd_iter *);\nvoid abd_iter_unmap(struct abd_iter *);\n\n \n#define\tABDSTAT_INCR(stat, val) \\\n\twmsum_add(&abd_sums.stat, (val))\n#define\tABDSTAT_BUMP(stat)\tABDSTAT_INCR(stat, 1)\n#define\tABDSTAT_BUMPDOWN(stat)\tABDSTAT_INCR(stat, -1)\n\n#define\tABD_SCATTER(abd)\t(abd->abd_u.abd_scatter)\n#define\tABD_LINEAR_BUF(abd)\t(abd->abd_u.abd_linear.abd_buf)\n#define\tABD_GANG(abd)\t\t(abd->abd_u.abd_gang)\n\n#if defined(_KERNEL)\n#if defined(__FreeBSD__)\n#define\tabd_enter_critical(flags)\tcritical_enter()\n#define\tabd_exit_critical(flags)\tcritical_exit()\n#else\n#define\tabd_enter_critical(flags)\tlocal_irq_save(flags)\n#define\tabd_exit_critical(flags)\tlocal_irq_restore(flags)\n#endif\n#else  \n#define\tabd_enter_critical(flags)\t((void)0)\n#define\tabd_exit_critical(flags)\t((void)0)\n#endif\n\n#ifdef __cplusplus\n}\n#endif\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}