{
  "module_name": "thread.h",
  "hash_id": "ff08ae89eb6326d98cb1dfec9dee0ca1eac9669314076d84a2d2f2c87b939654",
  "original_prompt": "Ingested from zfs-2.2.2/include/os/linux/spl/sys/thread.h",
  "human_readable_source": " \n\n#ifndef _SPL_THREAD_H\n#define\t_SPL_THREAD_H\n\n#include <linux/module.h>\n#include <linux/mm.h>\n#include <linux/spinlock.h>\n#include <linux/kthread.h>\n#include <sys/types.h>\n#include <sys/sysmacros.h>\n#include <sys/tsd.h>\n\n \n#define\tTP_MAGIC\t\t\t0x53535353\n\n#define\tTS_SLEEP\t\t\tTASK_INTERRUPTIBLE\n#define\tTS_RUN\t\t\t\tTASK_RUNNING\n#define\tTS_ZOMB\t\t\t\tEXIT_ZOMBIE\n#define\tTS_STOPPED\t\t\tTASK_STOPPED\n\ntypedef void (*thread_func_t)(void *);\n\n#define\tthread_create_named(name, stk, stksize, func, arg, len,\t\\\n    pp, state, pri)\t\\\n\t__thread_create(stk, stksize, (thread_func_t)func,\t\t\\\n\tname, arg, len, pp, state, pri)\n\n#define\tthread_create(stk, stksize, func, arg, len, pp, state, pri)\t\\\n\t__thread_create(stk, stksize, (thread_func_t)func, #func,\t\\\n\targ, len, pp, state, pri)\n\n#define\tthread_exit()\t\t\tspl_thread_exit()\n#define\tthread_join(t)\t\t\tVERIFY(0)\n#define\tcurthread\t\t\tcurrent\n#define\tgetcomm()\t\t\tcurrent->comm\n#define\tgetpid()\t\t\tcurrent->pid\n\nextern kthread_t *__thread_create(caddr_t stk, size_t  stksize,\n    thread_func_t func, const char *name, void *args, size_t len, proc_t *pp,\n    int state, pri_t pri);\nextern struct task_struct *spl_kthread_create(int (*func)(void *),\n    void *data, const char namefmt[], ...);\n\nstatic inline __attribute__((noreturn)) void\nspl_thread_exit(void)\n{\n\ttsd_exit();\n\tSPL_KTHREAD_COMPLETE_AND_EXIT(NULL, 0);\n}\n\nextern proc_t p0;\n\n#ifdef HAVE_SIGINFO\ntypedef kernel_siginfo_t spl_kernel_siginfo_t;\n#else\ntypedef siginfo_t spl_kernel_siginfo_t;\n#endif\n\n#ifdef HAVE_SET_SPECIAL_STATE\n#define\tspl_set_special_state(x) set_special_state((x))\n#else\n#define\tspl_set_special_state(x) __set_current_state((x))\n#endif\n\n\n#endif   \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}