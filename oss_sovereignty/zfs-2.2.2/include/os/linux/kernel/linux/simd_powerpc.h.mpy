{
  "module_name": "simd_powerpc.h",
  "hash_id": "d8f4bf504e61a0aea4262e952023edb7e05375abc0b8ab4a438e4e6d179b5f34",
  "original_prompt": "Ingested from zfs-2.2.2/include/os/linux/kernel/linux/simd_powerpc.h",
  "human_readable_source": " \n \n\n \n\n#ifndef _LINUX_SIMD_POWERPC_H\n#define\t_LINUX_SIMD_POWERPC_H\n\n#include <linux/preempt.h>\n#include <linux/export.h>\n#include <linux/sched.h>\n#include <asm/switch_to.h>\n#include <sys/types.h>\n#include <linux/version.h>\n\n#if LINUX_VERSION_CODE >= KERNEL_VERSION(4, 7, 0)\n#include <asm/cpufeature.h>\n#else\n#include <asm/cputable.h>\n#endif\n\n#define\tkfpu_allowed()\t\t\t1\n\n#if LINUX_VERSION_CODE >= KERNEL_VERSION(4, 5, 0)\n#ifdef\tCONFIG_ALTIVEC\n#define\tENABLE_KERNEL_ALTIVEC\tenable_kernel_altivec();\n#define\tDISABLE_KERNEL_ALTIVEC\tdisable_kernel_altivec();\n#else\n#define\tENABLE_KERNEL_ALTIVEC\n#define\tDISABLE_KERNEL_ALTIVEC\n#endif\n#ifdef\tCONFIG_VSX\n#define\tENABLE_KERNEL_VSX\tenable_kernel_vsx();\n#define\tDISABLE_KERNEL_VSX\tdisable_kernel_vsx();\n#else\n#define\tENABLE_KERNEL_VSX\n#define\tDISABLE_KERNEL_VSX\n#endif\n#ifdef\tCONFIG_SPE\n#define\tENABLE_KERNEL_SPE\tenable_kernel_spe();\n#define\tDISABLE_KERNEL_SPE\tdisable_kernel_spe();\n#else\n#define\tENABLE_KERNEL_SPE\n#define\tDISABLE_KERNEL_SPE\n#endif\n#define\tkfpu_begin()\t\t\t\t\\\n\t{\t\t\t\t\t\\\n\t\tpreempt_disable();\t\t\\\n\t\tENABLE_KERNEL_ALTIVEC\t\t\\\n\t\tENABLE_KERNEL_VSX\t\t\\\n\t\tENABLE_KERNEL_SPE\t\t\\\n\t}\n#define\tkfpu_end()\t\t\t\t\\\n\t{\t\t\t\t\t\\\n\t\tDISABLE_KERNEL_SPE\t\t\\\n\t\tDISABLE_KERNEL_VSX\t\t\\\n\t\tDISABLE_KERNEL_ALTIVEC\t\t\\\n\t\tpreempt_enable();\t\t\\\n\t}\n#else\n \n#define\tkfpu_begin()\n#define\tkfpu_end()\t\tpreempt_enable()\n#endif\t \n\n#define\tkfpu_init()\t\t0\n#define\tkfpu_fini()\t\t((void) 0)\n\n \n#if defined(CONFIG_JUMP_LABEL_FEATURE_CHECKS) && \\\n    defined(HAVE_CPU_HAS_FEATURE_GPL_ONLY)\n#define\tcpu_has_feature(feature)\tearly_cpu_has_feature(feature)\n#endif\n\n \nstatic inline boolean_t\nzfs_altivec_available(void)\n{\n\treturn (cpu_has_feature(CPU_FTR_ALTIVEC));\n}\n\n \nstatic inline boolean_t\nzfs_vsx_available(void)\n{\n\treturn (cpu_has_feature(CPU_FTR_VSX));\n}\n\n \nstatic inline boolean_t\nzfs_isa207_available(void)\n{\n\treturn (cpu_has_feature(CPU_FTR_ARCH_207S));\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}