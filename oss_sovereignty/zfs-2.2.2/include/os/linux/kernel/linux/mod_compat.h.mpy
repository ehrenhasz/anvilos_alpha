{
  "module_name": "mod_compat.h",
  "hash_id": "480384389d1fcda0cebbefb6e10668e8d683410e0078f16eafae0ca610f071f3",
  "original_prompt": "Ingested from zfs-2.2.2/include/os/linux/kernel/linux/mod_compat.h",
  "human_readable_source": " \n\n \n\n#ifndef _MOD_COMPAT_H\n#define\t_MOD_COMPAT_H\n\n#include <linux/module.h>\n#include <linux/moduleparam.h>\n\n \n#define\t__check_old_set_param(_) (0)\n\ntypedef const struct kernel_param zfs_kernel_param_t;\n\n#define\tZMOD_RW 0644\n#define\tZMOD_RD 0444\n\nenum scope_prefix_types {\n\tzfs,\n\tzfs_arc,\n\tzfs_brt,\n\tzfs_condense,\n\tzfs_dbuf,\n\tzfs_dbuf_cache,\n\tzfs_deadman,\n\tzfs_dedup,\n\tzfs_l2arc,\n\tzfs_livelist,\n\tzfs_livelist_condense,\n\tzfs_lua,\n\tzfs_metaslab,\n\tzfs_mg,\n\tzfs_multihost,\n\tzfs_prefetch,\n\tzfs_reconstruct,\n\tzfs_recv,\n\tzfs_send,\n\tzfs_spa,\n\tzfs_trim,\n\tzfs_txg,\n\tzfs_vdev,\n\tzfs_vdev_file,\n\tzfs_vdev_mirror,\n\tzfs_vnops,\n\tzfs_zevent,\n\tzfs_zio,\n\tzfs_zil\n};\n\n \n\n#define\tspl_param_set_int param_set_int\n#define\tspl_param_get_int param_get_int\n#define\tspl_param_ops_int param_ops_int\n#define\tspl_param_ops_INT param_ops_int\n\n#define\tspl_param_set_long param_set_long\n#define\tspl_param_get_long param_get_long\n#define\tspl_param_ops_long param_ops_long\n#define\tspl_param_ops_LONG param_ops_long\n\n#define\tspl_param_set_uint param_set_uint\n#define\tspl_param_get_uint param_get_uint\n#define\tspl_param_ops_uint param_ops_uint\n#define\tspl_param_ops_UINT param_ops_uint\n\n#define\tspl_param_set_ulong param_set_ulong\n#define\tspl_param_get_ulong param_get_ulong\n#define\tspl_param_ops_ulong param_ops_ulong\n#define\tspl_param_ops_ULONG param_ops_ulong\n\n#define\tspl_param_set_charp param_set_charp\n#define\tspl_param_get_charp param_get_charp\n#define\tspl_param_ops_charp param_ops_charp\n#define\tspl_param_ops_STRING param_ops_charp\n\nint spl_param_set_s64(const char *val, zfs_kernel_param_t *kp);\nextern int spl_param_get_s64(char *buffer, zfs_kernel_param_t *kp);\nextern const struct kernel_param_ops spl_param_ops_s64;\n#define\tspl_param_ops_S64 spl_param_ops_s64\n\nextern int spl_param_set_u64(const char *val, zfs_kernel_param_t *kp);\nextern int spl_param_get_u64(char *buffer, zfs_kernel_param_t *kp);\nextern const struct kernel_param_ops spl_param_ops_u64;\n#define\tspl_param_ops_U64 spl_param_ops_u64\n\n \n#define\tZFS_MODULE_PARAM(scope_prefix, name_prefix, name, type, perm, desc) \\\n\t_Static_assert( \\\n\t    sizeof (scope_prefix) == sizeof (enum scope_prefix_types), \\\n\t    \"\" #scope_prefix \" size mismatch with enum scope_prefix_types\"); \\\n\tmodule_param_cb(name_prefix ## name, &spl_param_ops_ ## type, \\\n\t    &name_prefix ## name, perm); \\\n\tMODULE_PARM_DESC(name_prefix ## name, desc)\n\n \n#define\tZFS_MODULE_PARAM_CALL( \\\n    scope_prefix, name_prefix, name, setfunc, getfunc, perm, desc) \\\n\t_Static_assert( \\\n\t    sizeof (scope_prefix) == sizeof (enum scope_prefix_types), \\\n\t    \"\" #scope_prefix \" size mismatch with enum scope_prefix_types\"); \\\n\tmodule_param_call(name_prefix ## name, setfunc, getfunc, \\\n\t    &name_prefix ## name, perm); \\\n\tMODULE_PARM_DESC(name_prefix ## name, desc)\n\n \n#define\tZFS_MODULE_VIRTUAL_PARAM_CALL( \\\n    scope_prefix, name_prefix, name, setfunc, getfunc, perm, desc) \\\n\t_Static_assert( \\\n\t    sizeof (scope_prefix) == sizeof (enum scope_prefix_types), \\\n\t    \"\" #scope_prefix \" size mismatch with enum scope_prefix_types\"); \\\n\tmodule_param_call(name_prefix ## name, setfunc, getfunc, NULL, perm); \\\n\tMODULE_PARM_DESC(name_prefix ## name, desc)\n\n#define\tZFS_MODULE_PARAM_ARGS\tconst char *buf, zfs_kernel_param_t *kp\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}