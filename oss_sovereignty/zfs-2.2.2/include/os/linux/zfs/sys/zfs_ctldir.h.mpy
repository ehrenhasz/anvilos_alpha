{
  "module_name": "zfs_ctldir.h",
  "hash_id": "d01d8fee1f1d61e2720dc84c5f5e44bf289574051d321a51489ac8884402a281",
  "original_prompt": "Ingested from zfs-2.2.2/include/os/linux/zfs/sys/zfs_ctldir.h",
  "human_readable_source": " \n \n\n#ifndef\t_ZFS_CTLDIR_H\n#define\t_ZFS_CTLDIR_H\n\n#include <sys/vnode.h>\n#include <sys/pathname.h>\n#include <sys/zfs_vfsops.h>\n#include <sys/zfs_znode.h>\n\n#define\tZFS_CTLDIR_NAME\t\t\".zfs\"\n#define\tZFS_SNAPDIR_NAME\t\"snapshot\"\n#define\tZFS_SHAREDIR_NAME\t\"shares\"\n\n#define\tzfs_has_ctldir(zdp)\t\\\n\t((zdp)->z_id == ZTOZSB(zdp)->z_root && \\\n\t(ZTOZSB(zdp)->z_ctldir != NULL))\n#define\tzfs_show_ctldir(zdp)\t\\\n\t(zfs_has_ctldir(zdp) && \\\n\t(ZTOZSB(zdp)->z_show_ctldir))\n\nextern int zfs_expire_snapshot;\n\n \nextern int zfsctl_create(zfsvfs_t *);\nextern void zfsctl_destroy(zfsvfs_t *);\nextern struct inode *zfsctl_root(znode_t *);\nextern void zfsctl_init(void);\nextern void zfsctl_fini(void);\nextern boolean_t zfsctl_is_node(struct inode *ip);\nextern boolean_t zfsctl_is_snapdir(struct inode *ip);\nextern int zfsctl_fid(struct inode *ip, fid_t *fidp);\n\n \nextern int zfsctl_root_lookup(struct inode *dip, const char *name,\n    struct inode **ipp, int flags, cred_t *cr, int *direntflags,\n    pathname_t *realpnp);\n\n \nextern int zfsctl_snapdir_lookup(struct inode *dip, const char *name,\n    struct inode **ipp, int flags, cred_t *cr, int *direntflags,\n    pathname_t *realpnp);\nextern int zfsctl_snapdir_rename(struct inode *sdip, const char *sname,\n    struct inode *tdip, const char *tname, cred_t *cr, int flags);\nextern int zfsctl_snapdir_remove(struct inode *dip, const char *name,\n    cred_t *cr, int flags);\nextern int zfsctl_snapdir_mkdir(struct inode *dip, const char *dirname,\n    vattr_t *vap, struct inode **ipp, cred_t *cr, int flags);\nextern int zfsctl_snapshot_mount(struct path *path, int flags);\nextern int zfsctl_snapshot_unmount(const char *snapname, int flags);\nextern int zfsctl_snapshot_unmount_delay(spa_t *spa, uint64_t objsetid,\n    int delay);\nextern int zfsctl_snapdir_vget(struct super_block *sb, uint64_t objsetid,\n    int gen, struct inode **ipp);\n\n \nextern int zfsctl_shares_lookup(struct inode *dip, char *name,\n    struct inode **ipp, int flags, cred_t *cr, int *direntflags,\n    pathname_t *realpnp);\n\n \n#define\tZFSCTL_INO_ROOT\t\t0x0000FFFFFFFFFFFFULL\n#define\tZFSCTL_INO_SHARES\t0x0000FFFFFFFFFFFEULL\n#define\tZFSCTL_INO_SNAPDIR\t0x0000FFFFFFFFFFFDULL\n#define\tZFSCTL_INO_SNAPDIRS\t0x0000FFFFFFFFFFFCULL\n\n#define\tZFSCTL_EXPIRE_SNAPSHOT\t300\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}