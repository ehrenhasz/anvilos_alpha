{
  "module_name": "trace_dnode.h",
  "hash_id": "7b908c9ed3f32225d298cd6a9ab4e78599e58b782d49fd8c88797c71afff540e",
  "original_prompt": "Ingested from zfs-2.2.2/include/os/linux/zfs/sys/trace_dnode.h",
  "human_readable_source": " \n\n#if defined(_KERNEL)\n#if defined(HAVE_DECLARE_EVENT_CLASS)\n\n#undef TRACE_SYSTEM\n#define\tTRACE_SYSTEM zfs\n\n#undef TRACE_SYSTEM_VAR\n#define\tTRACE_SYSTEM_VAR zfs_dnode\n\n#if !defined(_TRACE_DNODE_H) || defined(TRACE_HEADER_MULTI_READ)\n#define\t_TRACE_DNODE_H\n\n#include <linux/tracepoint.h>\n#include <sys/types.h>\n\n \n \nDECLARE_EVENT_CLASS(zfs_dnode_move_class,\n\tTP_PROTO(dnode_t *dn, int64_t refcount, uint32_t dbufs),\n\tTP_ARGS(dn, refcount, dbufs),\n\tTP_STRUCT__entry(\n\t    __field(uint64_t,\t\tdn_object)\n\t    __field(dmu_object_type_t,\tdn_type)\n\t    __field(uint16_t,\t\tdn_bonuslen)\n\t    __field(uint8_t,\t\tdn_bonustype)\n\t    __field(uint8_t,\t\tdn_nblkptr)\n\t    __field(uint8_t,\t\tdn_checksum)\n\t    __field(uint8_t,\t\tdn_compress)\n\t    __field(uint8_t,\t\tdn_nlevels)\n\t    __field(uint8_t,\t\tdn_indblkshift)\n\t    __field(uint8_t,\t\tdn_datablkshift)\n\t    __field(uint8_t,\t\tdn_moved)\n\t    __field(uint16_t,\t\tdn_datablkszsec)\n\t    __field(uint32_t,\t\tdn_datablksz)\n\t    __field(uint64_t,\t\tdn_maxblkid)\n\t    __field(int64_t,\t\tdn_tx_holds)\n\t    __field(int64_t,\t\tdn_holds)\n\t    __field(boolean_t,\t\tdn_have_spill)\n\n\t    __field(int64_t,\t\trefcount)\n\t    __field(uint32_t,\t\tdbufs)\n\t),\n\tTP_fast_assign(\n\t    __entry->dn_object\t\t= dn->dn_object;\n\t    __entry->dn_type\t\t= dn->dn_type;\n\t    __entry->dn_bonuslen\t= dn->dn_bonuslen;\n\t    __entry->dn_bonustype\t= dn->dn_bonustype;\n\t    __entry->dn_nblkptr\t\t= dn->dn_nblkptr;\n\t    __entry->dn_checksum\t= dn->dn_checksum;\n\t    __entry->dn_compress\t= dn->dn_compress;\n\t    __entry->dn_nlevels\t\t= dn->dn_nlevels;\n\t    __entry->dn_indblkshift\t= dn->dn_indblkshift;\n\t    __entry->dn_datablkshift\t= dn->dn_datablkshift;\n\t    __entry->dn_moved\t\t= dn->dn_moved;\n\t    __entry->dn_datablkszsec\t= dn->dn_datablkszsec;\n\t    __entry->dn_datablksz\t= dn->dn_datablksz;\n\t    __entry->dn_maxblkid\t= dn->dn_maxblkid;\n\t    __entry->dn_tx_holds\t= dn->dn_tx_holds.rc_count;\n\t    __entry->dn_holds\t\t= dn->dn_holds.rc_count;\n\t    __entry->dn_have_spill\t= dn->dn_have_spill;\n\n\t    __entry->refcount\t\t= refcount;\n\t    __entry->dbufs\t\t= dbufs;\n\t),\n\tTP_printk(\"dn { object %llu type %d bonuslen %u bonustype %u \"\n\t    \"nblkptr %u checksum %u compress %u nlevels %u indblkshift %u \"\n\t    \"datablkshift %u moved %u datablkszsec %u datablksz %u \"\n\t    \"maxblkid %llu tx_holds %lli holds %lli have_spill %d } \"\n\t    \"refcount %lli dbufs %u\",\n\t    __entry->dn_object, __entry->dn_type, __entry->dn_bonuslen,\n\t    __entry->dn_bonustype, __entry->dn_nblkptr, __entry->dn_checksum,\n\t    __entry->dn_compress, __entry->dn_nlevels, __entry->dn_indblkshift,\n\t    __entry->dn_datablkshift, __entry->dn_moved,\n\t    __entry->dn_datablkszsec, __entry->dn_datablksz,\n\t    __entry->dn_maxblkid, __entry->dn_tx_holds, __entry->dn_holds,\n\t    __entry->dn_have_spill, __entry->refcount, __entry->dbufs)\n);\n \n\n#define\tDEFINE_DNODE_MOVE_EVENT(name) \\\nDEFINE_EVENT(zfs_dnode_move_class, name, \\\n    TP_PROTO(dnode_t *dn, int64_t refcount, uint32_t dbufs), \\\n    TP_ARGS(dn, refcount, dbufs))\nDEFINE_DNODE_MOVE_EVENT(zfs_dnode__move);\n\n#endif  \n\n#undef TRACE_INCLUDE_PATH\n#undef TRACE_INCLUDE_FILE\n#define\tTRACE_INCLUDE_PATH sys\n#define\tTRACE_INCLUDE_FILE trace_dnode\n#include <trace/define_trace.h>\n\n#else\n\nDEFINE_DTRACE_PROBE3(dnode__move);\n\n#endif  \n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}