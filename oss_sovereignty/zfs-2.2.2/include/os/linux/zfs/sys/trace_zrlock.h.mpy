{
  "module_name": "trace_zrlock.h",
  "hash_id": "d1ef23e2ee9b530dd5dbbe79f02f5cd5430592da5d2da1d860b47a12b1091e61",
  "original_prompt": "Ingested from zfs-2.2.2/include/os/linux/zfs/sys/trace_zrlock.h",
  "human_readable_source": " \n\n#if defined(_KERNEL)\n#if defined(HAVE_DECLARE_EVENT_CLASS)\n\n#undef TRACE_SYSTEM\n#define\tTRACE_SYSTEM zfs\n\n#undef TRACE_SYSTEM_VAR\n#define\tTRACE_SYSTEM_VAR zfs_zrlock\n\n#if !defined(_TRACE_ZRLOCK_H) || defined(TRACE_HEADER_MULTI_READ)\n#define\t_TRACE_ZRLOCK_H\n\n#include <linux/tracepoint.h>\n#include <sys/types.h>\n\n \n \nDECLARE_EVENT_CLASS(zfs_zrlock_class,\n\tTP_PROTO(zrlock_t *zrl, kthread_t *owner, uint32_t n),\n\tTP_ARGS(zrl, owner, n),\n\tTP_STRUCT__entry(\n\t    __field(int32_t,\t\trefcount)\n#ifdef\tZFS_DEBUG\n\t    __field(pid_t,\t\towner_pid)\n\t    __field(const char *,\tcaller)\n#endif\n\t    __field(uint32_t,\t\tn)\n\t),\n\tTP_fast_assign(\n\t    __entry->refcount\t= zrl->zr_refcount;\n#ifdef\tZFS_DEBUG\n\t    __entry->owner_pid\t= owner ? owner->pid : 0;\n\t    __entry->caller = zrl->zr_caller ? zrl->zr_caller : \"(null)\";\n#endif\n\t    __entry->n\t\t= n;\n\t),\n#ifdef\tZFS_DEBUG\n\tTP_printk(\"zrl { refcount %d owner_pid %d caller %s } n %u\",\n\t    __entry->refcount, __entry->owner_pid, __entry->caller,\n\t    __entry->n)\n#else\n\tTP_printk(\"zrl { refcount %d } n %u\",\n\t    __entry->refcount, __entry->n)\n#endif\n);\n \n\n#define\tDEFINE_ZRLOCK_EVENT(name) \\\nDEFINE_EVENT(zfs_zrlock_class, name, \\\n    TP_PROTO(zrlock_t *zrl, kthread_t *owner, uint32_t n), \\\n    TP_ARGS(zrl, owner, n))\nDEFINE_ZRLOCK_EVENT(zfs_zrlock__reentry);\n\n#endif  \n\n#undef TRACE_INCLUDE_PATH\n#undef TRACE_INCLUDE_FILE\n#define\tTRACE_INCLUDE_PATH sys\n#define\tTRACE_INCLUDE_FILE trace_zrlock\n#include <trace/define_trace.h>\n\n#else\n\nDEFINE_DTRACE_PROBE3(zrlock__reentry);\n\n#endif  \n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}