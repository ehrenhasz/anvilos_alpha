{
  "module_name": "trace_dmu.h",
  "hash_id": "a4a57f05ac4dd9ab1f9b2cce8aeaec8fc13c4ebb8ff6f3d06856cfa929ee0fb3",
  "original_prompt": "Ingested from zfs-2.2.2/include/os/linux/zfs/sys/trace_dmu.h",
  "human_readable_source": " \n\n#if defined(_KERNEL)\n#if defined(HAVE_DECLARE_EVENT_CLASS)\n\n#undef TRACE_SYSTEM\n#define\tTRACE_SYSTEM zfs\n\n#undef TRACE_SYSTEM_VAR\n#define\tTRACE_SYSTEM_VAR zfs_dmu\n\n#if !defined(_TRACE_DMU_H) || defined(TRACE_HEADER_MULTI_READ)\n#define\t_TRACE_DMU_H\n\n#include <linux/tracepoint.h>\n#include <sys/types.h>\n\n \n \nDECLARE_EVENT_CLASS(zfs_delay_mintime_class,\n\tTP_PROTO(dmu_tx_t *tx, uint64_t dirty, uint64_t min_tx_time),\n\tTP_ARGS(tx, dirty, min_tx_time),\n\tTP_STRUCT__entry(\n\t    __field(uint64_t,\t\t\ttx_txg)\n\t    __field(uint64_t,\t\t\ttx_lastsnap_txg)\n\t    __field(uint64_t,\t\t\ttx_lasttried_txg)\n\t    __field(boolean_t,\t\t\ttx_anyobj)\n\t    __field(boolean_t,\t\t\ttx_dirty_delayed)\n\t    __field(hrtime_t,\t\t\ttx_start)\n\t    __field(boolean_t,\t\t\ttx_wait_dirty)\n\t    __field(int,\t\t\ttx_err)\n\t    __field(uint64_t,\t\t\tmin_tx_time)\n\t    __field(uint64_t,\t\t\tdirty)\n\t),\n\tTP_fast_assign(\n\t    __entry->tx_txg\t\t\t= tx->tx_txg;\n\t    __entry->tx_lastsnap_txg\t\t= tx->tx_lastsnap_txg;\n\t    __entry->tx_lasttried_txg\t\t= tx->tx_lasttried_txg;\n\t    __entry->tx_anyobj\t\t\t= tx->tx_anyobj;\n\t    __entry->tx_dirty_delayed\t\t= tx->tx_dirty_delayed;\n\t    __entry->tx_start\t\t\t= tx->tx_start;\n\t    __entry->tx_wait_dirty\t\t= tx->tx_wait_dirty;\n\t    __entry->tx_err\t\t\t= tx->tx_err;\n\t    __entry->dirty\t\t\t= dirty;\n\t    __entry->min_tx_time\t\t= min_tx_time;\n\t),\n\tTP_printk(\"tx { txg %llu lastsnap_txg %llu tx_lasttried_txg %llu \"\n\t    \"anyobj %d dirty_delayed %d start %llu wait_dirty %d err %i \"\n\t    \"} dirty %llu min_tx_time %llu\",\n\t    __entry->tx_txg, __entry->tx_lastsnap_txg,\n\t    __entry->tx_lasttried_txg, __entry->tx_anyobj,\n\t    __entry->tx_dirty_delayed, __entry->tx_start,\n\t    __entry->tx_wait_dirty, __entry->tx_err,\n\t    __entry->dirty, __entry->min_tx_time)\n);\n \n\n#define\tDEFINE_DELAY_MINTIME_EVENT(name) \\\nDEFINE_EVENT(zfs_delay_mintime_class, name, \\\n    TP_PROTO(dmu_tx_t *tx, uint64_t dirty, uint64_t min_tx_time), \\\n    TP_ARGS(tx, dirty, min_tx_time))\nDEFINE_DELAY_MINTIME_EVENT(zfs_delay__mintime);\n\n \nDECLARE_EVENT_CLASS(zfs_free_long_range_class,\n\tTP_PROTO(uint64_t long_free_dirty_all_txgs, uint64_t chunk_len, \\\n\t    uint64_t txg),\n\tTP_ARGS(long_free_dirty_all_txgs, chunk_len, txg),\n\tTP_STRUCT__entry(\n\t    __field(uint64_t,\t\t\tlong_free_dirty_all_txgs)\n\t    __field(uint64_t,\t\t\tchunk_len)\n\t    __field(uint64_t,\t\t\ttxg)\n\t),\n\tTP_fast_assign(\n\t    __entry->long_free_dirty_all_txgs\t= long_free_dirty_all_txgs;\n\t    __entry->chunk_len\t\t\t\t\t= chunk_len;\n\t    __entry->txg\t\t\t\t\t\t= txg;\n\t),\n\tTP_printk(\"long_free_dirty_all_txgs %llu chunk_len %llu txg %llu\",\n\t   __entry->long_free_dirty_all_txgs,\n\t   __entry->chunk_len, __entry->txg)\n);\n \n\n#define\tDEFINE_FREE_LONG_RANGE_EVENT(name) \\\nDEFINE_EVENT(zfs_free_long_range_class, name, \\\n    TP_PROTO(uint64_t long_free_dirty_all_txgs, \\\n    uint64_t chunk_len, uint64_t txg), \\\n    TP_ARGS(long_free_dirty_all_txgs, chunk_len, txg))\nDEFINE_FREE_LONG_RANGE_EVENT(zfs_free__long__range);\n\n#endif  \n\n#undef TRACE_INCLUDE_PATH\n#undef TRACE_INCLUDE_FILE\n#define\tTRACE_INCLUDE_PATH sys\n#define\tTRACE_INCLUDE_FILE trace_dmu\n#include <trace/define_trace.h>\n\n#else\n\nDEFINE_DTRACE_PROBE3(delay__mintime);\nDEFINE_DTRACE_PROBE3(free__long__range);\n\n#endif  \n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}