{
  "module_name": "libzfs.h",
  "hash_id": "d76fed2cf1f5241d533232c178f7da18f6831a10d6c31e877369261dbd113a38",
  "original_prompt": "Ingested from zfs-2.2.2/include/libzfs.h",
  "human_readable_source": " \n\n \n\n#ifndef\t_LIBZFS_H\n#define\t_LIBZFS_H extern __attribute__((visibility(\"default\")))\n\n#include <assert.h>\n#include <libshare.h>\n#include <libnvpair.h>\n#include <sys/mnttab.h>\n#include <sys/param.h>\n#include <sys/types.h>\n#include <sys/fs/zfs.h>\n#include <sys/avl.h>\n#include <libzfs_core.h>\n\n#ifdef\t__cplusplus\nextern \"C\" {\n#endif\n\n \n#define\tZFS_MAXPROPLEN\t\tMAXPATHLEN\n#define\tZPOOL_MAXPROPLEN\tMAXPATHLEN\n\n \ntypedef enum zfs_error {\n\tEZFS_SUCCESS = 0,\t \n\tEZFS_NOMEM = 2000,\t \n\tEZFS_BADPROP,\t\t \n\tEZFS_PROPREADONLY,\t \n\tEZFS_PROPTYPE,\t\t \n\tEZFS_PROPNONINHERIT,\t \n\tEZFS_PROPSPACE,\t\t \n\tEZFS_BADTYPE,\t\t \n\tEZFS_BUSY,\t\t \n\tEZFS_EXISTS,\t\t \n\tEZFS_NOENT,\t\t \n\tEZFS_BADSTREAM,\t\t \n\tEZFS_DSREADONLY,\t \n\tEZFS_VOLTOOBIG,\t\t \n\tEZFS_INVALIDNAME,\t \n\tEZFS_BADRESTORE,\t \n\tEZFS_BADBACKUP,\t\t \n\tEZFS_BADTARGET,\t\t \n\tEZFS_NODEVICE,\t\t \n\tEZFS_BADDEV,\t\t \n\tEZFS_NOREPLICAS,\t \n\tEZFS_RESILVERING,\t \n\tEZFS_BADVERSION,\t \n\tEZFS_POOLUNAVAIL,\t \n\tEZFS_DEVOVERFLOW,\t \n\tEZFS_BADPATH,\t\t \n\tEZFS_CROSSTARGET,\t \n\tEZFS_ZONED,\t\t \n\tEZFS_MOUNTFAILED,\t \n\tEZFS_UMOUNTFAILED,\t \n\tEZFS_UNSHARENFSFAILED,\t \n\tEZFS_SHARENFSFAILED,\t \n\tEZFS_PERM,\t\t \n\tEZFS_NOSPC,\t\t \n\tEZFS_FAULT,\t\t \n\tEZFS_IO,\t\t \n\tEZFS_INTR,\t\t \n\tEZFS_ISSPARE,\t\t \n\tEZFS_INVALCONFIG,\t \n\tEZFS_RECURSIVE,\t\t \n\tEZFS_NOHISTORY,\t\t \n\tEZFS_POOLPROPS,\t\t \n\tEZFS_POOL_NOTSUP,\t \n\tEZFS_POOL_INVALARG,\t \n\tEZFS_NAMETOOLONG,\t \n\tEZFS_OPENFAILED,\t \n\tEZFS_NOCAP,\t\t \n\tEZFS_LABELFAILED,\t \n\tEZFS_BADWHO,\t\t \n\tEZFS_BADPERM,\t\t \n\tEZFS_BADPERMSET,\t \n\tEZFS_NODELEGATION,\t \n\tEZFS_UNSHARESMBFAILED,\t \n\tEZFS_SHARESMBFAILED,\t \n\tEZFS_BADCACHE,\t\t \n\tEZFS_ISL2CACHE,\t\t \n\tEZFS_VDEVNOTSUP,\t \n\tEZFS_NOTSUP,\t\t \n\tEZFS_ACTIVE_SPARE,\t \n\tEZFS_UNPLAYED_LOGS,\t \n\tEZFS_REFTAG_RELE,\t \n\tEZFS_REFTAG_HOLD,\t \n\tEZFS_TAGTOOLONG,\t \n\tEZFS_PIPEFAILED,\t \n\tEZFS_THREADCREATEFAILED,  \n\tEZFS_POSTSPLIT_ONLINE,\t \n\tEZFS_SCRUBBING,\t\t \n\tEZFS_ERRORSCRUBBING,\t \n\tEZFS_ERRORSCRUB_PAUSED,\t \n\tEZFS_NO_SCRUB,\t\t \n\tEZFS_DIFF,\t\t \n\tEZFS_DIFFDATA,\t\t \n\tEZFS_POOLREADONLY,\t \n\tEZFS_SCRUB_PAUSED,\t \n\tEZFS_SCRUB_PAUSED_TO_CANCEL,\t \n\tEZFS_ACTIVE_POOL,\t \n\tEZFS_CRYPTOFAILED,\t \n\tEZFS_NO_PENDING,\t \n\tEZFS_CHECKPOINT_EXISTS,\t \n\tEZFS_DISCARDING_CHECKPOINT,\t \n\tEZFS_NO_CHECKPOINT,\t \n\tEZFS_DEVRM_IN_PROGRESS,\t \n\tEZFS_VDEV_TOO_BIG,\t \n\tEZFS_IOC_NOTSUPPORTED,\t \n\tEZFS_TOOMANY,\t\t \n\tEZFS_INITIALIZING,\t \n\tEZFS_NO_INITIALIZE,\t \n\tEZFS_WRONG_PARENT,\t \n\tEZFS_TRIMMING,\t\t \n\tEZFS_NO_TRIM,\t\t \n\tEZFS_TRIM_NOTSUP,\t \n\tEZFS_NO_RESILVER_DEFER,\t \n\tEZFS_EXPORT_IN_PROGRESS,\t \n\tEZFS_REBUILDING,\t \n\tEZFS_VDEV_NOTSUP,\t \n\tEZFS_NOT_USER_NAMESPACE,\t \n\tEZFS_CKSUM,\t\t \n\tEZFS_RESUME_EXISTS,\t \n\tEZFS_SHAREFAILED,\t \n\tEZFS_UNKNOWN\n} zfs_error_t;\n\n \ntypedef struct zfs_perm_node {\n\tavl_node_t z_node;\n\tchar z_pname[MAXPATHLEN];\n} zfs_perm_node_t;\n\ntypedef struct zfs_allow_node {\n\tavl_node_t z_node;\n\tchar z_key[MAXPATHLEN];\t\t \n\tavl_tree_t z_localdescend;\t \n\tavl_tree_t z_local;\t\t \n\tavl_tree_t z_descend;\t\t \n} zfs_allow_node_t;\n\ntypedef struct zfs_allow {\n\tstruct zfs_allow *z_next;\n\tchar z_setpoint[MAXPATHLEN];\n\tavl_tree_t z_sets;\n\tavl_tree_t z_crperms;\n\tavl_tree_t z_user;\n\tavl_tree_t z_group;\n\tavl_tree_t z_everyone;\n} zfs_allow_t;\n\n \ntypedef struct zfs_handle zfs_handle_t;\ntypedef struct zpool_handle zpool_handle_t;\ntypedef struct libzfs_handle libzfs_handle_t;\n\n_LIBZFS_H int zpool_wait(zpool_handle_t *, zpool_wait_activity_t);\n_LIBZFS_H int zpool_wait_status(zpool_handle_t *, zpool_wait_activity_t,\n    boolean_t *, boolean_t *);\n\n \n_LIBZFS_H libzfs_handle_t *libzfs_init(void);\n_LIBZFS_H void libzfs_fini(libzfs_handle_t *);\n\n_LIBZFS_H libzfs_handle_t *zpool_get_handle(zpool_handle_t *);\n_LIBZFS_H libzfs_handle_t *zfs_get_handle(zfs_handle_t *);\n\n_LIBZFS_H void libzfs_print_on_error(libzfs_handle_t *, boolean_t);\n\n_LIBZFS_H void zfs_save_arguments(int argc, char **, char *, int);\n_LIBZFS_H int zpool_log_history(libzfs_handle_t *, const char *);\n\n_LIBZFS_H int libzfs_errno(libzfs_handle_t *);\n_LIBZFS_H const char *libzfs_error_init(int);\n_LIBZFS_H const char *libzfs_error_action(libzfs_handle_t *);\n_LIBZFS_H const char *libzfs_error_description(libzfs_handle_t *);\n_LIBZFS_H int zfs_standard_error(libzfs_handle_t *, int, const char *);\n_LIBZFS_H void libzfs_mnttab_init(libzfs_handle_t *);\n_LIBZFS_H void libzfs_mnttab_fini(libzfs_handle_t *);\n_LIBZFS_H void libzfs_mnttab_cache(libzfs_handle_t *, boolean_t);\n_LIBZFS_H int libzfs_mnttab_find(libzfs_handle_t *, const char *,\n    struct mnttab *);\n_LIBZFS_H void libzfs_mnttab_add(libzfs_handle_t *, const char *,\n    const char *, const char *);\n_LIBZFS_H void libzfs_mnttab_remove(libzfs_handle_t *, const char *);\n\n \n_LIBZFS_H zpool_handle_t *zpool_open(libzfs_handle_t *, const char *);\n_LIBZFS_H zpool_handle_t *zpool_open_canfail(libzfs_handle_t *, const char *);\n_LIBZFS_H void zpool_close(zpool_handle_t *);\n_LIBZFS_H const char *zpool_get_name(zpool_handle_t *);\n_LIBZFS_H int zpool_get_state(zpool_handle_t *);\n_LIBZFS_H const char *zpool_state_to_name(vdev_state_t, vdev_aux_t);\n_LIBZFS_H const char *zpool_pool_state_to_name(pool_state_t);\n_LIBZFS_H void zpool_free_handles(libzfs_handle_t *);\n\n \ntypedef int (*zpool_iter_f)(zpool_handle_t *, void *);\n_LIBZFS_H int zpool_iter(libzfs_handle_t *, zpool_iter_f, void *);\n_LIBZFS_H boolean_t zpool_skip_pool(const char *);\n\n \n_LIBZFS_H int zpool_create(libzfs_handle_t *, const char *, nvlist_t *,\n    nvlist_t *, nvlist_t *);\n_LIBZFS_H int zpool_destroy(zpool_handle_t *, const char *);\n_LIBZFS_H int zpool_add(zpool_handle_t *, nvlist_t *);\n\ntypedef struct splitflags {\n\t \n\tunsigned int dryrun : 1;\n\n\t \n\tunsigned int import : 1;\n\tint name_flags;\n} splitflags_t;\n\ntypedef struct trimflags {\n\t \n\tboolean_t fullpool;\n\n\t \n\tboolean_t secure;\n\n\t \n\tboolean_t wait;\n\n\t \n\tuint64_t rate;\n} trimflags_t;\n\n \n_LIBZFS_H int zpool_scan(zpool_handle_t *, pool_scan_func_t, pool_scrub_cmd_t);\n_LIBZFS_H int zpool_initialize(zpool_handle_t *, pool_initialize_func_t,\n    nvlist_t *);\n_LIBZFS_H int zpool_initialize_wait(zpool_handle_t *, pool_initialize_func_t,\n    nvlist_t *);\n_LIBZFS_H int zpool_trim(zpool_handle_t *, pool_trim_func_t, nvlist_t *,\n    trimflags_t *);\n\n_LIBZFS_H int zpool_clear(zpool_handle_t *, const char *, nvlist_t *);\n_LIBZFS_H int zpool_reguid(zpool_handle_t *);\n_LIBZFS_H int zpool_reopen_one(zpool_handle_t *, void *);\n\n_LIBZFS_H int zpool_sync_one(zpool_handle_t *, void *);\n\n_LIBZFS_H int zpool_vdev_online(zpool_handle_t *, const char *, int,\n    vdev_state_t *);\n_LIBZFS_H int zpool_vdev_offline(zpool_handle_t *, const char *, boolean_t);\n_LIBZFS_H int zpool_vdev_attach(zpool_handle_t *, const char *,\n    const char *, nvlist_t *, int, boolean_t);\n_LIBZFS_H int zpool_vdev_detach(zpool_handle_t *, const char *);\n_LIBZFS_H int zpool_vdev_remove(zpool_handle_t *, const char *);\n_LIBZFS_H int zpool_vdev_remove_cancel(zpool_handle_t *);\n_LIBZFS_H int zpool_vdev_indirect_size(zpool_handle_t *, const char *,\n    uint64_t *);\n_LIBZFS_H int zpool_vdev_split(zpool_handle_t *, char *, nvlist_t **,\n    nvlist_t *, splitflags_t);\n_LIBZFS_H int zpool_vdev_remove_wanted(zpool_handle_t *, const char *);\n\n_LIBZFS_H int zpool_vdev_fault(zpool_handle_t *, uint64_t, vdev_aux_t);\n_LIBZFS_H int zpool_vdev_degrade(zpool_handle_t *, uint64_t, vdev_aux_t);\n_LIBZFS_H int zpool_vdev_clear(zpool_handle_t *, uint64_t);\n\n_LIBZFS_H nvlist_t *zpool_find_vdev(zpool_handle_t *, const char *, boolean_t *,\n    boolean_t *, boolean_t *);\n_LIBZFS_H nvlist_t *zpool_find_vdev_by_physpath(zpool_handle_t *, const char *,\n    boolean_t *, boolean_t *, boolean_t *);\n_LIBZFS_H int zpool_label_disk(libzfs_handle_t *, zpool_handle_t *,\n    const char *);\n_LIBZFS_H int zpool_prepare_disk(zpool_handle_t *zhp, nvlist_t *vdev_nv,\n    const char *prepare_str, char **lines[], int *lines_cnt);\n_LIBZFS_H int zpool_prepare_and_label_disk(libzfs_handle_t *hdl,\n    zpool_handle_t *, const char *, nvlist_t *vdev_nv, const char *prepare_str,\n    char **lines[], int *lines_cnt);\n_LIBZFS_H char ** zpool_vdev_script_alloc_env(const char *pool_name,\n    const char *vdev_path, const char *vdev_upath,\n    const char *vdev_enc_sysfs_path, const char *opt_key, const char *opt_val);\n_LIBZFS_H void zpool_vdev_script_free_env(char **env);\n_LIBZFS_H uint64_t zpool_vdev_path_to_guid(zpool_handle_t *zhp,\n    const char *path);\n\n_LIBZFS_H const char *zpool_get_state_str(zpool_handle_t *);\n\n \n_LIBZFS_H int zpool_set_prop(zpool_handle_t *, const char *, const char *);\n_LIBZFS_H int zpool_get_prop(zpool_handle_t *, zpool_prop_t, char *,\n    size_t proplen, zprop_source_t *, boolean_t literal);\n_LIBZFS_H int zpool_get_userprop(zpool_handle_t *, const char *, char *,\n    size_t proplen, zprop_source_t *);\n_LIBZFS_H uint64_t zpool_get_prop_int(zpool_handle_t *, zpool_prop_t,\n    zprop_source_t *);\n_LIBZFS_H int zpool_props_refresh(zpool_handle_t *);\n\n_LIBZFS_H const char *zpool_prop_to_name(zpool_prop_t);\n_LIBZFS_H const char *zpool_prop_values(zpool_prop_t);\n\n \n_LIBZFS_H int zpool_get_vdev_prop_value(nvlist_t *, vdev_prop_t, char *, char *,\n    size_t, zprop_source_t *, boolean_t);\n_LIBZFS_H int zpool_get_vdev_prop(zpool_handle_t *, const char *, vdev_prop_t,\n    char *, char *, size_t, zprop_source_t *, boolean_t);\n_LIBZFS_H int zpool_get_all_vdev_props(zpool_handle_t *, const char *,\n    nvlist_t **);\n_LIBZFS_H int zpool_set_vdev_prop(zpool_handle_t *, const char *, const char *,\n    const char *);\n\n_LIBZFS_H const char *vdev_prop_to_name(vdev_prop_t);\n_LIBZFS_H const char *vdev_prop_values(vdev_prop_t);\n_LIBZFS_H boolean_t vdev_prop_user(const char *name);\n_LIBZFS_H const char *vdev_prop_column_name(vdev_prop_t);\n_LIBZFS_H boolean_t vdev_prop_align_right(vdev_prop_t);\n\n \ntypedef enum {\n\t \n\tZPOOL_STATUS_CORRUPT_CACHE,\t \n\tZPOOL_STATUS_MISSING_DEV_R,\t \n\tZPOOL_STATUS_MISSING_DEV_NR,\t \n\tZPOOL_STATUS_CORRUPT_LABEL_R,\t \n\tZPOOL_STATUS_CORRUPT_LABEL_NR,\t \n\tZPOOL_STATUS_BAD_GUID_SUM,\t \n\tZPOOL_STATUS_CORRUPT_POOL,\t \n\tZPOOL_STATUS_CORRUPT_DATA,\t \n\tZPOOL_STATUS_FAILING_DEV,\t \n\tZPOOL_STATUS_VERSION_NEWER,\t \n\tZPOOL_STATUS_HOSTID_MISMATCH,\t \n\tZPOOL_STATUS_HOSTID_ACTIVE,\t \n\tZPOOL_STATUS_HOSTID_REQUIRED,\t \n\tZPOOL_STATUS_IO_FAILURE_WAIT,\t \n\tZPOOL_STATUS_IO_FAILURE_CONTINUE,  \n\tZPOOL_STATUS_IO_FAILURE_MMP,\t \n\tZPOOL_STATUS_BAD_LOG,\t\t \n\tZPOOL_STATUS_ERRATA,\t\t \n\n\t \n\tZPOOL_STATUS_UNSUP_FEAT_READ,\t \n\tZPOOL_STATUS_UNSUP_FEAT_WRITE,\t \n\n\t \n\tZPOOL_STATUS_FAULTED_DEV_R,\t \n\tZPOOL_STATUS_FAULTED_DEV_NR,\t \n\n\t \n\tZPOOL_STATUS_VERSION_OLDER,\t \n\tZPOOL_STATUS_FEAT_DISABLED,\t \n\tZPOOL_STATUS_RESILVERING,\t \n\tZPOOL_STATUS_OFFLINE_DEV,\t \n\tZPOOL_STATUS_REMOVED_DEV,\t \n\tZPOOL_STATUS_REBUILDING,\t \n\tZPOOL_STATUS_REBUILD_SCRUB,\t \n\tZPOOL_STATUS_NON_NATIVE_ASHIFT,\t \n\tZPOOL_STATUS_COMPATIBILITY_ERR,\t \n\tZPOOL_STATUS_INCOMPATIBLE_FEAT,\t \n\n\t \n\tZPOOL_STATUS_OK\n} zpool_status_t;\n\n_LIBZFS_H zpool_status_t zpool_get_status(zpool_handle_t *, const char **,\n    zpool_errata_t *);\n_LIBZFS_H zpool_status_t zpool_import_status(nvlist_t *, const char **,\n    zpool_errata_t *);\n\n \n_LIBZFS_H nvlist_t *zpool_get_config(zpool_handle_t *, nvlist_t **);\n_LIBZFS_H nvlist_t *zpool_get_features(zpool_handle_t *);\n_LIBZFS_H int zpool_refresh_stats(zpool_handle_t *, boolean_t *);\n_LIBZFS_H int zpool_get_errlog(zpool_handle_t *, nvlist_t **);\n\n \n_LIBZFS_H int zpool_export(zpool_handle_t *, boolean_t, const char *);\n_LIBZFS_H int zpool_export_force(zpool_handle_t *, const char *);\n_LIBZFS_H int zpool_import(libzfs_handle_t *, nvlist_t *, const char *,\n    char *altroot);\n_LIBZFS_H int zpool_import_props(libzfs_handle_t *, nvlist_t *, const char *,\n    nvlist_t *, int);\n_LIBZFS_H void zpool_print_unsup_feat(nvlist_t *config);\n\n \nstruct zfs_cmd;\n\n_LIBZFS_H const char *const zfs_history_event_names[];\n\ntypedef enum {\n\tVDEV_NAME_PATH\t\t= 1 << 0,\n\tVDEV_NAME_GUID\t\t= 1 << 1,\n\tVDEV_NAME_FOLLOW_LINKS\t= 1 << 2,\n\tVDEV_NAME_TYPE_ID\t= 1 << 3,\n} vdev_name_t;\n\n_LIBZFS_H char *zpool_vdev_name(libzfs_handle_t *, zpool_handle_t *, nvlist_t *,\n    int name_flags);\n_LIBZFS_H int zpool_upgrade(zpool_handle_t *, uint64_t);\n_LIBZFS_H int zpool_get_history(zpool_handle_t *, nvlist_t **, uint64_t *,\n    boolean_t *);\n_LIBZFS_H int zpool_events_next(libzfs_handle_t *, nvlist_t **, int *, unsigned,\n    int);\n_LIBZFS_H int zpool_events_clear(libzfs_handle_t *, int *);\n_LIBZFS_H int zpool_events_seek(libzfs_handle_t *, uint64_t, int);\n_LIBZFS_H void zpool_obj_to_path_ds(zpool_handle_t *, uint64_t, uint64_t,\n    char *, size_t);\n_LIBZFS_H void zpool_obj_to_path(zpool_handle_t *, uint64_t, uint64_t, char *,\n    size_t);\n_LIBZFS_H int zfs_ioctl(libzfs_handle_t *, int, struct zfs_cmd *);\n_LIBZFS_H void zpool_explain_recover(libzfs_handle_t *, const char *, int,\n    nvlist_t *);\n_LIBZFS_H int zpool_checkpoint(zpool_handle_t *);\n_LIBZFS_H int zpool_discard_checkpoint(zpool_handle_t *);\n_LIBZFS_H boolean_t zpool_is_draid_spare(const char *);\n\n \n_LIBZFS_H zfs_handle_t *zfs_open(libzfs_handle_t *, const char *, int);\n_LIBZFS_H zfs_handle_t *zfs_handle_dup(zfs_handle_t *);\n_LIBZFS_H void zfs_close(zfs_handle_t *);\n_LIBZFS_H zfs_type_t zfs_get_type(const zfs_handle_t *);\n_LIBZFS_H zfs_type_t zfs_get_underlying_type(const zfs_handle_t *);\n_LIBZFS_H const char *zfs_get_name(const zfs_handle_t *);\n_LIBZFS_H zpool_handle_t *zfs_get_pool_handle(const zfs_handle_t *);\n_LIBZFS_H const char *zfs_get_pool_name(const zfs_handle_t *);\n\n \n\n \n_LIBZFS_H const char *zfs_prop_default_string(zfs_prop_t);\n_LIBZFS_H uint64_t zfs_prop_default_numeric(zfs_prop_t);\n_LIBZFS_H const char *zfs_prop_column_name(zfs_prop_t);\n_LIBZFS_H boolean_t zfs_prop_align_right(zfs_prop_t);\n\n_LIBZFS_H nvlist_t *zfs_valid_proplist(libzfs_handle_t *, zfs_type_t,\n    nvlist_t *, uint64_t, zfs_handle_t *, zpool_handle_t *, boolean_t,\n    const char *);\n\n_LIBZFS_H const char *zfs_prop_to_name(zfs_prop_t);\n_LIBZFS_H int zfs_prop_set(zfs_handle_t *, const char *, const char *);\n_LIBZFS_H int zfs_prop_set_list(zfs_handle_t *, nvlist_t *);\n_LIBZFS_H int zfs_prop_set_list_flags(zfs_handle_t *, nvlist_t *, int);\n_LIBZFS_H int zfs_prop_get(zfs_handle_t *, zfs_prop_t, char *, size_t,\n    zprop_source_t *, char *, size_t, boolean_t);\n_LIBZFS_H int zfs_prop_get_recvd(zfs_handle_t *, const char *, char *, size_t,\n    boolean_t);\n_LIBZFS_H int zfs_prop_get_numeric(zfs_handle_t *, zfs_prop_t, uint64_t *,\n    zprop_source_t *, char *, size_t);\n_LIBZFS_H int zfs_prop_get_userquota_int(zfs_handle_t *zhp,\n    const char *propname, uint64_t *propvalue);\n_LIBZFS_H int zfs_prop_get_userquota(zfs_handle_t *zhp, const char *propname,\n    char *propbuf, int proplen, boolean_t literal);\n_LIBZFS_H int zfs_prop_get_written_int(zfs_handle_t *zhp, const char *propname,\n    uint64_t *propvalue);\n_LIBZFS_H int zfs_prop_get_written(zfs_handle_t *zhp, const char *propname,\n    char *propbuf, int proplen, boolean_t literal);\n_LIBZFS_H int zfs_prop_get_feature(zfs_handle_t *zhp, const char *propname,\n    char *buf, size_t len);\n_LIBZFS_H uint64_t getprop_uint64(zfs_handle_t *, zfs_prop_t, const char **);\n_LIBZFS_H uint64_t zfs_prop_get_int(zfs_handle_t *, zfs_prop_t);\n_LIBZFS_H int zfs_prop_inherit(zfs_handle_t *, const char *, boolean_t);\n_LIBZFS_H const char *zfs_prop_values(zfs_prop_t);\n_LIBZFS_H int zfs_prop_is_string(zfs_prop_t prop);\n_LIBZFS_H nvlist_t *zfs_get_all_props(zfs_handle_t *);\n_LIBZFS_H nvlist_t *zfs_get_user_props(zfs_handle_t *);\n_LIBZFS_H nvlist_t *zfs_get_recvd_props(zfs_handle_t *);\n_LIBZFS_H nvlist_t *zfs_get_clones_nvl(zfs_handle_t *);\n\n_LIBZFS_H int zfs_wait_status(zfs_handle_t *, zfs_wait_activity_t,\n    boolean_t *, boolean_t *);\n\n \n_LIBZFS_H int zfs_crypto_get_encryption_root(zfs_handle_t *, boolean_t *,\n    char *);\n_LIBZFS_H int zfs_crypto_create(libzfs_handle_t *, char *, nvlist_t *,\n    nvlist_t *, boolean_t stdin_available, uint8_t **, uint_t *);\n_LIBZFS_H int zfs_crypto_clone_check(libzfs_handle_t *, zfs_handle_t *, char *,\n    nvlist_t *);\n_LIBZFS_H int zfs_crypto_attempt_load_keys(libzfs_handle_t *, const char *);\n_LIBZFS_H int zfs_crypto_load_key(zfs_handle_t *, boolean_t, const char *);\n_LIBZFS_H int zfs_crypto_unload_key(zfs_handle_t *);\n_LIBZFS_H int zfs_crypto_rewrap(zfs_handle_t *, nvlist_t *, boolean_t);\n\ntypedef struct zprop_list {\n\tint\t\tpl_prop;\n\tchar\t\t*pl_user_prop;\n\tstruct zprop_list *pl_next;\n\tboolean_t\tpl_all;\n\tsize_t\t\tpl_width;\n\tsize_t\t\tpl_recvd_width;\n\tboolean_t\tpl_fixed;\n} zprop_list_t;\n\n_LIBZFS_H int zfs_expand_proplist(zfs_handle_t *, zprop_list_t **, boolean_t,\n    boolean_t);\n_LIBZFS_H void zfs_prune_proplist(zfs_handle_t *, uint8_t *);\n_LIBZFS_H int vdev_expand_proplist(zpool_handle_t *, const char *,\n    zprop_list_t **);\n\n#define\tZFS_MOUNTPOINT_NONE\t\"none\"\n#define\tZFS_MOUNTPOINT_LEGACY\t\"legacy\"\n\n#define\tZFS_FEATURE_DISABLED\t\"disabled\"\n#define\tZFS_FEATURE_ENABLED\t\"enabled\"\n#define\tZFS_FEATURE_ACTIVE\t\"active\"\n\n#define\tZFS_UNSUPPORTED_INACTIVE\t\"inactive\"\n#define\tZFS_UNSUPPORTED_READONLY\t\"readonly\"\n\n \n_LIBZFS_H int zpool_expand_proplist(zpool_handle_t *, zprop_list_t **,\n    zfs_type_t, boolean_t);\n_LIBZFS_H int zpool_prop_get_feature(zpool_handle_t *, const char *, char *,\n    size_t);\n_LIBZFS_H const char *zpool_prop_default_string(zpool_prop_t);\n_LIBZFS_H uint64_t zpool_prop_default_numeric(zpool_prop_t);\n_LIBZFS_H const char *zpool_prop_column_name(zpool_prop_t);\n_LIBZFS_H boolean_t zpool_prop_align_right(zpool_prop_t);\n\n \n_LIBZFS_H int zprop_iter(zprop_func func, void *cb, boolean_t show_all,\n    boolean_t ordered, zfs_type_t type);\n_LIBZFS_H int zprop_get_list(libzfs_handle_t *, char *, zprop_list_t **,\n    zfs_type_t);\n_LIBZFS_H void zprop_free_list(zprop_list_t *);\n\n#define\tZFS_GET_NCOLS\t5\n\ntypedef enum {\n\tGET_COL_NONE,\n\tGET_COL_NAME,\n\tGET_COL_PROPERTY,\n\tGET_COL_VALUE,\n\tGET_COL_RECVD,\n\tGET_COL_SOURCE\n} zfs_get_column_t;\n\n \ntypedef struct vdev_cbdata {\n\tint cb_name_flags;\n\tchar **cb_names;\n\tunsigned int cb_names_count;\n} vdev_cbdata_t;\n\ntypedef struct zprop_get_cbdata {\n\tint cb_sources;\n\tzfs_get_column_t cb_columns[ZFS_GET_NCOLS];\n\tint cb_colwidths[ZFS_GET_NCOLS + 1];\n\tboolean_t cb_scripted;\n\tboolean_t cb_literal;\n\tboolean_t cb_first;\n\tzprop_list_t *cb_proplist;\n\tzfs_type_t cb_type;\n\tvdev_cbdata_t cb_vdevs;\n} zprop_get_cbdata_t;\n\n#define\tZFS_SET_NOMOUNT\t\t1\n\ntypedef struct zprop_set_cbdata {\n\tint cb_flags;\n\tnvlist_t *cb_proplist;\n} zprop_set_cbdata_t;\n\n_LIBZFS_H void zprop_print_one_property(const char *, zprop_get_cbdata_t *,\n    const char *, const char *, zprop_source_t, const char *,\n    const char *);\n\n \n#define\tZFS_ITER_RECURSE\t\t(1 << 0)\n#define\tZFS_ITER_ARGS_CAN_BE_PATHS\t(1 << 1)\n#define\tZFS_ITER_PROP_LISTSNAPS\t\t(1 << 2)\n#define\tZFS_ITER_DEPTH_LIMIT\t\t(1 << 3)\n#define\tZFS_ITER_RECVD_PROPS\t\t(1 << 4)\n#define\tZFS_ITER_LITERAL_PROPS\t\t(1 << 5)\n#define\tZFS_ITER_SIMPLE\t\t\t(1 << 6)\n\ntypedef int (*zfs_iter_f)(zfs_handle_t *, void *);\n_LIBZFS_H int zfs_iter_root(libzfs_handle_t *, zfs_iter_f, void *);\n_LIBZFS_H int zfs_iter_children(zfs_handle_t *, zfs_iter_f, void *);\n_LIBZFS_H int zfs_iter_dependents(zfs_handle_t *, boolean_t, zfs_iter_f,\n    void *);\n_LIBZFS_H int zfs_iter_filesystems(zfs_handle_t *, zfs_iter_f, void *);\n_LIBZFS_H int zfs_iter_snapshots(zfs_handle_t *, boolean_t, zfs_iter_f, void *,\n    uint64_t, uint64_t);\n_LIBZFS_H int zfs_iter_snapshots_sorted(zfs_handle_t *, zfs_iter_f, void *,\n    uint64_t, uint64_t);\n_LIBZFS_H int zfs_iter_snapspec(zfs_handle_t *, const char *, zfs_iter_f,\n    void *);\n_LIBZFS_H int zfs_iter_bookmarks(zfs_handle_t *, zfs_iter_f, void *);\n\n_LIBZFS_H int zfs_iter_children_v2(zfs_handle_t *, int, zfs_iter_f, void *);\n_LIBZFS_H int zfs_iter_dependents_v2(zfs_handle_t *, int, boolean_t, zfs_iter_f,\n    void *);\n_LIBZFS_H int zfs_iter_filesystems_v2(zfs_handle_t *, int, zfs_iter_f, void *);\n_LIBZFS_H int zfs_iter_snapshots_v2(zfs_handle_t *, int, zfs_iter_f, void *,\n    uint64_t, uint64_t);\n_LIBZFS_H int zfs_iter_snapshots_sorted_v2(zfs_handle_t *, int, zfs_iter_f,\n    void *, uint64_t, uint64_t);\n_LIBZFS_H int zfs_iter_snapspec_v2(zfs_handle_t *, int, const char *,\n    zfs_iter_f, void *);\n_LIBZFS_H int zfs_iter_bookmarks_v2(zfs_handle_t *, int, zfs_iter_f, void *);\n_LIBZFS_H int zfs_iter_mounted(zfs_handle_t *, zfs_iter_f, void *);\n\ntypedef struct get_all_cb {\n\tzfs_handle_t\t**cb_handles;\n\tsize_t\t\tcb_alloc;\n\tsize_t\t\tcb_used;\n} get_all_cb_t;\n\n_LIBZFS_H void zfs_foreach_mountpoint(libzfs_handle_t *, zfs_handle_t **,\n    size_t, zfs_iter_f, void *, boolean_t);\n_LIBZFS_H void libzfs_add_handle(get_all_cb_t *, zfs_handle_t *);\n\n \n_LIBZFS_H int zfs_create(libzfs_handle_t *, const char *, zfs_type_t,\n    nvlist_t *);\n_LIBZFS_H int zfs_create_ancestors(libzfs_handle_t *, const char *);\n_LIBZFS_H int zfs_destroy(zfs_handle_t *, boolean_t);\n_LIBZFS_H int zfs_destroy_snaps(zfs_handle_t *, char *, boolean_t);\n_LIBZFS_H int zfs_destroy_snaps_nvl(libzfs_handle_t *, nvlist_t *, boolean_t);\n_LIBZFS_H int zfs_destroy_snaps_nvl_os(libzfs_handle_t *, nvlist_t *);\n_LIBZFS_H int zfs_clone(zfs_handle_t *, const char *, nvlist_t *);\n_LIBZFS_H int zfs_snapshot(libzfs_handle_t *, const char *, boolean_t,\n    nvlist_t *);\n_LIBZFS_H int zfs_snapshot_nvl(libzfs_handle_t *hdl, nvlist_t *snaps,\n    nvlist_t *props);\n_LIBZFS_H int zfs_rollback(zfs_handle_t *, zfs_handle_t *, boolean_t);\n\ntypedef struct renameflags {\n\t \n\tunsigned int recursive : 1;\n\n\t \n\tunsigned int nounmount : 1;\n\n\t \n\tunsigned int forceunmount : 1;\n} renameflags_t;\n\n_LIBZFS_H int zfs_rename(zfs_handle_t *, const char *, renameflags_t);\n\ntypedef struct sendflags {\n\t \n\tint verbosity;\n\n\t \n\tboolean_t replicate;\n\n\t \n\tboolean_t skipmissing;\n\n\t \n\tboolean_t doall;\n\n\t \n\tboolean_t fromorigin;\n\n\t \n\tboolean_t pad;\n\n\t \n\tboolean_t props;\n\n\t \n\tboolean_t dryrun;\n\n\t \n\tboolean_t parsable;\n\n\t \n\tboolean_t progress;\n\n\t \n\tboolean_t progressastitle;\n\n\t \n\tboolean_t largeblock;\n\n\t \n\tboolean_t embed_data;\n\n\t \n\tboolean_t compress;\n\n\t \n\tboolean_t raw;\n\n\t \n\tboolean_t backup;\n\n\t \n\tboolean_t holds;\n\n\t \n\tboolean_t saved;\n} sendflags_t;\n\ntypedef boolean_t (snapfilter_cb_t)(zfs_handle_t *, void *);\n\n_LIBZFS_H int zfs_send(zfs_handle_t *, const char *, const char *,\n    sendflags_t *, int, snapfilter_cb_t, void *, nvlist_t **);\n_LIBZFS_H int zfs_send_one(zfs_handle_t *, const char *, int, sendflags_t *,\n    const char *);\n_LIBZFS_H int zfs_send_progress(zfs_handle_t *, int, uint64_t *, uint64_t *);\n_LIBZFS_H int zfs_send_resume(libzfs_handle_t *, sendflags_t *, int outfd,\n    const char *);\n_LIBZFS_H int zfs_send_saved(zfs_handle_t *, sendflags_t *, int, const char *);\n_LIBZFS_H nvlist_t *zfs_send_resume_token_to_nvlist(libzfs_handle_t *hdl,\n    const char *token);\n\n_LIBZFS_H int zfs_promote(zfs_handle_t *);\n_LIBZFS_H int zfs_hold(zfs_handle_t *, const char *, const char *,\n    boolean_t, int);\n_LIBZFS_H int zfs_hold_nvl(zfs_handle_t *, int, nvlist_t *);\n_LIBZFS_H int zfs_release(zfs_handle_t *, const char *, const char *,\n    boolean_t);\n_LIBZFS_H int zfs_get_holds(zfs_handle_t *, nvlist_t **);\n_LIBZFS_H uint64_t zvol_volsize_to_reservation(zpool_handle_t *, uint64_t,\n    nvlist_t *);\n\ntypedef int (*zfs_userspace_cb_t)(void *arg, const char *domain,\n    uid_t rid, uint64_t space);\n\n_LIBZFS_H int zfs_userspace(zfs_handle_t *, zfs_userquota_prop_t,\n    zfs_userspace_cb_t, void *);\n\n_LIBZFS_H int zfs_get_fsacl(zfs_handle_t *, nvlist_t **);\n_LIBZFS_H int zfs_set_fsacl(zfs_handle_t *, boolean_t, nvlist_t *);\n\ntypedef struct recvflags {\n\t \n\tboolean_t verbose;\n\n\t \n\tboolean_t isprefix;\n\n\t \n\tboolean_t istail;\n\n\t \n\tboolean_t dryrun;\n\n\t \n\tboolean_t force;\n\n\t \n\tboolean_t canmountoff;\n\n\t \n\tboolean_t resumable;\n\n\t \n\tboolean_t byteswap;\n\n\t \n\tboolean_t nomount;\n\n\t \n\tboolean_t holds;\n\n\t \n\tboolean_t skipholds;\n\n\t \n\tboolean_t domount;\n\n\t \n\tboolean_t forceunmount;\n\n\t \n\tboolean_t heal;\n} recvflags_t;\n\n_LIBZFS_H int zfs_receive(libzfs_handle_t *, const char *, nvlist_t *,\n    recvflags_t *, int, avl_tree_t *);\n\ntypedef enum diff_flags {\n\tZFS_DIFF_PARSEABLE = 1 << 0,\n\tZFS_DIFF_TIMESTAMP = 1 << 1,\n\tZFS_DIFF_CLASSIFY = 1 << 2,\n\tZFS_DIFF_NO_MANGLE = 1 << 3\n} diff_flags_t;\n\n_LIBZFS_H int zfs_show_diffs(zfs_handle_t *, int, const char *, const char *,\n    int);\n\n \n_LIBZFS_H const char *zfs_type_to_name(zfs_type_t);\n_LIBZFS_H void zfs_refresh_properties(zfs_handle_t *);\n_LIBZFS_H int zfs_name_valid(const char *, zfs_type_t);\n_LIBZFS_H zfs_handle_t *zfs_path_to_zhandle(libzfs_handle_t *, const char *,\n    zfs_type_t);\n_LIBZFS_H int zfs_parent_name(zfs_handle_t *, char *, size_t);\n_LIBZFS_H boolean_t zfs_dataset_exists(libzfs_handle_t *, const char *,\n    zfs_type_t);\n_LIBZFS_H int zfs_spa_version(zfs_handle_t *, int *);\n_LIBZFS_H boolean_t zfs_bookmark_exists(const char *path);\n\n \n_LIBZFS_H boolean_t is_mounted(libzfs_handle_t *, const char *special, char **);\n_LIBZFS_H boolean_t zfs_is_mounted(zfs_handle_t *, char **);\n_LIBZFS_H int zfs_mount(zfs_handle_t *, const char *, int);\n_LIBZFS_H int zfs_mount_at(zfs_handle_t *, const char *, int, const char *);\n_LIBZFS_H int zfs_unmount(zfs_handle_t *, const char *, int);\n_LIBZFS_H int zfs_unmountall(zfs_handle_t *, int);\n_LIBZFS_H int zfs_mount_delegation_check(void);\n\n#if defined(__linux__) || defined(__APPLE__)\n_LIBZFS_H int zfs_parse_mount_options(const char *mntopts,\n    unsigned long *mntflags, unsigned long *zfsflags, int sloppy, char *badopt,\n    char *mtabopt);\n_LIBZFS_H void zfs_adjust_mount_options(zfs_handle_t *zhp, const char *mntpoint,\n    char *mntopts, char *mtabopt);\n#endif\n\n \n#define\tSA_NO_PROTOCOL -1\n\n_LIBZFS_H boolean_t zfs_is_shared(zfs_handle_t *zhp, char **where,\n    const enum sa_protocol *proto);\n_LIBZFS_H int zfs_share(zfs_handle_t *zhp, const enum sa_protocol *proto);\n_LIBZFS_H int zfs_unshare(zfs_handle_t *zhp, const char *mountpoint,\n    const enum sa_protocol *proto);\n_LIBZFS_H int zfs_unshareall(zfs_handle_t *zhp,\n    const enum sa_protocol *proto);\n_LIBZFS_H void zfs_commit_shares(const enum sa_protocol *proto);\n_LIBZFS_H void zfs_truncate_shares(const enum sa_protocol *proto);\n\n_LIBZFS_H int zfs_nicestrtonum(libzfs_handle_t *, const char *, uint64_t *);\n\n \n#define\tSTDOUT_VERBOSE\t0x01\n#define\tSTDERR_VERBOSE\t0x02\n#define\tNO_DEFAULT_PATH\t0x04  \n\n_LIBZFS_H int libzfs_run_process(const char *, char **, int);\n_LIBZFS_H int libzfs_run_process_get_stdout(const char *, char *[], char *[],\n    char **[], int *);\n_LIBZFS_H int libzfs_run_process_get_stdout_nopath(const char *, char *[],\n    char *[], char **[], int *);\n\n_LIBZFS_H void libzfs_free_str_array(char **, int);\n\n_LIBZFS_H boolean_t libzfs_envvar_is_set(const char *);\n\n \n_LIBZFS_H const char *zfs_version_userland(void);\n_LIBZFS_H char *zfs_version_kernel(void);\n_LIBZFS_H int zfs_version_print(void);\n\n \n_LIBZFS_H int zpool_in_use(libzfs_handle_t *, int, pool_state_t *, char **,\n    boolean_t *);\n\n \n_LIBZFS_H int zpool_clear_label(int);\n_LIBZFS_H int zpool_set_bootenv(zpool_handle_t *, const nvlist_t *);\n_LIBZFS_H int zpool_get_bootenv(zpool_handle_t *, nvlist_t **);\n\n \n\n_LIBZFS_H int zfs_smb_acl_add(libzfs_handle_t *, char *, char *, char *);\n_LIBZFS_H int zfs_smb_acl_remove(libzfs_handle_t *, char *, char *, char *);\n_LIBZFS_H int zfs_smb_acl_purge(libzfs_handle_t *, char *, char *);\n_LIBZFS_H int zfs_smb_acl_rename(libzfs_handle_t *, char *, char *, char *,\n    char *);\n\n \n_LIBZFS_H int zpool_enable_datasets(zpool_handle_t *, const char *, int);\n_LIBZFS_H int zpool_disable_datasets(zpool_handle_t *, boolean_t);\n_LIBZFS_H void zpool_disable_datasets_os(zpool_handle_t *, boolean_t);\n_LIBZFS_H void zpool_disable_volume_os(const char *);\n\n \ntypedef enum {\n\tZPOOL_COMPATIBILITY_OK,\n\tZPOOL_COMPATIBILITY_WARNTOKEN,\n\tZPOOL_COMPATIBILITY_BADTOKEN,\n\tZPOOL_COMPATIBILITY_BADFILE,\n\tZPOOL_COMPATIBILITY_NOFILES\n} zpool_compat_status_t;\n\n_LIBZFS_H zpool_compat_status_t zpool_load_compat(const char *,\n    boolean_t *, char *, size_t);\n\n#ifdef __FreeBSD__\n\n \n_LIBZFS_H int zfs_jail(zfs_handle_t *zhp, int jailid, int attach);\n\n \n_LIBZFS_H int zpool_nextboot(libzfs_handle_t *, uint64_t, uint64_t,\n    const char *);\n\n#endif  \n\n#ifdef __linux__\n\n \n_LIBZFS_H int zfs_userns(zfs_handle_t *zhp, const char *nspath, int attach);\n\n#endif\n\n#ifdef\t__cplusplus\n}\n#endif\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}