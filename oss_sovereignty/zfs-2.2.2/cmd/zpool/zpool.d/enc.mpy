{
  "module_name": "enc",
  "hash_id": "2bbdddabb8e3df3242397f19c6c7e823c52c72878914c378e7c4cec92a644f12",
  "original_prompt": "Ingested from zfs-2.2.2/cmd/zpool/zpool.d/enc",
  "human_readable_source": "#!/bin/sh\n#\n# Print SCSI Enclosure Services (SES) info. The output is dependent on the name\n# of the script/symlink used to call it.\n#\nhelpstr=\"\nenc:\t\tShow disk enclosure w:x:y:z value.\nslot:\t\tShow disk slot number as reported by the enclosure.\nencdev:\t\tShow /dev/sg* device associated with the enclosure disk slot.\nfault_led:\tShow value of the disk enclosure slot fault LED.\nlocate_led:\tShow value of the disk enclosure slot locate LED.\nses:\t\tShow disk's enc, enc device, slot, and fault/locate LED values.\"\n\nscript=\"${0##*/}\"\nif [ \"$1\" = \"-h\" ] ; then\n\techo \"$helpstr\" | grep \"$script:\" | tr -s '\\t' | cut -f 2-\n\texit\nfi\n\nif [ \"$script\" = \"ses\" ] ; then\n\tscripts='enc encdev slot fault_led locate_led'\nelse\n\tscripts=\"$script\"\nfi\n\nfor i in $scripts ; do\n\t# shellcheck disable=SC2154\n\tif [ -z \"$VDEV_ENC_SYSFS_PATH\" ] ; then\n\t\techo \"$i=\"\n\t\tcontinue\n\tfi\n\n\tval=\"\"\n\tcase $i in\n\tenc)\n\t\tval=$(ls \"$VDEV_ENC_SYSFS_PATH/../../\" 2>/dev/null)\n\t\t;;\n\tslot)\n\t\tval=$(cat \"$VDEV_ENC_SYSFS_PATH/slot\" 2>/dev/null)\n\t\t;;\n\tencdev)\n\t\tval=$(ls \"$VDEV_ENC_SYSFS_PATH/../device/scsi_generic\" 2>/dev/null)\n\t\t;;\n\tfault_led)\n\t\t# JBODs fault LED is called 'fault', NVMe fault LED is called\n\t\t# 'attention'.\n\t\tif [ -f \"$VDEV_ENC_SYSFS_PATH/fault\" ] ; then\n\t\t\tval=$(cat \"$VDEV_ENC_SYSFS_PATH/fault\" 2>/dev/null)\n\t\telif [ -f \"$VDEV_ENC_SYSFS_PATH/attention\" ] ; then\n\t\t\tval=$(cat \"$VDEV_ENC_SYSFS_PATH/attention\" 2>/dev/null)\n\t\tfi\n\t\t;;\n\tlocate_led)\n\t\tval=$(cat \"$VDEV_ENC_SYSFS_PATH/locate\" 2>/dev/null)\n\t\t;;\n\t*)\n\t\tval=invalid\n\t\t;;\n\tesac\n\techo \"$i=$val\"\ndone\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}