{
  "module_name": "zpool_util.h",
  "hash_id": "7606dc7b64f232926bd725ba8c87b4dec77a9ceb19bac4915fee71d3d3285225",
  "original_prompt": "Ingested from zfs-2.2.2/cmd/zpool/zpool_util.h",
  "human_readable_source": " \n \n\n#ifndef\tZPOOL_UTIL_H\n#define\tZPOOL_UTIL_H\n\n#include <libnvpair.h>\n#include <libzfs.h>\n#include <libzutil.h>\n\n#ifdef\t__cplusplus\nextern \"C\" {\n#endif\n\n \n#define\tZPOOL_SCRIPTS_DIR SYSCONFDIR\"/zfs/zpool.d\"\n\n \nvoid *safe_malloc(size_t);\nvoid *safe_realloc(void *, size_t);\nvoid zpool_no_memory(void);\nuint_t num_logs(nvlist_t *nv);\nuint64_t array64_max(uint64_t array[], unsigned int len);\nint highbit64(uint64_t i);\nint lowbit64(uint64_t i);\n\n \nchar *zpool_get_cmd_search_path(void);\n\n \n\nnvlist_t *make_root_vdev(zpool_handle_t *zhp, nvlist_t *props, int force,\n    int check_rep, boolean_t replacing, boolean_t dryrun, int argc,\n    char **argv);\nnvlist_t *split_mirror_vdev(zpool_handle_t *zhp, char *newname,\n    nvlist_t *props, splitflags_t flags, int argc, char **argv);\n\n \nint for_each_pool(int, char **, boolean_t unavail, zprop_list_t **, zfs_type_t,\n    boolean_t, zpool_iter_f, void *);\n\n \nint for_each_vdev(zpool_handle_t *zhp, pool_vdev_iter_f func, void *data);\n\ntypedef struct zpool_list zpool_list_t;\n\nzpool_list_t *pool_list_get(int, char **, zprop_list_t **, zfs_type_t,\n    boolean_t, int *);\nvoid pool_list_update(zpool_list_t *);\nint pool_list_iter(zpool_list_t *, int unavail, zpool_iter_f, void *);\nvoid pool_list_free(zpool_list_t *);\nint pool_list_count(zpool_list_t *);\nvoid pool_list_remove(zpool_list_t *, zpool_handle_t *);\n\nextern libzfs_handle_t *g_zfs;\n\n\ntypedef\tstruct vdev_cmd_data\n{\n\tchar **lines;\t \n\tint lines_cnt;\t \n\n\tchar **cols;\t \n\tint cols_cnt;\t \n\n\n\tchar *path;\t \n\tchar *upath;\t \n\tchar *pool;\t \n\tchar *cmd;\t \n\tchar *vdev_enc_sysfs_path;\t \n} vdev_cmd_data_t;\n\ntypedef struct vdev_cmd_data_list\n{\n\tchar *cmd;\t\t \n\tunsigned int count;\t \n\n\t \n\tlibzfs_handle_t *g_zfs;\n\tchar **vdev_names;\n\tint vdev_names_count;\n\tint cb_name_flags;\n\n\tvdev_cmd_data_t *data;\t \n\n\t \n\tchar **uniq_cols;\n\tint uniq_cols_cnt;\n\tint *uniq_cols_width;\n\n} vdev_cmd_data_list_t;\n\nvdev_cmd_data_list_t *all_pools_for_each_vdev_run(int argc, char **argv,\n    char *cmd, libzfs_handle_t *g_zfs, char **vdev_names, int vdev_names_count,\n    int cb_name_flags);\n\nvoid free_vdev_cmd_data_list(vdev_cmd_data_list_t *vcdl);\n\nvoid free_vdev_cmd_data(vdev_cmd_data_t *data);\n\nint vdev_run_cmd_simple(char *path, char *cmd);\n\nint check_device(const char *path, boolean_t force,\n    boolean_t isspare, boolean_t iswholedisk);\nboolean_t check_sector_size_database(char *path, int *sector_size);\nvoid vdev_error(const char *fmt, ...) __attribute__((format(printf, 1, 2)));\nint check_file(const char *file, boolean_t force, boolean_t isspare);\nvoid after_zpool_upgrade(zpool_handle_t *zhp);\nint check_file_generic(const char *file, boolean_t force, boolean_t isspare);\n\n#ifdef\t__cplusplus\n}\n#endif\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}