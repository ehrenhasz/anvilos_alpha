{
  "module_name": "all-syslog.sh",
  "hash_id": "058d31763dc0742e2523ef7230a53315ee88f96ce53f38b2e6b57194edf358b6",
  "original_prompt": "Ingested from zfs-2.2.2/cmd/zed/zed.d/all-syslog.sh",
  "human_readable_source": "#!/bin/sh\n# shellcheck disable=SC2154\n#\n# Copyright (C) 2013-2014 Lawrence Livermore National Security, LLC.\n# Copyright (c) 2020 by Delphix. All rights reserved.\n#\n\n#\n# Log the zevent via syslog.\n#\n\n[ -f \"${ZED_ZEDLET_DIR}/zed.rc\" ] && . \"${ZED_ZEDLET_DIR}/zed.rc\"\n. \"${ZED_ZEDLET_DIR}/zed-functions.sh\"\n\nzed_exit_if_ignoring_this_event\n\n# build a string of name=value pairs for this event\nmsg=\"eid=${ZEVENT_EID} class=${ZEVENT_SUBCLASS}\"\n\nif [ \"${ZED_SYSLOG_DISPLAY_GUIDS}\" = \"1\" ]; then\n    [ -n \"${ZEVENT_POOL_GUID}\" ] && msg=\"${msg} pool_guid=${ZEVENT_POOL_GUID}\"\n    [ -n \"${ZEVENT_VDEV_GUID}\" ] && msg=\"${msg} vdev_guid=${ZEVENT_VDEV_GUID}\"\nelse\n    [ -n \"${ZEVENT_POOL}\" ] && msg=\"${msg} pool='${ZEVENT_POOL}'\"\n    [ -n \"${ZEVENT_VDEV_PATH}\" ] && msg=\"${msg} vdev=${ZEVENT_VDEV_PATH##*/}\"\nfi\n\n# log pool state if state is anything other than 'ACTIVE'\n[ -n \"${ZEVENT_POOL_STATE_STR}\" ] && [ \"$ZEVENT_POOL_STATE\" -ne 0 ] && \\\n    msg=\"${msg} pool_state=${ZEVENT_POOL_STATE_STR}\"\n\n# Log the following payload nvpairs if they are present\n[ -n \"${ZEVENT_VDEV_STATE_STR}\" ]  && msg=\"${msg} vdev_state=${ZEVENT_VDEV_STATE_STR}\"\n[ -n \"${ZEVENT_CKSUM_ALGORITHM}\" ] && msg=\"${msg} algorithm=${ZEVENT_CKSUM_ALGORITHM}\"\n[ -n \"${ZEVENT_ZIO_SIZE}\" ]        && msg=\"${msg} size=${ZEVENT_ZIO_SIZE}\"\n[ -n \"${ZEVENT_ZIO_OFFSET}\" ]      && msg=\"${msg} offset=${ZEVENT_ZIO_OFFSET}\"\n[ -n \"${ZEVENT_ZIO_PRIORITY}\" ]    && msg=\"${msg} priority=${ZEVENT_ZIO_PRIORITY}\"\n[ -n \"${ZEVENT_ZIO_ERR}\" ]         && msg=\"${msg} err=${ZEVENT_ZIO_ERR}\"\n[ -n \"${ZEVENT_ZIO_FLAGS}\" ]       && msg=\"${msg} flags=$(printf '0x%x' \"${ZEVENT_ZIO_FLAGS}\")\"\n\n# log delays that are >= 10 milisec\n[ -n \"${ZEVENT_ZIO_DELAY}\" ] && [ \"$ZEVENT_ZIO_DELAY\" -gt 10000000 ] && \\\n    msg=\"${msg} delay=$((ZEVENT_ZIO_DELAY / 1000000))ms\"\n\n# list the bookmark data together\n# shellcheck disable=SC2153\n[ -n \"${ZEVENT_ZIO_OBJSET}\" ] && \\\n    msg=\"${msg} bookmark=${ZEVENT_ZIO_OBJSET}:${ZEVENT_ZIO_OBJECT}:${ZEVENT_ZIO_LEVEL}:${ZEVENT_ZIO_BLKID}\"\n\nzed_log_msg \"${msg}\"\n\nexit 0\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}