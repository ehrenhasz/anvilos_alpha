{
  "module_name": "kernel-sched.m4",
  "hash_id": "268c78f725b7cf33fcee1b4554158dae8509bb27eb8139be5f0da582b8aa6d07",
  "original_prompt": "Ingested from zfs-2.2.2/config/kernel-sched.m4",
  "human_readable_source": "dnl #\ndnl # 3.9 API change,\ndnl # Moved things from linux/sched.h to linux/sched/rt.h\ndnl #\nAC_DEFUN([ZFS_AC_KERNEL_SRC_SCHED_RT_HEADER], [\n\tZFS_LINUX_TEST_SRC([sched_rt_header], [\n\t\t#include <linux/sched.h>\n\t\t#include <linux/sched/rt.h>\n\t],[\n\t\treturn 0;\n\t])\n])\n\nAC_DEFUN([ZFS_AC_KERNEL_SCHED_RT_HEADER], [\n\tAC_MSG_CHECKING([whether header linux/sched/rt.h exists])\n\tZFS_LINUX_TEST_RESULT([sched_rt_header], [\n\t\tAC_MSG_RESULT(yes)\n\t],[\n\t\tZFS_LINUX_TEST_ERROR([sched_rt_header])\n\t])\n])\n\ndnl #\ndnl # 4.11 API change,\ndnl # Moved things from linux/sched.h to linux/sched/signal.h\ndnl #\nAC_DEFUN([ZFS_AC_KERNEL_SRC_SCHED_SIGNAL_HEADER], [\n\tZFS_LINUX_TEST_SRC([sched_signal_header], [\n\t\t#include <linux/sched.h>\n\t\t#include <linux/sched/signal.h>\n\t],[\n\t\treturn 0;\n\t])\n])\n\nAC_DEFUN([ZFS_AC_KERNEL_SCHED_SIGNAL_HEADER], [\n\tAC_MSG_CHECKING([whether header linux/sched/signal.h exists])\n\tZFS_LINUX_TEST_RESULT([sched_signal_header], [\n\t\tAC_DEFINE(HAVE_SCHED_SIGNAL_HEADER, 1,\n\t\t    [linux/sched/signal.h exists])\n\t\tAC_MSG_RESULT(yes)\n\t],[\n\t\tAC_MSG_RESULT(no)\n\t])\n])\n\ndnl #\ndnl # 3.19 API change\ndnl # The io_schedule_timeout() function is present in all 2.6.32 kernels\ndnl # but it was not exported until Linux 3.19.  The RHEL 7.x kernels which\ndnl # are based on a 3.10 kernel do export this symbol.\ndnl #\nAC_DEFUN([ZFS_AC_KERNEL_SRC_IO_SCHEDULE_TIMEOUT], [\n\tZFS_LINUX_TEST_SRC([io_schedule_timeout], [\n\t\t#include <linux/sched.h>\n\t], [\n\t\t(void) io_schedule_timeout(1);\n\t])\n])\n\nAC_DEFUN([ZFS_AC_KERNEL_IO_SCHEDULE_TIMEOUT], [\n\tAC_MSG_CHECKING([whether io_schedule_timeout() is available])\n\tZFS_LINUX_TEST_RESULT_SYMBOL([io_schedule_timeout],\n\t[io_schedule_timeout], [], [\n\t\tAC_MSG_RESULT(yes)\n\t\tAC_DEFINE(HAVE_IO_SCHEDULE_TIMEOUT, 1, [yes])\n\t],[\n\t\tAC_MSG_RESULT(no)\n\t])\n])\n\nAC_DEFUN([ZFS_AC_KERNEL_SRC_SCHED], [\n\tZFS_AC_KERNEL_SRC_SCHED_RT_HEADER\n\tZFS_AC_KERNEL_SRC_SCHED_SIGNAL_HEADER\n\tZFS_AC_KERNEL_SRC_IO_SCHEDULE_TIMEOUT\n])\n\nAC_DEFUN([ZFS_AC_KERNEL_SCHED], [\n\tZFS_AC_KERNEL_SCHED_RT_HEADER\n\tZFS_AC_KERNEL_SCHED_SIGNAL_HEADER\n\tZFS_AC_KERNEL_IO_SCHEDULE_TIMEOUT\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}