{
  "module_name": "kernel-fsync-bdev.m4",
  "hash_id": "eb39ea979f5bc828bcf6c2c006c64220e2204b118867747f6212e532c119e06b",
  "original_prompt": "Ingested from zfs-2.2.2/config/kernel-fsync-bdev.m4",
  "human_readable_source": "dnl #\ndnl # 6.6 API change,\ndnl # fsync_bdev was removed in favor of sync_blockdev\ndnl #\nAC_DEFUN([ZFS_AC_KERNEL_SRC_SYNC_BDEV], [\n\tZFS_LINUX_TEST_SRC([fsync_bdev], [\n\t\t#include <linux/blkdev.h>\n\t],[\n\t\tfsync_bdev(NULL);\n\t])\n\n\tZFS_LINUX_TEST_SRC([sync_blockdev], [\n\t\t#include <linux/blkdev.h>\n\t],[\n\t\tsync_blockdev(NULL);\n\t])\n])\n\nAC_DEFUN([ZFS_AC_KERNEL_SYNC_BDEV], [\n\tAC_MSG_CHECKING([whether fsync_bdev() exists])\n\tZFS_LINUX_TEST_RESULT([fsync_bdev], [\n\t\tAC_MSG_RESULT(yes)\n\t\tAC_DEFINE(HAVE_FSYNC_BDEV, 1,\n\t\t    [fsync_bdev() is declared in include/blkdev.h])\n\t],[\n\t\tAC_MSG_CHECKING([whether sync_blockdev() exists])\n\t\tZFS_LINUX_TEST_RESULT([sync_blockdev], [\n\t\t\tAC_MSG_RESULT(yes)\n\t\t\tAC_DEFINE(HAVE_SYNC_BLOCKDEV, 1,\n\t\t\t    [sync_blockdev() is declared in include/blkdev.h])\n\t\t],[\n\t\t\tZFS_LINUX_TEST_ERROR(\n\t\t\t    [neither fsync_bdev() nor sync_blockdev() exist])\n\t\t])\n\t])\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}